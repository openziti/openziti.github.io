<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-guides/Public_Cloud_Deployment/Controller" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Controller Config | OpenZiti</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://openziti.io/docs/guides/Public_Cloud_Deployment/Controller"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="robots" content="index, follow"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Controller Config | OpenZiti"><meta data-rh="true" name="description" content="1.1 Create a VM to be used as the Controller"><meta data-rh="true" property="og:description" content="1.1 Create a VM to be used as the Controller"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://openziti.io/docs/guides/Public_Cloud_Deployment/Controller"><link data-rh="true" rel="alternate" href="https://openziti.io/docs/guides/Public_Cloud_Deployment/Controller" hreflang="en"><link data-rh="true" rel="alternate" href="https://openziti.io/docs/guides/Public_Cloud_Deployment/Controller" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://EXWPKK5PV4-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="OpenZiti RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="OpenZiti Atom Feed">


<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-THVRRJ3GLE"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-THVRRJ3GLE",{anonymize_ip:!0})</script>




<link rel="search" type="application/opensearchdescription+xml" title="OpenZiti" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.42970787.css">
<link rel="preload" href="/assets/js/runtime~main.323ab7b6.js" as="script">
<link rel="preload" href="/assets/js/main.a545230f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="root_VOM9"><span style="color:whitesmoke">Star us on GitHub </span><span style="height:20px"><span><a href="https://github.com/openziti/ziti" data-icon="octicon-star" data-show-count="true" aria-label="Star buttons/github-buttons on GitHub">Star</a></span></span></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://openziti.io" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/ziti-logo-dark.svg" alt="The OpenZiti logo, an open source zero trust network overlay" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/ziti-logo-light.svg" alt="The OpenZiti logo, an open source zero trust network overlay" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/learn/introduction/">Documentation</a><a class="navbar__item navbar__link" href="/docs/downloads">Downloads</a><a href="https://blog.openziti.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Links</a><ul class="dropdown__menu"><li><div class="text-divider"><p>Socials</p></div></li><li><a href="https://www.youtube.com/OpenZiti" target="_blank" title="OpenZiti on YouTube"><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/yt.svg">YouTube</span></a></li><li><a href="https://twitter.com/OpenZiti" target="_blank" title="OpenZiti on Twitter"><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/twit.svg">Twitter</span></a></li><li><a href="https://www.reddit.com/r/openziti" target="_blank" title="OpenZiti Subreddit"><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/reddit-logo.png">Reddit</span></a></li><li><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/ziggy.png"><a href="https://twitter.com/OpenZiggy" target="_blank" title="OpenZiggy on Twitter">Ziggy</a></span></li><li><div class="text-divider"><p>Other</p></div></li><li><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/blog-icon.png"><a href="https://blog.openziti.io/" target="_blank" title="Blog">Blog</a></span></li><li><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/oz-test-kitchen.png"><a href="https://github.com/openziti-test-kitchen" target="_blank" title="Git project for the test kitchen">Test Kitchen</a></span></li><li><a href="https://zeds.openziti.org" target="_blank" title="Developer Sandbox"><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/zeds.png">ZEDS</span></a></li><li><a href="https://netfoundry.io/pricing/" target="_blank" title="NetFoundry-hosted Ziti"><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/nf.svg">CloudZiti</span></a></li></ul></div><a href="https://openziti.discourse.group/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discourse-link" title="Discourse"></a><a href="https://github.com/openziti/ziti" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" title="GitHub"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_eExm docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 sidebar-title"><a class="menu__link" href="/docs/learn/introduction/">LEARN</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/learn/introduction/">What is OpenZiti?</a><button aria-label="Toggle the collapsible sidebar category &#x27;What is OpenZiti?&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/learn/quickstarts/">Quickstarts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Quickstarts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/learn/core-concepts/">Core Concepts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Core Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 sidebar-title"><a class="menu__link" href="/docs/reference/">REFERENCE</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/reference/config-types/">Builtin Config Types</a><button aria-label="Toggle the collapsible sidebar category &#x27;Builtin Config Types&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/reference/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/reference/tunnelers/">Tunnelers</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tunnelers&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/reference/deployments/">Deployments</a><button aria-label="Toggle the collapsible sidebar category &#x27;Deployments&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/reference/configuration/conventions">Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/reference/developer/">Developer</a><button aria-label="Toggle the collapsible sidebar category &#x27;Developer&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/reference/glossary">Glossary</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 sidebar-title"><a class="menu__link" href="/docs/guides/">GUIDES</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/guides/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/local-gateway">Local Gateway</a><button aria-label="Toggle the collapsible sidebar category &#x27;Local Gateway&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/public-cloud-deployment">Public Cloud Deployment</a><button aria-label="Toggle the collapsible sidebar category &#x27;Public Cloud Deployment&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/Public_Cloud_Deployment/">Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/guides/Public_Cloud_Deployment/Controller">Controller</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/Public_Cloud_Deployment/Router">Router</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guides/Public_Cloud_Deployment/Services">Services</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/guides/data-flow-explainer">Data Flow Explainer</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/kubernetes">Kubernetes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Kubernetes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/guides/hsm/">Hardware Security Modules (HSM)</a><button aria-label="Toggle the collapsible sidebar category &#x27;Hardware Security Modules (HSM)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/securing-apis">Securing APIs</a><button aria-label="Toggle the collapsible sidebar category &#x27;Securing APIs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/troubleshooting">Troubleshooting</a><button aria-label="Toggle the collapsible sidebar category &#x27;Troubleshooting&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/public-cloud-deployment"><span itemprop="name">Public Cloud Deployment</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Controller</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>1.0 Configure the controller</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="11-create-a-vm-to-be-used-as-the-controller">1.1 Create a VM to be used as the Controller<a href="#11-create-a-vm-to-be-used-as-the-controller" class="hash-link" aria-label="Direct link to 1.1 Create a VM to be used as the Controller" title="Direct link to 1.1 Create a VM to be used as the Controller">​</a></h2><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Azure</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">AWS</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Google</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Digital Ocean</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Oracle</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">IBM</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><ul><li>It is easier to use <strong>resource group</strong> to organize and manage all your resources for this demo.</li><li>Create a <strong>resource group</strong> and change into that resource group.</li><li>Use <strong>+ Create</strong> button to create a resource.</li><li>Azure will take you to the <strong>Marketplace</strong> screen. In the search bar, type in <strong>Ubuntu Server</strong>.</li><li>Choose &quot;<strong>Ubuntu Server 22.04 LTS</strong>&quot;.</li></ul><p><img loading="lazy" alt="Diagram" src="/assets/images/Create-Azure1-ddb22c1cba5fdde0eba7163f28aa827b.jpg" width="1091" height="585" class="img_ev3q"></p><p>On the <strong>Create a virtual machine</strong> screen.</p><ul><li>The <strong>Subscription</strong> and <strong>Resource group</strong> should already be filled. </li><li>In the <strong>Instance details</strong> section, enter the <strong>VM name</strong>.</li><li>Select the <strong>Region</strong> to host your VM.</li><li>Leave default <strong>Availability options</strong> and <strong>Security type</strong>(Standard).</li><li>Leave the selected image <strong>Ubuntu Server 22.04 LTS x64 Gen2</strong>.</li><li>For the Size, choose the appropriate size for your application.  For this demo, <strong>Standard_B2s(2CPU,4 GB)</strong> size was used.</li></ul><p><img loading="lazy" alt="Diagram" src="/assets/images/Create-Azure2-99b55e3435e77200f49b99d3bd7219e4.jpg" width="895" height="572" class="img_ev3q"></p><ul><li><p>Next, choose <strong>Authentication type</strong> to login to the VM. (We highly <strong>discourage</strong> login to the VM using Password). </p></li><li><p>Enter an username (<strong>remember the username, you will need it to login to the VM</strong>), or leave the default user <strong>azureuser</strong></p></li><li><p>Choose your ssh key</p></li><li><p>For <strong>inbound ports</strong>, select the ssh. You can add extra port based on your OpenZiti setup. </p></li><li><p>You can leave everything default.
Press <strong>Review + create</strong>
<img loading="lazy" alt="Diagram" src="/assets/images/Create-Azure4-d3d40db8fac36e3162a53aff6992f256.jpg" width="862" height="538" class="img_ev3q"></p></li><li><p>After the Validation passed. Press <strong>Create</strong> to create VM.
<img loading="lazy" alt="Diagram" src="/assets/images/Create-Azure5-7e2830b8120aa8110182f519cf60b7ad.jpg" width="851" height="569" class="img_ev3q"></p></li><li><p><strong>Important:</strong> If you are creating the network controller, you need to associate an DNS name to the public IP of your VM.</p></li><li><p>You can do this from &quot;Virtual machine&quot; page.
<img loading="lazy" alt="Diagram" src="/assets/images/Create-Azure6-90b8e65c111dde36da53822fd1bf4a5c.jpg" width="1312" height="357" class="img_ev3q"></p></li></ul></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ul><li>login to the <strong>AWS console</strong>. </li><li>go to the <strong>EC2 dashboard</strong>. </li><li>Click on the <strong>Instances</strong>. </li><li><strong>Launch the instances</strong></li></ul><p><img loading="lazy" alt="Diagram" src="/assets/images/Create-AWS1-72424b3465fab46169728d0f7a1b7336.jpg" width="1299" height="201" class="img_ev3q"></p><ul><li><p>Fill the <strong>Name</strong> of your instance.
<img loading="lazy" alt="Diagram" src="/assets/images/Create-AWS2-4634b5275400b43e0248c1c204e1a25b.jpg" width="1007" height="474" class="img_ev3q"></p></li><li><p>On the Quick start select <strong>Ubuntu</strong>. </p></li><li><p>Select the <strong>Ubuntu Server 22.04 LTS</strong>.</p></li><li><p>Leave the Architecture as <strong>64-bit (x86)</strong></p></li><li><p>Select the instance type <strong>t2.medium</strong></p></li></ul><p><img loading="lazy" alt="Diagram" src="/assets/images/Create-AWS3-944a11b7557aa4f3edebec812a8834fd.jpg" width="826" height="575" class="img_ev3q"></p><ul><li>In the <strong>Key pair (login.)</strong> section, choose the key name which you already created.</li><li>In the <strong>Network settings</strong> section, choose the VPC for your VM.</li><li>Select the subnet.</li><li>Select <strong>Enable</strong> for <strong>Auto assign public IP</strong></li></ul><p><img loading="lazy" alt="Diagram" src="/assets/images/Create-AWS4-2ace42a082ae0d48cb634b115262c0a4.jpg" width="1063" height="582" class="img_ev3q"></p><ul><li>Click on <strong> Create security group</strong> to allow traffic into your VM.</li><li>Name the security group.</li><li>Create the Firewall rule based on controller and ER. </li><li>For controller. allow the TCP port 8440-8443 (default ports from quickstart) along with SSH. </li><li>For ER we have to allow TCP port 80, 443 and SSH,</li></ul><p><strong>SG For the controller.</strong>
<img loading="lazy" alt="Diagram" src="/assets/images/Firewall-AWS-Controller-912ca5f945e32ecccdd2bbcbca5fb511.jpg" width="1090" height="981" class="img_ev3q"></p><p><strong>SG for the ER</strong>
<img loading="lazy" alt="Diagram" src="/assets/images/Firewall-AWS-ER-bfcbf0c5a898ea5c4564749a422dd2ee.jpg" width="1194" height="965" class="img_ev3q"></p><ul><li>Under <strong>Configure storage</strong> section, choose at least <strong>20</strong> GiB storage space.</li></ul><p>Now click on <strong>Launch instance</strong></p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ul><li><p>Login to the GCP console. </p></li><li><p>Go to <strong>COMPUTE ENGINE</strong> dashboard. </p></li><li><p>Click on <strong>CREATE INSTANCE</strong>.
<img loading="lazy" alt="Diagram" src="/assets/images/Create-GCP1-ba14e3330cfa18b53ec231b100afd4c8.jpg" width="1287" height="282" class="img_ev3q"></p></li><li><p>Configure the VM as follow:</p></li><li><p><strong>Name</strong> of the VM</p></li><li><p><strong>Region</strong> and <strong>Zone</strong></p></li><li><p>Choose <strong>e2-medium</strong> for <strong>Machine type</strong>
<img loading="lazy" alt="Diagram" src="/assets/images/Create-GCP4-e884d3870b1ec7b9ae01cf5d3df60aa3.jpg" width="680" height="585" class="img_ev3q"></p></li><li><p>Hit <strong>CHANGE</strong> at the &quot;Boot disk** section to change the OS image.</p></li><li><p>On the &quot;Boot disk&quot; page, Choose <strong>PUBLIC IMAGES</strong></p></li><li><p>Choose <strong>Ubuntu</strong> as the Operating system</p></li><li><p>Select <strong>Ubuntu 22.04 LTS, x86</strong> Version. </p></li><li><p>Hit <strong>SELECT</strong> to complete the selection.
<img loading="lazy" alt="Diagram" src="/assets/images/Create-GCP5-eb08ecf042d8ee87d6f252438afeabd3.jpg" width="785" height="617" class="img_ev3q"></p></li><li><p>Open <strong>Advanced Options</strong>, and then open <strong>Networking</strong></p></li><li><p><strong>Highly recommended:</strong> assign a Network tags.  This will help you configuring the firewalls later.</p></li><li><p><strong>For local GW VM</strong>, <strong>Enable</strong> IP forwarding at this time. You will not be able to change this setting from the console after the VM is created.
<img loading="lazy" alt="Diagram" src="/assets/images/Create-GCP6-8be95201d51a2140d42648f0fad29602.jpg" width="558" height="302" class="img_ev3q"></p></li><li><p><strong>Optional</strong> you can reserve static external IP ADDRESS under <strong>Networking/Network interfaces</strong> section. Reserving static IP is useful for the Network controller in case you have to shut down the VM.
<img loading="lazy" alt="Diagram" src="/assets/images/Create-GCP7-9cd9f7d510985d11c65208c52da39420.jpg" width="607" height="679" class="img_ev3q"></p></li><li><p>Now click on <strong>CREATE</strong> to create the virtual machine.</p></li></ul></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ul><li>Login to the Digital Ocean console, create a <strong>Droplets</strong> from the dropdown menu on the upper right hand side.</li></ul><p><img loading="lazy" alt="Diagram" src="/assets/images/Create1-75ec2fe64ab2580eb51cc81404701d35.jpg" width="298" height="156" class="img_ev3q"></p><ul><li><p>On the &quot;Create Droplets&quot; screen, Choose &quot;<strong>Ubuntu</strong>&quot;, version &quot;<strong>22.04</strong>&quot;.</p></li><li><p>For the Size, choose the appropriate size for your application.  For this guide, a smaller size was used.
<img loading="lazy" alt="Diagram" src="/assets/images/Create2-4dafd219cfd0597cc3e264192d7f0d6d.jpg" width="1016" height="893" class="img_ev3q"></p></li><li><p>Next, choose a ssh-key to login to the VM. (We highly discourage login to the VM using Password),</p></li><li><p>then <strong>Create Droplet</strong>
<img loading="lazy" alt="Diagram" src="/assets/images/Create3-b1c2bc10205d13c45ed7ace53485287b.jpg" width="1090" height="964" class="img_ev3q"></p></li></ul></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ul><li>Login to the <strong>ORACLE Cloud</strong> console. </li><li>Go to Home dashboard.</li><li>Click on <strong>Instances</strong> (Under <strong>Compute</strong> category). </li><li>Create an instance.</li><li>Name the instance. </li><li>Choose the compartment.</li><li>Select the Availability domain under Placement.</li><li>Leave the security disabled</li></ul><p><img loading="lazy" alt="Diagram" src="/assets/images/Create-OCI1-f408c6d8a76233b0da275db20e9728a9.jpg" width="1030" height="514" class="img_ev3q"></p><ul><li>Under the &quot;Image and shape selection&quot;, click <strong>Change image</strong> icon.</li><li>Select the <strong>Ubuntu</strong> icon. </li><li>Select the <strong>Canonical Ubuntu 22.04</strong>. </li><li>Select any image build. And press <strong>Select image</strong></li><li>Under the &quot;Shape&quot; selection, Choose <strong>Change shape</strong>. </li><li>Change to <strong>2</strong> OCUPs and <strong>4</strong> GB memory.</li></ul><p><img loading="lazy" alt="Diagram" src="/assets/images/Create-OCI2-f2c989209acccf4d4e7b220eac8051f1.jpg" width="857" height="445" class="img_ev3q"></p><ul><li>On the networking section.</li><li>Select your <strong>Primary network</strong> and <strong>Subnet</strong>.</li><li>For <strong>Public IPv4 address</strong>, check <strong>Assign a public IPv4 address</strong>.</li></ul><p><img loading="lazy" alt="Diagram" src="/assets/images/Create-OCI3-2443d1be11050e44699b365015ac2c1d.jpg" width="828" height="461" class="img_ev3q"></p><ul><li>In the <strong>Add SSH keys</strong> section, choose how you want your ssh keys generated. <strong>We strongly discourage use password to login to the VM</strong>.</li><li>Leave default boot volume.</li><li>Now click on <strong>Create</strong>.</li></ul><p><img loading="lazy" alt="Diagram" src="/assets/images/Create-OCI4-df9de88c0ff0367e808d88d631e03d46.jpg" width="968" height="464" class="img_ev3q"></p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ul><li>Login to the IBM cloud.</li><li>Go to dashboard.</li><li>Click on <strong>Create resource  +</strong> on the top right</li><li>Filter on &quot;Compute&quot; on the Category (on the left)</li><li>Choose <strong>Virtual Server for Classic</strong>.</li></ul><p><img loading="lazy" alt="Diagram" src="/assets/images/Create-IBM1-e72ce331716b2e91e158b7bbfe02019d.jpg" width="1336" height="545" class="img_ev3q"></p><ul><li>Leave the &quot;Type of virtual server&quot; as <strong>Public</strong>. </li><li>Give it your <strong>Hostname</strong>.</li></ul><p><img loading="lazy" alt="Diagram" src="/assets/images/Create-IBM2-8262c7990b6e83de5cc66c67bb5d4ea5.jpg" width="933" height="596" class="img_ev3q"></p><ul><li>Select the location. </li><li>Select the profile, the size of <strong>B1.2x4</strong> is adequate for our exercise.</li><li>Choose the SSH key.</li><li>On the &quot;Operating system&quot; select the <strong>Ubuntu</strong>. Select the version <strong>22.04</strong></li></ul><p><img loading="lazy" alt="Diagram" src="/assets/images/Create-IBM3-3e792f08850baf1a3cbcbf09c138ff74.jpg" width="980" height="562" class="img_ev3q"></p><ul><li>Leave everything else default except <strong>Add-ons</strong>, turn the <strong>Firewall</strong> features on.</li></ul><p><img loading="lazy" alt="Diagram" src="/assets/images/Create-IBM4-00f7028ebbe61f5de9183d4d6a5805ee.jpg" width="1018" height="662" class="img_ev3q"></p><ul><li>Alternative, you can select <strong>allow_all</strong> under the &quot;Public security group&quot;, and leave the Add-on Firewall feature off.  <strong>This is not recommended as it opens your VM for attacks</strong>.</li><li>Press <strong>Create</strong> on the right side menu to create the VM.</li></ul></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="12-firewall">1.2 Firewall<a href="#12-firewall" class="hash-link" aria-label="Direct link to 1.2 Firewall" title="Direct link to 1.2 Firewall">​</a></h2><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Azure</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">AWS</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Google</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Digital Ocean</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Oracle</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">IBM</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><ul><li>Azure&#x27;s firewall is blocking all incoming access to the VM. You will need to open ports you specified for controller and ZAC (if you plan to use ZAC). Here is a example of the firewall ports if you used the default ports (TCP 8440-8443).
<img loading="lazy" alt="Diagram" src="/assets/images/Controller-Firewall-Azure-11e435600f203cabfebaac0365d830b3.jpg" width="1309" height="463" class="img_ev3q"></li></ul></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ul><li>The steps in the create VM section already specified the ports need to be opened on the AWS firewall.</li><li>You can double check if the required ports are open. Here is a example of the firewall ports if you used the default ports(TCP 8440-8443).
<img loading="lazy" alt="Diagram" src="/assets/images/Firewall-AWS-Controller-912ca5f945e32ecccdd2bbcbca5fb511.jpg" width="1090" height="981" class="img_ev3q"></li></ul></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ul><li><p>GCP’s default firewall is blocking all incoming access to the VM. You will need to open ports you specified for controller and ZAC (if you plan to use ZAC). Here is a example of the firewall ports if you used the default ports.</p></li><li><p>Go to your VM screen, click on the <strong>Network interfaces</strong> name (i.e. nic0)</p></li><li><p>Click on <strong>Firewall</strong> menu on the left side to bring up the firewall screen</p></li><li><p>On the firewall screen, click on <strong>+ CREATE FIREWALL RULE</strong> to create new rules</p></li><li><p>Give a meaningful <strong>name</strong> to your firewall rule</p></li><li><p>Choose your <strong>Network</strong></p></li><li><p>Leave Direction of traffic as <strong>Ingress</strong></p></li><li><p>Action <strong>Allow</strong></p></li><li><p>Targets, you can use &quot;All instances in the network&quot; (if you did not specify &quot;Network tags&quot; for your VM). In this example, we are using <strong>Specified target tags</strong> option.</p></li><li><p>Enter <strong>Target tags</strong> for your VM. In this example, our tag is <strong>nc</strong></p></li><li><p>Enter Source IPv4 ranges: <strong>0.0.0.0/0</strong></p></li><li><p>For the controller we have to allow the <strong>TCP</strong> port <strong>8440-8443</strong> along with SSH port (<strong>22</strong>).
Hit <strong>CREAETE</strong> to create rules.
<img loading="lazy" alt="Diagram" src="/assets/images/Controller-Firewall-GCP-6f7549eda96b57b157e4a289eed2300c.jpg" width="564" height="971" class="img_ev3q"></p></li><li><p>The firewall rule also shows up on your &quot;Network interface details&quot; screen.</p></li><li><p>From your VM screen, click on the <strong>Network interfaces</strong> name (i.e. nic0)
<img loading="lazy" alt="Diagram" src="/assets/images/Controller-Firewall-GCP2-d569f831902b4282b0c047adc978e7f9.jpg" width="1194" height="599" class="img_ev3q"></p></li></ul></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>DigitalOcean by default does not setup firewall for the VM.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><hr><p>Oracle cloud by default blocks all incoming traffic to the VM. You will need to open ports you specified for controller and ZAC (if you plan to use ZAC). </p><ul><li>First, we need to <strong>Create security group</strong></li><li>From the <strong>Networking</strong> category, select the <strong>Virtual cloud networks</strong>. </li><li>Select the VCN your VM is in.</li><li>On the left side menu, select the <strong>Network Security Group</strong>.</li><li>Select <strong>Create Network Security Group</strong>.</li><li>Name the security group and select the next.</li><li>Now create rules for ingress traffic. </li><li>Port 22/TCP for SSH</li><li>OpenZiti ports: 8440-8443/TCP (default ports from quickstart)</li><li>Also create a rule to allow all traffic outbound (<strong>Egress</strong>).</li></ul><p>Following is the example of the Security Group for the controller</p><p><img loading="lazy" alt="Diagram" src="/assets/images/Firewall-OCI1-8a3da23e3a59af75883f26575f69410a.jpg" width="1312" height="577" class="img_ev3q"></p><ul><li>After the security group is created, attach it to the instance.</li><li>From the &quot;Instance details&quot; screen, select <strong>Edit</strong> under the <strong>Network security groups</strong> section.</li><li>Select the security group from the drop down and press <strong>Save changes</strong>.</li></ul><p><img loading="lazy" alt="Diagram" src="/assets/images/Firewall-OCI2-329667c52918ab4e842823746dcd1c13.jpg" width="1006" height="564" class="img_ev3q"></p><hr><p><strong>NOTE 1</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Oracle Cloud also uses Security Lists (on the subnet) to marshal the traffic, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">please make sure the setting under Security Lists is not conflicting</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">with your security group rules.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><hr><p><strong>NOTE 2</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">It is possible that after the security group configuration, the ufw does not</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">work correctly on the VM.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You should <strong>Turn on ufw</strong> and <strong>restart the VM</strong> after the security group configuration.</p><ul><li>ufw must be turned on for traffic to get to the VM.</li><li>after ufw is enabled, setup <strong>allow</strong> traffic for OpenZiti ports:</li></ul><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo ufw enable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo ufw allow 8440:8443/tcp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo shutdown -r 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>If you turn on the firewall feature, you will need to config firewall rules. </p><ul><li>Open the Instance detail screen</li><li>Find the <strong>Firewall details</strong> at the bottom right. Open it.</li></ul><p>Add the following rules.</p><ul><li>ssh: port 22/TCP</li><li>OpenZiti ports: 8440-8443/TCP (default ports from quickstart)</li><li>Deny rules to deny all other traffic</li></ul><p>Make sure the firewall is active, it should display <strong>Processing all rules</strong> if it is active.</p><p><img loading="lazy" alt="Diagram" src="/assets/images/Firewall-IBM-controller-2938edc23ed32cdc2dc9448218e1129a.jpg" width="1605" height="401" class="img_ev3q"></p></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="13-login-and-setup-controller">1.3 Login and Setup Controller<a href="#13-login-and-setup-controller" class="hash-link" aria-label="Direct link to 1.3 Login and Setup Controller" title="Direct link to 1.3 Login and Setup Controller">​</a></h2><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Azure</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">AWS</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Google</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Digital Ocean</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Oracle</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">IBM</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><ul><li>Once the VM is created, we can get the IP address (and the DNS name) of the VM from the Virtual machine screen.</li><li>Login to the VM by using defined user &quot;username&quot; (default username is azureuser) and the private sshkey:</li></ul><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ssh -i &lt;private_key&gt; &lt;username&gt;@&lt;ip&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">or</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssh -i &lt;private_key&gt; &lt;username&gt;@&lt;dns-name&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Use the DNS name to setup the controller with <a href="/docs/learn/quickstarts/network/hosted/">Host OpenZiti Anywhere</a>. </p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ul><li>Once the VM is created, we can get the IP address (and the DNS name) of the VM from the Instance detail screen.</li><li><strong>NOTE:</strong> DNS name is only available if you enabled <strong>DNS Hostnames</strong> under VPC.</li><li>Login to the VM by using user name &quot;ubuntu&quot;:</li></ul><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ssh -i &lt;private_key&gt; ubuntu@&lt;ip&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">or</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssh -i &lt;private_key&gt; ubuntu@&lt;dns-name&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>export the DNS record </li></ul><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export EXTERNAL_DNS=$(dig +short -x $(curl -s icanhazip.com) | sed &quot;s/.$//&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then follow the <a href="/docs/learn/quickstarts/network/hosted/#express-install">Host OpenZiti Anywhere</a> guide to setup the controller.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ul><li><p>Once the VM is created, we can login through <strong>SSH</strong> button on the VM instances screen.
<img loading="lazy" alt="Diagram" src="/assets/images/GCP-login1-4a85ef6f0b3a16ea562e33e71692d37f.jpg" width="951" height="227" class="img_ev3q"></p></li><li><p>export the DNS record </p></li></ul><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export EXTERNAL_DNS=$(dig +short -x $(curl -s icanhazip.com) | sed &quot;s/.$//&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then follow the <a href="/docs/learn/quickstarts/network/hosted/#express-install">Host OpenZiti Anywhere</a> guide to setup the controller.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ul><li>Once the VM is created, we can get the IP address of the droplet from the Resources screen.</li><li>Login to the VM by using user &quot;root&quot; and IP address:</li></ul><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ssh root@&lt;ip&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then follow the <a href="/docs/learn/quickstarts/network/hosted/">Host OpenZiti Anywhere</a> to setup the controller. You must replace the EXTERNAL_DNS with the following command before running the quickstart.</p><ul><li><strong>export EXTERNAL_DNS=&quot;$(curl -s eth0.me)&quot;</strong></li></ul><p>This ensures the Controller setup by the quickstart is advertising the external IP address of the VM.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ul><li>Once the VM is created, we can get the IP address of the VM from the instance details screen.</li><li>Login to the VM by using user name &quot;ubuntu&quot; and the IP address:</li></ul><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ssh -i &lt;private_key&gt; ubuntu@&lt;ip&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then follow the <a href="/docs/learn/quickstarts/network/hosted/">Host OpenZiti Anywhere</a> to setup the controller. You must replace the EXTERNAL_DNS with the following command before running the quickstart.</p><ul><li><strong>export EXTERNAL_DNS=&quot;$(curl -s eth0.me)&quot;</strong></li></ul><p>This ensures the Controller setup by the quickstart is advertising the external IP address of the VM.</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ul><li>Once the VM is created, we can get the IP address of the VM from the Devices screen.</li><li>Login to the VM by using user name &quot;ubuntu&quot; and the IP address:</li></ul><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ssh -i &lt;private_key&gt; ubuntu@&lt;ip&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>export the DNS record </li></ul><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export EXTERNAL_DNS=$(dig +short -x $(curl -s icanhazip.com) | sed &quot;s/.$//&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then follow the <a href="/docs/learn/quickstarts/network/hosted/#express-install">Host OpenZiti Anywhere</a> guide to setup the controller.</p></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="14-setup-ziti-administration-console-zac">1.4 Setup Ziti Administration Console (ZAC)<a href="#14-setup-ziti-administration-console-zac" class="hash-link" aria-label="Direct link to 1.4 Setup Ziti Administration Console (ZAC)" title="Direct link to 1.4 Setup Ziti Administration Console (ZAC)">​</a></h2><p><strong>Optional</strong></p><p>ZAC provides GUI for managing the OpenZiti network. If you prefer UI over CLI to manage network, please following the <a href="/docs/learn/quickstarts/zac/">ZAC Setup Guide</a> to setup ZAC before going to the next section.</p><p><strong>Quickfix:</strong></p><hr><p>To setup npm executables, you can follow <a href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-22-04" target="_blank" rel="noopener noreferrer">install Node.js guide</a>.</p><p>For example, this is how to install the version of node needed for ZAC.</p><p>Setup the repo:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -sL https://deb.nodesource.com/setup_18.x -o nodesource_setup.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo bash nodesource_setup.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Install nodejs:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt install nodejs</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>After the nodejs is installed, following the rest of <a href="/docs/learn/quickstarts/zac/#cloning-from-github">ZAC Setup Guide</a> to setup ZAC.</p><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="15-helpers">1.5 Helpers<a href="#15-helpers" class="hash-link" aria-label="Direct link to 1.5 Helpers" title="Direct link to 1.5 Helpers">​</a></h2><p>Following helpers are needed to complete the guides for router and services.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="151-add-environment-variables-back-to-the-shell">1.5.1 Add Environment Variables Back to the Shell<a href="#151-add-environment-variables-back-to-the-shell" class="hash-link" aria-label="Direct link to 1.5.1 Add Environment Variables Back to the Shell" title="Direct link to 1.5.1 Add Environment Variables Back to the Shell">​</a></h3><p>Source the environment variables when you log back in the shell</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">source ~/.ziti/quickstart/$(hostname -s)/$(hostname -s).env</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If the environment variables are sourced correctly, you can do the following to check:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">echo $ZITI_HOME</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Output:</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/root/.ziti/quickstart/OMSINER</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="152-change-ziti-edge-admin-password">1.5.2 Change Ziti edge admin password<a href="#152-change-ziti-edge-admin-password" class="hash-link" aria-label="Direct link to 1.5.2 Change Ziti edge admin password" title="Direct link to 1.5.2 Change Ziti edge admin password">​</a></h3><p>Find the Current admin edge login password of controller (if you forget the password):</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">grep &quot;export ZITI_PWD&quot; ~/.ziti/quickstart/$(hostname -s)/$(hostname -s).env</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Or if you have environment variable setup correctly:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">echo $ZITI_PWD</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To update the passwd</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ziti edge update authenticator updb -s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Important:</strong> if you change the password, you must update the passwd (ZITI_PWD) in the &quot;~/.ziti/quickstart/$(hostname -s)/$(hostname -s).env&quot; file. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="153-some-useful-command-for-the-router">1.5.3 Some useful command for the Router<a href="#153-some-useful-command-for-the-router" class="hash-link" aria-label="Direct link to 1.5.3 Some useful command for the Router" title="Direct link to 1.5.3 Some useful command for the Router">​</a></h3><p><strong> login the CLI</strong></p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">zitiLogin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Verify ER status</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ziti edge list edge-routers</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Delete the ER</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ziti edge delete edge-routers $ROUTER_NAME</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ziti edge delete edge-routers $ROUTER_ID</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Update the ER</strong></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ziti edge update edge-router $ROUTER_NAME [flags]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ziti edge update edge-router $ROUTER_ID [flags]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>example to update attributes: </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ziti edge update edge-router $ROUTER_NAME -a private</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/openziti/ziti-doc/tree/main/docusaurus/docs/guides/Public_Cloud_Deployment/Controller.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/guides/Public_Cloud_Deployment/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Intro</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/guides/Public_Cloud_Deployment/Router"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Router</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#11-create-a-vm-to-be-used-as-the-controller" class="table-of-contents__link toc-highlight">1.1 Create a VM to be used as the Controller</a></li><li><a href="#12-firewall" class="table-of-contents__link toc-highlight">1.2 Firewall</a></li><li><a href="#13-login-and-setup-controller" class="table-of-contents__link toc-highlight">1.3 Login and Setup Controller</a></li><li><a href="#14-setup-ziti-administration-console-zac" class="table-of-contents__link toc-highlight">1.4 Setup Ziti Administration Console (ZAC)</a></li><li><a href="#15-helpers" class="table-of-contents__link toc-highlight">1.5 Helpers</a><ul><li><a href="#151-add-environment-variables-back-to-the-shell" class="table-of-contents__link toc-highlight">1.5.1 Add Environment Variables Back to the Shell</a></li><li><a href="#152-change-ziti-edge-admin-password" class="table-of-contents__link toc-highlight">1.5.2 Change Ziti edge admin password</a></li><li><a href="#153-some-useful-command-for-the-router" class="table-of-contents__link toc-highlight">1.5.3 Some useful command for the Router</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a class="footer__link-item" href="/policies/CODE_OF_CONDUCT">Policies</a><span class="footer__link-separator">·</span><a href="https://netfoundry.io/pricing/" target="_blank" rel="noopener noreferrer" class="footer__link-item">CloudZiti</a><span class="footer__link-separator">·</span><a href="https://blog.openziti.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 NetFoundry Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.323ab7b6.js"></script>
<script src="/assets/js/main.a545230f.js"></script>
</body>
</html>