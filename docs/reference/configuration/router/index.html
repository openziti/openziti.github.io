<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-reference/configuration/router" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Router Configuration Reference | OpenZiti</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://openziti.io/docs/reference/configuration/router"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="robots" content="index, follow"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Router Configuration Reference | OpenZiti"><meta data-rh="true" name="description" content="OpenZiti uses configuration files for controllers that are in the YAML format."><meta data-rh="true" property="og:description" content="OpenZiti uses configuration files for controllers that are in the YAML format."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://openziti.io/docs/reference/configuration/router"><link data-rh="true" rel="alternate" href="https://openziti.io/docs/reference/configuration/router" hreflang="en"><link data-rh="true" rel="alternate" href="https://openziti.io/docs/reference/configuration/router" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://EXWPKK5PV4-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-5SF399H3",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>





<link rel="search" type="application/opensearchdescription+xml" title="OpenZiti" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.8f1ee061.css">
<script src="/assets/js/runtime~main.88c9111d.js" defer="defer"></script>
<script src="/assets/js/main.1ad8e59f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5SF399H3" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>




<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/ziti-logo-dark.svg"><link rel="preload" as="image" href="/img/ziti-logo-light.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="root_VOM9"><span style="color:whitesmoke">Star us on GitHubÂ </span><span style="height:20px"><span><a href="https://github.com/openziti/ziti" data-icon="octicon-star" data-show-count="true" aria-label="Star buttons/github-buttons on GitHub">Star</a></span></span></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://openziti.io" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/ziti-logo-dark.svg" alt="The OpenZiti logo, an open source zero trust network overlay" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/ziti-logo-light.svg" alt="The OpenZiti logo, an open source zero trust network overlay" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/learn/introduction/">Documentation</a><a class="navbar__item navbar__link" href="/docs/downloads">Downloads</a><a href="https://blog.openziti.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Links</a><ul class="dropdown__menu"><li class=""><div class="text-divider"><p>Socials</p></div></li><li class=""><a href="https://www.youtube.com/OpenZiti" target="_blank" title="OpenZiti on YouTube"><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/yt.svg">YouTube</span></a></li><li class=""><a href="https://x.com/OpenZiti" target="_blank" title="OpenZiti on X(formerly Twitter)"><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/twit.svg">Twitter</span></a></li><li class=""><a href="https://www.reddit.com/r/openziti" target="_blank" title="OpenZiti Subreddit"><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/reddit-logo.png">Reddit</span></a></li><li class=""><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/ziggy.png"><a href="https://x.com/OpenZiggy" target="_blank" title="OpenZiggy on Twitter">Ziggy</a></span></li><li class=""><div class="text-divider"><p>Other</p></div></li><li class=""><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/blog-icon.png"><a href="https://blog.openziti.io/" target="_blank" title="Blog">Blog</a></span></li><li class=""><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/oz-test-kitchen.png"><a href="https://github.com/openziti-test-kitchen" target="_blank" title="Git project for the test kitchen">Test Kitchen</a></span></li></ul></div><a href="https://openziti.discourse.group/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discourse-link" title="Discourse"></a><a href="https://github.com/openziti/ziti" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" title="GitHub"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_eExm"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 sidebar-title"><a class="menu__link" href="/docs/learn/introduction/">LEARN</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/learn/introduction/">What is OpenZiti?</a><button aria-label="Expand sidebar category &#x27;What is OpenZiti?&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/learn/quickstarts/">Quickstarts</a><button aria-label="Expand sidebar category &#x27;Quickstarts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/core-concepts">Core Concepts</a><button aria-label="Expand sidebar category &#x27;Core Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/learn/identity-providers/">Identity Providers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 sidebar-title"><a class="menu__link" href="/docs/reference/">REFERENCE</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/reference/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/reference/configuration/conventions">Configuration</a><button aria-label="Collapse sidebar category &#x27;Configuration&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/configuration/controller">Controller</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/reference/configuration/router">Router</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/reference/ha/overview">Controller Clustering</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/reference/tunnelers/">Tunnelers</a><button aria-label="Expand sidebar category &#x27;Tunnelers&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/reference/command-line/login">CLI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/reference/logging">Logging</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/reference/config-types/">Config Types</a><button aria-label="Expand sidebar category &#x27;Config Types&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/reference/events">Events</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/reference/developer/">Developer</a><button aria-label="Expand sidebar category &#x27;Developer&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/reference/glossary">Glossary</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 sidebar-title"><a class="menu__link" href="/docs/guides/">GUIDES</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/guides/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/deployments">Deployments</a><button aria-label="Expand sidebar category &#x27;Deployments&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/guides/external-auth/">Configuring OIDC</a><button aria-label="Expand sidebar category &#x27;Configuring OIDC&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/guides/hsm/">Hardware Keys</a><button aria-label="Expand sidebar category &#x27;Hardware Keys&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/topologies">Topologies</a><button aria-label="Expand sidebar category &#x27;Topologies&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/troubleshooting">Troubleshooting</a><button aria-label="Expand sidebar category &#x27;Troubleshooting&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/reference/configuration/conventions"><span itemprop="name">Configuration</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Router</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Router Configuration Reference</h1></header>
<p>OpenZiti uses configuration files for controllers that are in the <a href="https://yaml.org/" target="_blank" rel="noopener noreferrer">YAML</a> format.
All configuration files are also subject to a set of <a href="/docs/reference/configuration/conventions">conventions</a> such as
environment variable substitution, identity sections, and addressing formats.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sections">Sections<a href="#sections" class="hash-link" aria-label="Direct link to Sections" title="Direct link to Sections">â</a></h2>
<p>The router configuration file has several top level configuration sections that group together
related configuration settings.</p>
<ul>
<li><a href="#ctrl"><code>ctrl</code></a> - configuration for controller addressing/connections</li>
<li><a href="#dialers"><code>dialers</code></a> - configures dialers used when router termination is used to contact target
services for overlay egress</li>
<li><a href="#edge"><code>edge</code></a> - edge specific configuration, required to enable edge functionality (e.g. edge
SDK connectivity)</li>
<li><a href="#forwarder"><code>forwarder</code></a> - configures various forwarder settings (e.g. link latency probing, idle
sessions, dial queues, etc.)</li>
<li><a href="#healthChecks"><code>healthChecks</code></a> - enables router health checks for controller connectivity</li>
<li><a href="#identity"><code>identity</code></a> - configures the certificates used for outbound client connections, server
listening, and CA bundles</li>
<li><a href="#link"><code>link</code></a> - the type of link listeners available for incoming router link and outgoing
router link connections</li>
<li><a href="#listeners"><code>listeners</code></a> - the interfaces, ports, and addresses exposed for connection by outside
clients (e.g. edge SDK clients, non-edge connections)</li>
<li><a href="#metrics"><code>metrics</code></a> - configures metrics reporting</li>
<li><a href="#trace"><code>trace</code></a> - adds a peek handler to all router messaging for debug purposes</li>
<li><a href="#transport"><code>transport</code></a> - enables transport level configuration that affects all instances of
specific transports</li>
<li><a href="#profile"><code>profile</code></a> - enables profiling of router memory and CPU statistics</li>
<li><a href="#web"><code>web</code></a> - configures API presentation exposure</li>
<li><a href="#v"><code>v</code></a> - A special section to note the version of the configuration file, only <code>v: 3</code> is
currently supported</li>
</ul>
<p>The standard OpenZiti experience minimally requires the following sections:</p>
<ul>
<li><code>ctrl</code></li>
<li><code>dialers</code></li>
<li><code>edge</code></li>
<li><code>identity</code></li>
<li><code>link</code></li>
<li><code>listeners</code></li>
<li><code>v</code></li>
</ul>
<p>Of those values, to start the controller only the <code>ctrl</code>, <code>v</code> and <code>identity</code> sections are required.
Not including
the <code>dialer</code> section will not allow the router to connect to terminate services. Not including
the <code>edge</code> section will start the controller in
&quot;fabric only&quot; mode and will not support any edge functionality or concepts (edge SDK connectivity).
Not including the
<code>link</code> section will not allow the router to connect/dial or accept/host other routers for mesh
establishment. Not including the <code>listeners</code> configuration will not allow external connections to
on-ramp connections over the mesh.</p>
<p>Example Minimum Router Configuration:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">v: 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">identity:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  cert: router.cert.pem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  server_cert: router.server.cert.pem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  key: router.key.pem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ca: ca-chain.cert.pem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ctrl:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  endpoint: tls:127.0.0.1:6262</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dialers:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - binding: udp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - binding: transport</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edge:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  csr:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    country: US</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    province: NC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    locality: Charlotte</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    organization: OpenZiti</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    organizationalUnit: Ziti</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sans:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      dns:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - &quot;localhost&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ip:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - &quot;127.0.0.1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">link:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  listeners:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - binding: transport</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      bind: tls:127.0.0.1:6002</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      advertise: tls:127.0.0.1:6002</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  dialers:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - binding: transport</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">listeners:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - binding: edge</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    address: tls:0.0.0.0:3022</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - binding: transport</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    address: tls:0.0.0.0:7099</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ctrl"><code>ctrl</code><a href="#ctrl" class="hash-link" aria-label="Direct link to ctrl" title="Direct link to ctrl">â</a></h3>
<p>The <code>ctrl</code> section configures how the router will connect to the controller.</p>
<ul>
<li><code>bind</code> - (optional) the address of a local interface used to dial the controller address specified
in <code>endpoint</code> or <code>endpoints</code></li>
<li><code>defaultRequestTimeout</code> - (optional, 5s) the amount of time use for controller connection
timeouts (
see <a href="/docs/reference/configuration/conventions#time-units">time units</a>)</li>
<li><code>endpoint</code> - (optional) the address of the controller. Either <code>endpoint</code> or <code>endpoints</code> is
required. If both are provided, <code>endpoints</code> will be ignored. Once the router is connected to a
controller the set of endpoints will be kept up to date with current set of cluster members.</li>
<li><code>endpoints</code> - (optional) a list of controller addresses. Either <code>endpoint</code> or <code>endpoints</code> is
required. If both are provided, <code>endpoints</code> will be ignored</li>
<li><code>heartbeats</code> - (optional) set of options for configuring heartbeats to the controller(s).
See <a href="/docs/reference/configuration/conventions#heartbeats">heartbeats</a>.</li>
<li><code>options</code> - a set of option which includes the below options and those defined
in <a href="/docs/reference/configuration/conventions#channel">channel options</a></li>
<li><code>endpointsFile</code> - (optional, &#x27;config file dir&#x27;/endpoints) - File location to save the current
known set of controller endpoints, when an endpoints update has been received from a controller.</li>
</ul>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ctrl:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  endpoint: tls:127.0.0.1:6262</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dialers"><code>dialers</code><a href="#dialers" class="hash-link" aria-label="Direct link to dialers" title="Direct link to dialers">â</a></h3>
<p>The <code>dialers</code> sections defines the configuration for dialers that are used to dial (connect) to
services from routers. Various dialers are supported and referenced by <code>binding</code> name. This section
is an array of objects that configures individual dialers specified by the property <code>binding</code>.</p>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dialers:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - binding: binding1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    options:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      mtu: 1000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      #...options</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - binding: binding2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    options:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #...options</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  #...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The following dialer bindings that are supported in the <code>binding</code> field are:</p>
<ul>
<li><code>proxy</code> - tbd</li>
<li><code>proxy_udp</code> - tbd</li>
<li><code>transport</code> - tbd</li>
<li><code>transport_udp</code> - tbd</li>
</ul>
<p>Each dialer currently supports a number of <a href="/docs/reference/configuration/conventions#xgress-options">shared options</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="edge"><code>edge</code><a href="#edge" class="hash-link" aria-label="Direct link to edge" title="Direct link to edge">â</a></h3>
<p>The <code>edge</code> section contains configuration that pertain to edge functionality. This section must be
present to enable edge functionality (e.g. listening for edge SDK connections, tunnel binding modes).</p>
<ul>
<li><code>db</code> - (optional, <code>&lt;path-to-config-file&gt;.proto.gzip</code>) - path to file name where the router data model
will be written as a gzipped snapshot</li>
<li><code>dbSaveIntervalSeconds</code> - (optional, 30s) - Configures how the router data model will be snapshotted</li>
</ul>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">edge:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  csr:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    country: US</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    province: NC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    locality: Charlotte</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    organization: OpenZiti</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    organizationalUnit: Ziti</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sans:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      dns:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - &quot;localhost&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - &quot;test-network&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - &quot;test-network.localhost&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - &quot;ziti-dev-ingress01&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      email:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - &quot;admin@example.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ip:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - &quot;127.0.0.1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      uri:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - &quot;ziti://ziti-dev-router01/made/up/example&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Not specifying the
<code>edge.csr</code> section will not allow the router to enroll or renew existing enrollments.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="edgecsr"><code>edge.csr</code><a href="#edgecsr" class="hash-link" aria-label="Direct link to edgecsr" title="Direct link to edgecsr">â</a></h4>
<p>The <code>edge.csr</code> section is used during router enrollment and enrollment extension. It specifies values
that will be used in the certificates that are the result of enrollment.</p>
<p>Many of the values in this section are optional, however to accept connections from SDKs or other
routers at least one valid SAN must be provided.</p>
<ul>
<li><code>country</code> - (optional) the subject information country field</li>
<li><code>province</code> - (optional) the subject information province field</li>
<li><code>locality</code> - (optional)  the subject information locality field</li>
<li><code>organization</code> - (optional)  the subject information organization field</li>
<li><code>organizationalUnit</code> - (optional)  the subject information organization unit field</li>
<li><code>sans</code> - (optional) - a subsection used to define Subject Alternate Names<!-- -->
<ul>
<li><code>dns</code> - (optional) - an array of DNS SAN entries</li>
<li><code>ip</code> - (optional) - an array of IP SAN entries</li>
<li><code>uri</code> - (optional) - an array of URI SAN entries</li>
<li><code>email</code>  - (optional) - an array of email SAN entries</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="forwarder"><code>forwarder</code><a href="#forwarder" class="hash-link" aria-label="Direct link to forwarder" title="Direct link to forwarder">â</a></h3>
<p>The <code>forwarder</code> section controls options that affect how a router forwards payloads across links to
other routers within the mesh or egresses data to targeted services if the service is terminated by
a router.</p>
<ul>
<li><code>faultTxInterval</code> - (optional, 15,000) an integer representing the milliseconds to wait between
checking for circuits that have faulted, 0=disabled</li>
<li><code>idleCircuitTimeout</code> - (optional, 60,000) an integer representing the milliseconds to wait before
marking a circuit as idle and requesting a circuit confirmation</li>
<li><code>idleTxInterval</code> -  (optional, 60,000) an integer representing the milliseconds to wait between
checks for confirming idle circuits are in use, 0=disabled</li>
<li><code>linkDialQueueLength</code> -  (optional, 1000) an integer between 1 and 10,000 that represents the
maximum number of queued outgoing router link dials</li>
<li><code>linkDialWorkerCount</code> - (optional, 32) an integer between 1 and 10,000 that represents the maximum
number of workers emptying the link dial queue</li>
<li><code>rateLimitedQueueLength</code> -  (optional, 5000) an integer between 1 and 50,000 that represents the
maximum number of rate limited operations to the controller. This currently includes terminator
creates</li>
<li><code>rateLimitedWorkerCount</code> - (optional, 5) an integer between 1 and 10,000 that represents the
maximum number of workers emptying the rate limited operations queue</li>
<li><code>xgressCloseCheckInterval</code> - (optional, 5,000) an integer representing the milliseconds to wait
before un-routing a circuit for due to idleness</li>
<li><code>xgressDialDwellTime</code> - (optional, 0) an integer representing the milliseconds to wait before
dialing a service for egress</li>
<li><code>xgressDialQueueLength</code> - (optional, 1000) an integer between 1 and 10,000 that represents the
maximum number of queued outgoing service dials</li>
<li><code>xgressDialWorkerCount</code> - (optional, 128) an integer between 1 and 10,000 that represents the
maximum number of workers emptying the xgress dial queue</li>
</ul>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">forwarder:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  latencyProbeInterval: 1000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="healthChecks"><code>healthChecks</code><a href="#healthChecks" class="hash-link" aria-label="Direct link to healthChecks" title="Direct link to healthChecks">â</a></h3>
<p>The <code>healthChecks</code> sections allows configuration of router health checks performed. Health check
status is available by exposing the <code>health-checks</code> API in the <code>web</code> section.</p>
<ul>
<li><code>ctrlPingCheck</code> - (optional) - configures controller health check pings<!-- -->
<ul>
<li><code>interval</code> - (optional, 30s) - the frequency to ping the controller with connection checks</li>
<li><code>timeout</code> - (optional, 15s) - the length of time to wait before giving up on a controller
health ping</li>
<li><code>initialDelay</code> - (optional, 15s) - the length of time to wait before starting controller
health check pings</li>
</ul>
</li>
<li><code>linkCheck</code> - (optional) - configures link checks. A router maybe expected to have a certain
number of links. It may be desirable to alert if the number of links falls below the expected
number<!-- -->
<ul>
<li><code>interval</code> - (optional, 5s) - how often to run the check</li>
<li><code>initialDelay</code> - (optional, 1s) - how long to wait before running the check for the first time</li>
<li><code>minLinks</code> - (optional, 0) - minimum number of links before failing the check. By default, no
links are required and the check will just return information about the links that do exist</li>
</ul>
</li>
</ul>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">healthChecks:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ctrlPingCheck:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    interval: 30s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    timeout: 15s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    initialDelay: 15s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="identity"><code>identity</code><a href="#identity" class="hash-link" aria-label="Direct link to identity" title="Direct link to identity">â</a></h3>
<p>The identity section includes the default server certificate and private key used for services
hosted by the router, alternate server certificates and keys to support SNI on hosted services,
client certificate and private key when making connections, and the <code>ca</code> bundle that the controller
will use when making connections to controllers and routers. See the conventions that apply to
all <a href="/docs/reference/configuration/conventions#identity">identity</a> sections for field level detail.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="link"><code>link</code><a href="#link" class="hash-link" aria-label="Direct link to link" title="Direct link to link">â</a></h3>
<p>The <code>link</code> section configures which protocols and ports are used to listen for incoming router mesh
links via the <code>listeners</code> subsection and which protocols are used to dial other routers via the
<code>dialers</code> subsection. Dialers and listeners use <code>binding</code> names which can be further configured in
the <a href="#transport"><code>transport</code> section</a>. For both</p>
<ul>
<li><code>listeners</code> (optional) - configures if and how this router should listen for connections from
other routers to form the data plane mesh<!-- -->
<ul>
<li><code>binding</code> - (required) - specifies which subsystem should instantiate this listener. Currently
only <code>transport</code> is supported</li>
<li><code>bind</code> - (required) the <a href="/docs/reference/configuration/conventions#addressing">address</a> that the listener should listen
on</li>
<li><code>advertise</code> - (required) the <code>&lt;host&gt;:&lt;port&gt;</code> combination that external resources should use to
reach this listener The <code>listeners</code> subsection supports the same settings and option as in
the <a href="#listeners"><code>listeners</code> section</a>.</li>
<li><code>groups</code> - (optional, [<code>default</code>]) - Both dialers and listeners can now specify a set of
groups. If no groups are specified, the dialer or listener will be placed in the <code>default</code>
group. Dialers will only attempt to dial listeners who have at least one group in common with
them.</li>
<li><code>options</code> - (optional) options specified by the component specifically in addition to
the <a href="/docs/reference/configuration/conventions#xgress-options">shared options</a></li>
</ul>
</li>
<li><code>dialers</code> (optional) - configures if and how this router should try to make connections to other
routers to form the data plane mesh<!-- -->
<ul>
<li><code>split</code> - (optional, true) - indicates if a single connection should be made for all data, or
if separate connections should be made, one for payloads and the other for acknowledgments</li>
<li><code>binding</code> - (required) - specifies which subsystem should instantiate this listener. Currently
only <code>transport</code> is supported</li>
<li><code>bind</code> - (optional) the network interface, or local IP address to use for routing outbound
data</li>
<li><code>groups</code> - (optional, [<code>default</code>]) - Both dialers and listeners can now specify a set of
groups. If no groups are specified, the dialer or listener will be placed in the <code>default</code>
group. Dialers will only attempt to dial listeners who have at least one group in common with
them.</li>
<li><code>options</code> - (optional) options specified by the component specifically in addition to
the <a href="/docs/reference/configuration/conventions#xgress-options">shared options</a></li>
<li><code>healthyDialBackoff</code> - (optional) - configures how the dialer will retry dialing link
connections when a dial fails. This backoff policy is used when the router being dialed is
connected to the controller, and is thus expected to be available<!-- -->
<ul>
<li><code>minRetryInterval</code> - (optional, default 5s, min 10ms, max 24h) - duration specifying the
minimum time between dial attempts</li>
<li><code>maxRetryInterval</code> - (optional, default 5m, min 10ms, max 24h) - duration specifying the
maximum time between dial attempts</li>
<li><code>retryBackoffFactor</code> - (optional, default 1.5, min 1, max 100) - factor by which to
increase the retry interval between failed dial attempts</li>
</ul>
</li>
<li><code>unhealthyDialBackoff</code> - (optional) - configures how the dialer will retry dialing link
connections when a dial fails. This backoff policy is used when the router being dialed is
<strong>not</strong> connected to the controller, and is thus expected to be available. Note that when a
router connects to a controller, other routers are notified and will both immediately try to
connect to the router, if they are not already, and will switch to the
<code>healthyDialBackoff</code> policy<!-- -->
<ul>
<li><code>minRetryInterval</code> - (optional, default 1m, min 10ms, max 24h) - duration specifying the
minimum time between dial attempts</li>
<li><code>maxRetryInterval</code> - (optional, default 1h, min 10ms, max 24h) - duration specifying the
maximum time between dial attempts</li>
<li><code>retryBackoffFactor</code> - (optional, default 10, min 1, max 100) - factor by which to
increase the retry interval between failed dial attempts</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">link:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  dialers:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - binding: transport</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  listeners:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - binding: transport</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      bind: tls:127.0.0.1:6004</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      advertise: tls:127.0.0.1:6004</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="listeners"><code>listeners</code><a href="#listeners" class="hash-link" aria-label="Direct link to listeners" title="Direct link to listeners">â</a></h3>
<p>Listeners configure different types of server logic and protocols to be &quot;listened&quot; for on the
router. This includes opening ports on one or more interfaces specified in the <code>address</code> option.
The <code>address</code> field is formatted according to
the <a href="/docs/reference/configuration/conventions#addressing">address conventions</a>. The advertise field specifies the address a
client will use to connect to the listener.</p>
<ul>
<li><code>binding</code> - (required) the name of a <a href="/docs/reference/configuration/conventions#xgress-components">xgress component</a> that
will provide the server side logic for the listener</li>
<li><code>bind</code> - (required) the <a href="/docs/reference/configuration/conventions#addressing">address</a> that the listener should listen on</li>
<li><code>advertise</code> (required) the <code>&lt;host&gt;:&lt;port&gt;</code> combination that external resources should use to reach
this listener</li>
<li><code>options</code> - (optional) options specified by the component specifically in addition to
the <a href="/docs/reference/configuration/conventions#xgress-options">shared options</a></li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">listeners:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - binding: edge</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    address: tls:0.0.0.0:3022</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    options:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      advertise: 127.0.0.1:3022</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="tunnel-listeners">tunnel <code>listeners</code><a href="#tunnel-listeners" class="hash-link" aria-label="Direct link to tunnel-listeners" title="Direct link to tunnel-listeners">â</a></h4>
<p>A tunnel is a special kind of listener binding.</p>
<p>When generating a router configuration with <code>ziti create config router edge</code> the tunnel binding is
enabled with default mode <code>host</code>. This mode continually configures the router&#x27;s tunnel to reverse
proxy the list of services that are authorized by Bind Service Policy.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">listeners:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - binding: tunnel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    options:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      mode: host</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If tunnel is enabled at the time the router is created then its configuration may be changed and
will take effect when the router is restarted. For example, this configures the router&#x27;s tunnel to
transparently proxy all services authorized by Dial Service Policy and provide a nameserver. This
mode also enables the reverse proxy features of <code>host</code> mode.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">listeners:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - binding: tunnel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    options:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      mode: tproxy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      resolver: udp://127.0.0.1:53</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      dnsSvcIpRange: 100.80.0.0/12  # optionally customize the dynamic IP range used by Ziti DNS</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example the router&#x27;s tunnel is configured to provide a forward proxy listener for a list of
service, TCP port pairs. This mode also enables the reverse proxy features of <code>host</code> mode.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">listeners:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - binding: tunnel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    options:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      mode: proxy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      services:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - zedsDemoHttpHttpbin:8080</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="metrics"><code>metrics</code><a href="#metrics" class="hash-link" aria-label="Direct link to metrics" title="Direct link to metrics">â</a></h3>
<p>The <code>metrics</code> section controls how metrics are communicated to the connection controller.</p>
<ul>
<li><code>reportInterval</code> - (optional, 1m) the interval of time to wait between crafting a new metrics
message to be sent to the controller</li>
<li><code>messageQueueSize</code> - (optional, 10) the maximum number of buffered metrics messages allowed to be
queued to send to the controller</li>
<li><code>intervalAgeThreshold</code> - (optional, 80s) how old a batch of metrics must be before it&#x27;s eligible
to be sent to the controller</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">metrics:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  reportInterval: 1m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  messageQueueSize: 10</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="trace"><code>trace</code><a href="#trace" class="hash-link" aria-label="Direct link to trace" title="Direct link to trace">â</a></h3>
<p>The <code>trace</code> section instructs the router to output incoming and outgoing messaging it receives. This
setting is useful for debugging purposes only and should not be enabled in production environments
without careful consideration.</p>
<ul>
<li><code>path</code> - (required) the file to output decoded messages to</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">trace:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  path: /var/opt/open.ziti.router.trace</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="transport"><code>transport</code><a href="#transport" class="hash-link" aria-label="Direct link to transport" title="Direct link to transport">â</a></h3>
<p>The <code>transport</code> section is for advanced configuration of underlay protocols. It currently only
applies to an internally tuned TCP protocol named Transwarp and is tuned using <code>westworld3</code>
configuration options. This section should largely be unnecessary outside of development.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">transport:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  westworld3:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    profile_version: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tx_portal_min_sz: 16384</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tx_portal_max_sz: 1073741824</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    instrument:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      name: metrics</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      path: /tmp/westworld3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      snapshot_ms: 250</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      enabled: true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="profile"><code>profile</code><a href="#profile" class="hash-link" aria-label="Direct link to profile" title="Direct link to profile">â</a></h3>
<p>The profile section allows for <a href="https://go.dev/blog/pprof" target="_blank" rel="noopener noreferrer">CPU (pprof) and memory (memprof)</a> dumps
to be created. CPU profiling is buffered by the application&#x27;s runtime and output to the designated
file. Memory profiling allows the interval memory profiling occurs at and is output. These settings
are useful for debugging purposes only and should not be enabled in production environments without
careful consideration.</p>
<ul>
<li><code>cpu</code> - (optional)<!-- -->
<ul>
<li><code>path</code> - (required) the path to output the pprof data</li>
</ul>
</li>
<li><code>memory</code> - (optional)<!-- -->
<ul>
<li><code>path</code> - (required) the path to output the memprof data</li>
<li><code>intervalMs</code> (optional) the frequency to output memprof data (default 15s)</li>
</ul>
</li>
</ul>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">profile:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  cpu:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path: /home/user1/tmp/ctrl.cpu.pprof</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  memory:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    path: ctrl.memprof</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    intervalMs: 150000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="web"><code>web</code><a href="#web" class="hash-link" aria-label="Direct link to web" title="Direct link to web">â</a></h3>
<p>The <code>web</code> section follows the <a href="/docs/reference/configuration/conventions#xweb">conventions of XWeb</a>. The controller has the
following APIs defined:</p>
<ul>
<li><code>health-checks</code> - provides a health check API that allows remote parties to verify the health of
the controller</li>
</ul>
<p>Each API may have their own options, but currently do not.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="v"><code>v</code><a href="#v" class="hash-link" aria-label="Direct link to v" title="Direct link to v">â</a></h3>
<p>The <code>v</code> section is used to detect if the version file is supported by the OpenZiti binary read it.
The current and only supported value is &quot;3&quot;.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">v: 3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/openziti/ziti-doc/tree/main/docusaurus/docs/reference/30-configuration/router.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-03-31T13:44:03.000Z" itemprop="dateModified">Mar 31, 2025</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/reference/configuration/controller"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Controller</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/reference/ha/overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Overview</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#sections" class="table-of-contents__link toc-highlight">Sections</a><ul><li><a href="#ctrl" class="table-of-contents__link toc-highlight"><code>ctrl</code></a></li><li><a href="#dialers" class="table-of-contents__link toc-highlight"><code>dialers</code></a></li><li><a href="#edge" class="table-of-contents__link toc-highlight"><code>edge</code></a></li><li><a href="#forwarder" class="table-of-contents__link toc-highlight"><code>forwarder</code></a></li><li><a href="#healthChecks" class="table-of-contents__link toc-highlight"><code>healthChecks</code></a></li><li><a href="#identity" class="table-of-contents__link toc-highlight"><code>identity</code></a></li><li><a href="#link" class="table-of-contents__link toc-highlight"><code>link</code></a></li><li><a href="#listeners" class="table-of-contents__link toc-highlight"><code>listeners</code></a></li><li><a href="#metrics" class="table-of-contents__link toc-highlight"><code>metrics</code></a></li><li><a href="#trace" class="table-of-contents__link toc-highlight"><code>trace</code></a></li><li><a href="#transport" class="table-of-contents__link toc-highlight"><code>transport</code></a></li><li><a href="#profile" class="table-of-contents__link toc-highlight"><code>profile</code></a></li><li><a href="#web" class="table-of-contents__link toc-highlight"><code>web</code></a></li><li><a href="#v" class="table-of-contents__link toc-highlight"><code>v</code></a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a class="footer__link-item" href="/policies/CODE_OF_CONDUCT">Policies</a><span class="footer__link-separator">Â·</span><a href="https://netfoundry.io/products/netfoundry-platform/netfoundry-cloud-for-openziti/" target="_blank" rel="noopener noreferrer" class="footer__link-item">NetFoundry Cloud</a><span class="footer__link-separator">Â·</span><a href="https://blog.openziti.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 NetFoundry Inc.</div></div></div></footer></div>
</body>
</html>