<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-learn/core-concepts/identities/overview" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Ziti Identities | OpenZiti</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://openziti.io/docs/learn/core-concepts/identities/overview"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="robots" content="index, follow"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Ziti Identities | OpenZiti"><meta data-rh="true" name="description" content="Ziti is built on the foundation of zero trust. A solid pillar of that foundation requires that all connections in a"><meta data-rh="true" property="og:description" content="Ziti is built on the foundation of zero trust. A solid pillar of that foundation requires that all connections in a"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://openziti.io/docs/learn/core-concepts/identities/overview"><link data-rh="true" rel="alternate" href="https://openziti.io/docs/learn/core-concepts/identities/overview" hreflang="en"><link data-rh="true" rel="alternate" href="https://openziti.io/docs/learn/core-concepts/identities/overview" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://EXWPKK5PV4-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-5SF399H3",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>





<link rel="search" type="application/opensearchdescription+xml" title="OpenZiti" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.8f1ee061.css">
<script src="/assets/js/runtime~main.09e26e0c.js" defer="defer"></script>
<script src="/assets/js/main.65e116d7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5SF399H3" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>




<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/ziti-logo-dark.svg"><link rel="preload" as="image" href="/img/ziti-logo-light.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="root_VOM9"><span style="color:whitesmoke">Star us on GitHubÂ </span><span style="height:20px"><span><a href="https://github.com/openziti/ziti" data-icon="octicon-star" data-show-count="true" aria-label="Star buttons/github-buttons on GitHub">Star</a></span></span></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://openziti.io" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/ziti-logo-dark.svg" alt="The OpenZiti logo, an open source zero trust network overlay" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/ziti-logo-light.svg" alt="The OpenZiti logo, an open source zero trust network overlay" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/learn/introduction/">Documentation</a><a class="navbar__item navbar__link" href="/docs/downloads">Downloads</a><a href="https://blog.openziti.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Links</a><ul class="dropdown__menu"><li class=""><div class="text-divider"><p>Socials</p></div></li><li class=""><a href="https://www.youtube.com/OpenZiti" target="_blank" title="OpenZiti on YouTube"><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/yt.svg">YouTube</span></a></li><li class=""><a href="https://x.com/OpenZiti" target="_blank" title="OpenZiti on X(formerly Twitter)"><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/twit.svg">Twitter</span></a></li><li class=""><a href="https://www.reddit.com/r/openziti" target="_blank" title="OpenZiti Subreddit"><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/reddit-logo.png">Reddit</span></a></li><li class=""><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/ziggy.png"><a href="https://x.com/OpenZiggy" target="_blank" title="OpenZiggy on Twitter">Ziggy</a></span></li><li class=""><div class="text-divider"><p>Other</p></div></li><li class=""><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/blog-icon.png"><a href="https://blog.openziti.io/" target="_blank" title="Blog">Blog</a></span></li><li class=""><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/oz-test-kitchen.png"><a href="https://github.com/openziti-test-kitchen" target="_blank" title="Git project for the test kitchen">Test Kitchen</a></span></li></ul></div><a href="https://openziti.discourse.group/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discourse-link" title="Discourse"></a><a href="https://github.com/openziti/ziti" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" title="GitHub"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_eExm"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 sidebar-title"><a class="menu__link" href="/docs/learn/introduction/">LEARN</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/learn/introduction/">What is OpenZiti?</a><button aria-label="Expand sidebar category &#x27;What is OpenZiti?&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/learn/quickstarts/">Quickstarts</a><button aria-label="Expand sidebar category &#x27;Quickstarts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/core-concepts">Core Concepts</a><button aria-label="Collapse sidebar category &#x27;Core Concepts&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/learn/core-concepts/clients/choose">Clients</a><button aria-label="Expand sidebar category &#x27;Clients&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" tabindex="0" href="/docs/learn/core-concepts/identities/overview">Identities</a><button aria-label="Collapse sidebar category &#x27;Identities&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/core-concepts/identities/creating">Creating</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/core-concepts/identities/enrolling">Enrolling</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/core-concepts/services/overview">Services</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/learn/core-concepts/config-store/overview">Configuration Store</a><button aria-label="Expand sidebar category &#x27;Configuration Store&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/learn/core-concepts/metrics/overview">Metrics</a><button aria-label="Expand sidebar category &#x27;Metrics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/learn/core-concepts/zero-trust-models/overview">Zero Trust Models</a><button aria-label="Expand sidebar category &#x27;Zero Trust Models&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/core-concepts/data-flow-explainer">Data Flow Explainer</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/learn/core-concepts/security/overview">Security</a><button aria-label="Expand sidebar category &#x27;Security&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/core-concepts/pki">PKI</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/learn/identity-providers/">Identity Providers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 sidebar-title"><a class="menu__link" href="/docs/reference/">REFERENCE</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/reference/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/reference/configuration/conventions">Configuration</a><button aria-label="Expand sidebar category &#x27;Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/reference/ha/overview">Controller Clustering</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/reference/tunnelers/">Tunnelers</a><button aria-label="Expand sidebar category &#x27;Tunnelers&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/reference/command-line/login">CLI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/reference/logging">Logging</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/reference/config-types/">Config Types</a><button aria-label="Expand sidebar category &#x27;Config Types&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/reference/events">Events</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/reference/developer/">Developer</a><button aria-label="Expand sidebar category &#x27;Developer&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/reference/glossary">Glossary</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 sidebar-title"><a class="menu__link" href="/docs/guides/">GUIDES</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/guides/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/deployments">Deployments</a><button aria-label="Expand sidebar category &#x27;Deployments&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/guides/external-auth/">Configuring OIDC</a><button aria-label="Expand sidebar category &#x27;Configuring OIDC&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/guides/hsm/">Hardware Keys</a><button aria-label="Expand sidebar category &#x27;Hardware Keys&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/topologies">Topologies</a><button aria-label="Expand sidebar category &#x27;Topologies&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/troubleshooting">Troubleshooting</a><button aria-label="Expand sidebar category &#x27;Troubleshooting&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/core-concepts"><span itemprop="name">Core Concepts</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Identities</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Ziti Identities</h1></header>
<p>Ziti is built on the foundation of zero trust. A solid pillar of that foundation requires that all connections in a
Ziti-enabled network are authenticated.  Identities are the basis for Ziti authentication.  All devices connecting to a
Ziti network will have an Identity which is presented at the time of a connection being established by both the device
initiating the connection and the device receiving the incoming connection. Ziti implements <a href="https://en.wikipedia.org/wiki/Mutual_authentication" target="_blank" rel="noopener noreferrer">mutual
TLS</a> in order to authenticate both sides of a connection.</p>
<p>Conceptually an identity can be thought of as congruent to a user account.  Identities are logical entities stored
inside the controller which map an X509 certificate to a particular named identity.  Identities exist not only to
authenticate connections but are also used to authorize identities within Ziti. See <a href="/docs/learn/core-concepts/security/authorization/policies/overview">Policies</a>
for more information on authorization of identities.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3rd-party-certificates">3rd Party Certificates<a href="#3rd-party-certificates" class="hash-link" aria-label="Direct link to 3rd Party Certificates" title="Direct link to 3rd Party Certificates">â</a></h2>
<p>The certificate a Ziti Edge client presents can be generated by the controller using the configured PKI or this
certificate can come from an existing PKI not controlled by the controller. Certificates which are not created by
the controller are referred to as &quot;3rd Party&quot; because from the perspective of the controller the certificates
are not from the configured PKI.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-an-identity">Creating an Identity<a href="#creating-an-identity" class="hash-link" aria-label="Direct link to Creating an Identity" title="Direct link to Creating an Identity">â</a></h2>
<p>The mechanism for creating identities is influenced by how your Ziti network is setup, specifically how the PKI is
established. Identities are integrally linked to the PKI configured in a given Ziti network and directly affects how
identities are created and enrolled. There are generally three enrollment methods for identities:</p>
<ul>
<li>One Time Token (ott) identities using the configured PKI</li>
<li>One Time Token (ott) identities using a 3rd Party CA</li>
<li>3rd Party auto-enrolled identities</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="choosing-an-enrollment-method">Choosing an Enrollment Method<a href="#choosing-an-enrollment-method" class="hash-link" aria-label="Direct link to Choosing an Enrollment Method" title="Direct link to Choosing an Enrollment Method">â</a></h2>
<p>Choosing which type of enrollment your identity will use comes down to whether you are using a 3rd Party CA or not. If the
network does not have a 3rd Party Certificate configured the only option is to use the One Time Token (OTT) enrollment method.</p>
<p>If one or more 3rd Party CA is installed you will need to understand the intention of each 3rd Party certificate.</p>
<p>Each of the types of enrollments are secure it just depends on your actual network setup as to which type to choose. If
you don&#x27;t know - just use the One Time Token (OTT) method. The identity can always be recreated at a later date if necessary.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="one-time-token-ott">One Time Token (OTT)<a href="#one-time-token-ott" class="hash-link" aria-label="Direct link to One Time Token (OTT)" title="Direct link to One Time Token (OTT)">â</a></h3>
<p>The One Time Token method is available to all Ziti networks.  A one time token enrolled identity will
have a token generated at the time of the identity&#x27;s creation.  This token is then submitted at some point in the future
as part of the <a href="/docs/learn/core-concepts/identities/enrolling">enrollment</a> process.  Once an identity is successfully enrolled - the one time token is
no longer valid and cannot be used to enroll the same identity again.</p>
<p>One time tokens are delivered from the controller as a <a href="https://tools.ietf.org/html/rfc7519" target="_blank" rel="noopener noreferrer">jwt</a> and the token
expires 24 hours after the identity is created.  The token is downloadable via the Ziti Admin Console. After you create
a user you can go to the Identities page and click the icon that looks like a certificate to download the .jwt file.</p>
<p>You can also create an identity for one time token enrollment using the <code>ziti</code> cli tool.  This command will
create a new identity and output the jwt to the selected path. You can then transfer the .jwt file to the device where
the permanent identity JSON file will be installed by running the <code>enroll</code> command.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#creates a new user named &quot;NewUser&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ziti edge create identity &quot;NewUser&quot; -o NewUser.jwt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3rd-party-ca---overview">3rd Party CA - Overview<a href="#3rd-party-ca---overview" class="hash-link" aria-label="Direct link to 3rd Party CA - Overview" title="Direct link to 3rd Party CA - Overview">â</a></h3>
<p>The controller is capable of using an existing PKI for authentication and authorization rather than to PKI
configured in the controller.  Certificates that are not controlled by the controller are referred to as &quot;3rd
party&quot;. If you have an existing PKI setup you wish to reuse or if you are just interested in learning how
to use a 3rd Party CA this section is for you.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Reusing a PKI is not a simple topic and managing and maintaining a PKI is out of the scope of this guide.</p></div></div>
<p>A 3rd Party CA will need to be created and the public certificate uploaded into the controller. After using an
existing PKI to reuse/generate a certificate, the controller will be to create identities which will be expected to
present a certificate during the connection process that is valid per the provided certificate.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="adding-a-3rd-party-ca-to-the-ziti-controller">Adding a 3rd Party CA to the Ziti Controller<a href="#adding-a-3rd-party-ca-to-the-ziti-controller" class="hash-link" aria-label="Direct link to Adding a 3rd Party CA to the Ziti Controller" title="Direct link to Adding a 3rd Party CA to the Ziti Controller">â</a></h4>
<p>Adding a certificate to the controller is easy using the console.</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">New CA via UI</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">New CA via REST</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><ol>
<li>On the left side click &quot;Certificate Authorities&quot;</li>
<li>In the top right corner of the screen click the &quot;plus&quot; image to add a new Certificate Authority</li>
<li>Enter the name of the Certificate Authority you would like to create</li>
<li>Choose if the CA should be used for Enrollment (yes) and Auth (yes)</li>
<li>Click save</li>
</ol></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    Verb: POST</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      The name of the CA to create</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    isAutoCaEnrollmentEnabled:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      controls if the CA can be used for automatic enrollment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    isOttCaEnrollmentEnabled:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      controls if the CA be used for one time token enrollment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    isAuthEnabled:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      controls if the CA is enabled for authentication. Devices can enroll but not connect if set to false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    certPem:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      the CA to upload in PEM format</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    body:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;name&quot;: &quot;${string}&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;isAutoCaEnrollmentEnabled&quot;: ${true|false},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;isOttCaEnrollmentEnabled&quot;: ${true|false},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;isAuthEnabled&quot;: ${true|false},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;certPem&quot;: &quot;${string}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3rd-party-ca---one-time-token">3rd Party CA - One Time Token<a href="#3rd-party-ca---one-time-token" class="hash-link" aria-label="Direct link to 3rd Party CA - One Time Token" title="Direct link to 3rd Party CA - One Time Token">â</a></h4>
<p>3rd Party CA OTT enrollment is closely related to <a href="#one-time-token-ott">OTT Enrollment</a>. The main difference is the
utilization of a 3rd party CA certificate rather than the configured edge CA and PKI. In this method, the system
does not have access to the 3rd party CA private key and thus cannot provide CSR fulfillment capabilities. Instead it is
assumed that the enrolling device has a separate process to acquire signed certificates. Rather than submitting a CSR
the client uses an already acquired signed certificate as its client certificate for the enrollment request. The client
certificate is validated against the CA certificate tied to the one time token.</p>
<p>Similar to the <a href="#one-time-token-ott">OTT Enrollment</a> process, identities must be provisioned ahead of enrollment in
order to generate one time token required and to creat the jwt that can be delivered to enrolling devices. This means
that the provisioning of the identities and client certificates must be coordinated. Identities can be enrolled with a one time token flow similar to the <a href="#one-time-token-ott">one time token flow</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="3rd-party-ca---auto-enrolled">3rd Party CA - Auto Enrolled<a href="#3rd-party-ca---auto-enrolled" class="hash-link" aria-label="Direct link to 3rd Party CA - Auto Enrolled" title="Direct link to 3rd Party CA - Auto Enrolled">â</a></h4>
<p>CA Auto Enrollment is useful in situations where devices are provisioned with certificates en-mass that need to be able
to register as identities within the edge. This enrollment method allows for device provisioning processes to skip the
manual configuration of the edge and instead allow clients to present a signed client certificate to generate an
identity during the enrollment process. The identity will grant the client access to authenticate only - any
authorization will need to be done after the device identities have been created.</p>
<p>A certificate can only be used for one identity. The edge does not allow the same certificate to be used for
multiple identities. An enrollment request is comprised of a special enrollment URL used to perform an HTTP POST request
using the signed client certificate as the TLS client certificate and an optional JSON payload that allows the client to
specify the devices display name and internal username. See <a href="/docs/learn/core-concepts/identities/enrolling">enrollment</a> for more details on enrolling.</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">New 3rd Party CA Identity via UI</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">New 3rd Party Identity via CLI</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><ol>
<li>On the left side click &quot;Certificate Authorities&quot;</li>
<li>In the top right corner of the screen click the &quot;plus&quot; image to add a new Certificate Authority</li>
<li>Enter the name of the Certificate Authority you would like to create</li>
<li>Choose if the CA should be used for Enrollment (yes) and Auth (yes)</li>
<li>Click save</li>
</ol></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#creates a new user named &quot;NewUser&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ziti edge create identity &quot;NewUser&quot; -o NewUser.jwt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="choosing-an-identity-type">Choosing an Identity Type<a href="#choosing-an-identity-type" class="hash-link" aria-label="Direct link to Choosing an Identity Type" title="Direct link to Choosing an Identity Type">â</a></h2>
<p>The three types of identities are:</p>
<ul>
<li>User</li>
<li>Device</li>
<li>Service</li>
</ul>
<p>These are functionally equivalent and have identical properties. You may wish to express the intended purpose of an
identity by choosing one or another type when the identity is created. The type can not be changed.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="enrolling-an-identity">Enrolling an Identity<a href="#enrolling-an-identity" class="hash-link" aria-label="Direct link to Enrolling an Identity" title="Direct link to Enrolling an Identity">â</a></h2>
<p>All connections made to the Ziti network leverage <a href="https://en.wikipedia.org/wiki/Mutual_authentication" target="_blank" rel="noopener noreferrer">mutual TLS</a>
which means every client needs a valid X509 certificate which it will present to the Ziti network during the connection
process. The process of obtaining a key/certificate pair and presenting it securely to the controller is called
&quot;Enrollment&quot;.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">â</a></h3>
<p>All identities need to be enrolled with the controller so the controller can authenticate the incoming connection.
This process is slightly different for each type of identity and is complex. The easiest way to enroll an identity is to
use either the Ziti Desktop Edge/Ziti Mobile Edge for your operating system. Alternatively, you may perform the enrollment separate
with the <code>ziti</code> CLI which can be downloaded from the <a href="https://github.com/openziti/ziti/releases/latest" target="_blank" rel="noopener noreferrer">GitHub releases page</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="one-time-token-enrollment---internal-pki">One Time Token Enrollment - Internal PKI<a href="#one-time-token-enrollment---internal-pki" class="hash-link" aria-label="Direct link to One Time Token Enrollment - Internal PKI" title="Direct link to One Time Token Enrollment - Internal PKI">â</a></h3>
<p>Perhaps the easiest path to an enrolled identity is by using the one-time token enrollment flow. This flow leverages the
PKI configured in the controller.  Using the one-time token flow - the <code>ziti</code> CLI will generate a private key
and a certificate signing request for the controller&#x27;s built-in certificate authority to fulfill.</p>
<p>Follow these steps to enroll an identity with a one-time token:</p>
<ul>
<li><a href="/docs/learn/core-concepts/identities/creating">create the Identity</a></li>
<li>download or copy the JWT - this file contains the single use token</li>
<li>run the <code>ziti</code> CLI:</li>
</ul>
<p><strong>Example Usage:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ziti edge enroll \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --jwt ${jwt_file} \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --out ${identity_config_file}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>The output from the <code>ziti</code> CLI is a permanent identity configuration file which
must be stored securely. This file contains within it the private key that backs
the certificate issued by the controller.  This file should not be
transferred or shared and should not be moved from the machine unless you are
confident you understand the risks involved in doing so.</p></div></div>
<p><strong>Example Usage for <code>ziti-edge-tunnel</code> CLI</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># enroll from a token file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./ziti-edge-tunnel enroll --jwt ./myTunneler.jwt --identity ./myTunneler.json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># enroll from stdin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./ziti-edge-tunnel enroll --jwt - --identity ./myTunneler.json &lt; ./myTunneler.jwt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3rd-party-ca---one-time-token">3rd Party CA - One Time Token<a href="#3rd-party-ca---one-time-token" class="hash-link" aria-label="Direct link to 3rd Party CA - One Time Token" title="Direct link to 3rd Party CA - One Time Token">â</a></h3>
<p>This flow allows you to pre-create identities for a 3rd party CA with distinct role attributes. This flow is similar to the One Time Token flow from above except that it expects that a private key and certificate have
already been created on or distributed to the machine that is about to enroll and that the certificate presented is
issued by a validated, <a href="/docs/learn/core-concepts/pki#third-party-ca-optional">third party CA</a>.</p>
<p>Follow these steps to enroll a 3rd Party CA - one-time token identity:</p>
<ul>
<li><a href="/docs/learn/core-concepts/identities/creating">create the Identity</a></li>
<li>download or copy the JWT - this file contains the one-time token</li>
<li>run the <code>ziti</code> CLI. Notice you can provide the filename of the identity config JSON file to output:</li>
</ul>
<p><strong>Example Usage:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ziti edge enroll \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --cert ${user_certificate} \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --key ${user_private_key} \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --jwt ${one_time_jwt_file} \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --out ${identity_config_file}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3rd-party-ca---auto">3rd Party CA - Auto<a href="#3rd-party-ca---auto" class="hash-link" aria-label="Direct link to 3rd Party CA - Auto" title="Direct link to 3rd Party CA - Auto">â</a></h3>
<p>When using a third party CA identity creation process in the controller is
automatic. Enrolling the identity will create it with the default role attributes that were specified when the 3rd party CA was created.</p>
<p>Like &quot;3rd Party CA - One Time Token&quot; - this flow expects that a private key and certificate have
already been created on or distributed to the machine that is about to enroll.
The certificate presented to the controller must be issued by a <a href="/docs/learn/core-concepts/pki#third-party-ca-optional">third
party CA</a> that was already
imported and verified in the controller with the
<code>isAutoCaEnrollmentEnabled</code> property set to true.</p>
<p>Using the <code>ziti</code> CLI will also require the re-use of a permanent JWT that is unique to the external CA. The JWT
can be downloaded from the controller from:  <code>${controller_uri}/cas/${id}/jwt</code> where <code>${controller_uri}</code> represents
the fully qualified address of the controller api and <code>${id}</code> represents the identifier for the given third party CA.</p>
<p><strong>Example Usage:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ziti edge enroll \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --cert ${user_certificate} \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --key ${user_private_key} \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --jwt ${reusable_ca_jwt_file} \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --out ${identity_config_file}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If supplied, the argument to option <code>--idname</code> will be used as the name for the identity created. The default name of auto-created identities is generated from a template that uses values from the user certificate i.e. <code>[caName]-[commonName]</code>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/openziti/ziti-doc/tree/main/docusaurus/docs/learn/core-concepts/identities/overview.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-04-08T02:08:45.000Z" itemprop="dateModified">Apr 8, 2025</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/learn/core-concepts/clients/process-sequences/ServiceDial"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Service Dial</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/learn/core-concepts/identities/creating"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Creating</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#3rd-party-certificates" class="table-of-contents__link toc-highlight">3rd Party Certificates</a></li><li><a href="#creating-an-identity" class="table-of-contents__link toc-highlight">Creating an Identity</a></li><li><a href="#choosing-an-enrollment-method" class="table-of-contents__link toc-highlight">Choosing an Enrollment Method</a><ul><li><a href="#one-time-token-ott" class="table-of-contents__link toc-highlight">One Time Token (OTT)</a></li><li><a href="#3rd-party-ca---overview" class="table-of-contents__link toc-highlight">3rd Party CA - Overview</a></li></ul></li><li><a href="#choosing-an-identity-type" class="table-of-contents__link toc-highlight">Choosing an Identity Type</a></li><li><a href="#enrolling-an-identity" class="table-of-contents__link toc-highlight">Enrolling an Identity</a><ul><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#one-time-token-enrollment---internal-pki" class="table-of-contents__link toc-highlight">One Time Token Enrollment - Internal PKI</a></li><li><a href="#3rd-party-ca---one-time-token" class="table-of-contents__link toc-highlight">3rd Party CA - One Time Token</a></li><li><a href="#3rd-party-ca---auto" class="table-of-contents__link toc-highlight">3rd Party CA - Auto</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a class="footer__link-item" href="/policies/CODE_OF_CONDUCT">Policies</a><span class="footer__link-separator">Â·</span><a href="https://netfoundry.io/products/netfoundry-platform/netfoundry-cloud-for-openziti/" target="_blank" rel="noopener noreferrer" class="footer__link-item">NetFoundry Cloud</a><span class="footer__link-separator">Â·</span><a href="https://blog.openziti.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 NetFoundry Inc.</div></div></div></footer></div>
</body>
</html>