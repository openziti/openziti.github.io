<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-learn/core-concepts/data-flow-explainer" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Data Flow Explainer | OpenZiti</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://openziti.io/docs/learn/core-concepts/data-flow-explainer"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="robots" content="index, follow"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Data Flow Explainer | OpenZiti"><meta data-rh="true" name="description" content="This explainer walks through how data flow is established in an OpenZiti network."><meta data-rh="true" property="og:description" content="This explainer walks through how data flow is established in an OpenZiti network."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://openziti.io/docs/learn/core-concepts/data-flow-explainer"><link data-rh="true" rel="alternate" href="https://openziti.io/docs/learn/core-concepts/data-flow-explainer" hreflang="en"><link data-rh="true" rel="alternate" href="https://openziti.io/docs/learn/core-concepts/data-flow-explainer" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://EXWPKK5PV4-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-5SF399H3",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>





<link rel="search" type="application/opensearchdescription+xml" title="OpenZiti" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.e78540e4.css">
<script src="/assets/js/runtime~main.9e877f3e.js" defer="defer"></script>
<script src="/assets/js/main.68ce6d0b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5SF399H3" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>




<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/ziti-logo-dark.svg"><link rel="preload" as="image" href="/img/ziti-logo-light.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="root_VOM9"><span style="color:whitesmoke">Star us on GitHub </span><span style="height:20px"><span><a href="https://github.com/openziti/ziti" data-icon="octicon-star" data-show-count="true" aria-label="Star buttons/github-buttons on GitHub">Star</a></span></span></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://openziti.io" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/ziti-logo-dark.svg" alt="The OpenZiti logo, an open source zero trust network overlay" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/ziti-logo-light.svg" alt="The OpenZiti logo, an open source zero trust network overlay" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/learn/introduction/">Documentation</a><a class="navbar__item navbar__link" href="/docs/downloads">Downloads</a><a href="https://blog.openziti.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Links</a><ul class="dropdown__menu"><li class=""><div class="text-divider"><p>Socials</p></div></li><li class=""><a href="https://www.youtube.com/OpenZiti" target="_blank" title="OpenZiti on YouTube"><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/yt.svg">YouTube</span></a></li><li class=""><a href="https://x.com/OpenZiti" target="_blank" title="OpenZiti on X(formerly Twitter)"><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/twit.svg">Twitter</span></a></li><li class=""><a href="https://www.reddit.com/r/openziti" target="_blank" title="OpenZiti Subreddit"><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/reddit-logo.png">Reddit</span></a></li><li class=""><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/ziggy.png"><a href="https://x.com/OpenZiggy" target="_blank" title="OpenZiggy on Twitter">Ziggy</a></span></li><li class=""><div class="text-divider"><p>Other</p></div></li><li class=""><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/blog-icon.png"><a href="https://blog.openziti.io/" target="_blank" title="Blog">Blog</a></span></li><li class=""><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/oz-test-kitchen.png"><a href="https://github.com/openziti-test-kitchen" target="_blank" title="Git project for the test kitchen">Test Kitchen</a></span></li></ul></div><a href="https://openziti.discourse.group/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discourse-link" title="Discourse"></a><a href="https://github.com/openziti/ziti" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" title="GitHub"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_eExm"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 sidebar-title"><a class="menu__link" href="/docs/learn/introduction/">LEARN</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/learn/introduction/">What is OpenZiti?</a><button aria-label="Expand sidebar category &#x27;What is OpenZiti?&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/learn/quickstarts/">Quickstarts</a><button aria-label="Expand sidebar category &#x27;Quickstarts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/core-concepts">Core Concepts</a><button aria-label="Collapse sidebar category &#x27;Core Concepts&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/learn/core-concepts/clients/choose">Clients</a><button aria-label="Expand sidebar category &#x27;Clients&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/learn/core-concepts/identities/overview">Identities</a><button aria-label="Expand sidebar category &#x27;Identities&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/core-concepts/services/overview">Services</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/learn/core-concepts/config-store/overview">Configuration Store</a><button aria-label="Expand sidebar category &#x27;Configuration Store&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/learn/core-concepts/metrics/overview">Metrics</a><button aria-label="Expand sidebar category &#x27;Metrics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/learn/core-concepts/zero-trust-models/overview">Zero Trust Models</a><button aria-label="Expand sidebar category &#x27;Zero Trust Models&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/learn/core-concepts/data-flow-explainer">Data Flow Explainer</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/learn/core-concepts/security/overview">Security</a><button aria-label="Expand sidebar category &#x27;Security&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/core-concepts/pki">PKI</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 sidebar-title"><a class="menu__link" href="/docs/reference/">REFERENCE</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/reference/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/reference/configuration/conventions">Configuration</a><button aria-label="Expand sidebar category &#x27;Configuration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/reference/ha/overview">Controller Clustering</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/reference/tunnelers/">Tunnelers</a><button aria-label="Expand sidebar category &#x27;Tunnelers&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/reference/command-line/login">CLI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/reference/logging">Logging</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/reference/config-types/">Config Types</a><button aria-label="Expand sidebar category &#x27;Config Types&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/reference/events">Events</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/reference/developer/">Developer</a><button aria-label="Expand sidebar category &#x27;Developer&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/reference/glossary">Glossary</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 sidebar-title"><a class="menu__link" href="/docs/guides/">GUIDES</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/guides/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/identity-providers-for-browZer">BrowZer IdPs</a><button aria-label="Expand sidebar category &#x27;BrowZer IdPs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/deployments">Deployments</a><button aria-label="Expand sidebar category &#x27;Deployments&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/guides/hsm/">Hardware Keys</a><button aria-label="Expand sidebar category &#x27;Hardware Keys&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/topologies">Topologies</a><button aria-label="Expand sidebar category &#x27;Topologies&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/troubleshooting">Troubleshooting</a><button aria-label="Expand sidebar category &#x27;Troubleshooting&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/core-concepts"><span itemprop="name">Core Concepts</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Data Flow Explainer</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Data Flow Explainer</h1></header><p>This explainer walks through how data flow is established in an OpenZiti network.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="baseline">Baseline<a href="#baseline" class="hash-link" aria-label="Direct link to Baseline" title="Direct link to Baseline">​</a></h2>
<p>This diagram shows the components of the example network.</p>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/baseline-0b32db724c4a0cd27d6402de134aba76.png" width="1043" height="450" class="img_ev3q"></p>
<p>It has the following components:</p>
<ul>
<li>An OpenZiti controller</li>
<li>Two OpenZiti routers that are available via the public internet</li>
<li>Two private networks, each containing a router and an application server<!-- -->
<ul>
<li>The application servers are serving up the same application. There are multiple servers, so
that load can be spread across them. They are in separate regions to ensure that the
application can still be accessed, even if a datacenter becomes unavailable.</li>
</ul>
</li>
<li>An SDK application which wants to access the application hosted by the application servers</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="control-channels">Control Channels<a href="#control-channels" class="hash-link" aria-label="Direct link to Control Channels" title="Direct link to Control Channels">​</a></h2>
<p>When a router starts up it will attempt to make a connection to the controller(s) in its
configuration file. This establishes the control plane, which allows controllers to update router
state as needed and allows routers to report changes, metrics and events back to the controller.</p>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/ctrl-to-router-05e08b30aab8d9f9f440da9c3f8c74cd.png" width="1043" height="450" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="data-links">Data Links<a href="#data-links" class="hash-link" aria-label="Direct link to Data Links" title="Direct link to Data Links">​</a></h2>
<p>Once a router is connected to the controller, the controller will inform the router of other routers
along with information about if and how those routers are listening for data links connections. The
router will then attempt to establish data links to other routers, so it can participate in the data
mesh.</p>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/router-links-a12b92ed7ba5ad323ee5e06a9fdedb6d.png" width="1043" height="450" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="terminatorslast-hop">Terminators/Last Hop<a href="#terminatorslast-hop" class="hash-link" aria-label="Direct link to Terminators/Last Hop" title="Direct link to Terminators/Last Hop">​</a></h2>
<p>Data links establish inter-router connectivity, but a way to establish connectivity to the
application servers is still needed. The service definition on its own doesn&#x27;t specify how to
connections to the application servers should be made. Connectivity to the application servers is
handled by terminators.</p>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/terminators-76f83a5dac739a1a31460603cebef772.png" width="1043" height="450" class="img_ev3q"></p>
<p>There are three common ways in which this is done.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="static-terminators">Static Terminators<a href="#static-terminators" class="hash-link" aria-label="Direct link to Static Terminators" title="Direct link to Static Terminators">​</a></h3>
<p>A static terminator can be created by an OpenZiti admin. The terminator will specify the address to
dial. Statically created terminators will exist until they are deleted or their related service or
router is deleted.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sdk-hosted">SDK Hosted<a href="#sdk-hosted" class="hash-link" aria-label="Direct link to SDK Hosted" title="Direct link to SDK Hosted">​</a></h3>
<p>When an SDK application hosts (or binds, in OpenZiti terms) a service, it will first connect to one
or more edge routers. It can then request those edge routers to create terminators on its behalf.
When the SDK app disconnects from the edge router, the terminator will automatically be cleaned up.</p>
<p>The SDK application may handle incoming connections itself, or if it&#x27;s acting as a reverse proxy, it
may bridge the connection to another application server. The OpenZiti tunneler applications can do
this and will use the <code>host.v1</code> or <code>host.v2</code> configurations to define how and where connections are
forwarded to and what kind of health checks to run.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="edge-router-hosted">Edge Router Hosted<a href="#edge-router-hosted" class="hash-link" aria-label="Direct link to Edge Router Hosted" title="Direct link to Edge Router Hosted">​</a></h3>
<p>Edge routers running in tunneler mode (ER/T) can also host services by acting as a reverse proxy.
They will also use the <code>host.v1</code> and <code>host.v2</code> configurations, same as the SDK based tunnelers. An
ER/T will create and delete terminators as services, configurations and policies are created,
updated or deleted.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="client-connections">Client Connections<a href="#client-connections" class="hash-link" aria-label="Direct link to Client Connections" title="Direct link to Client Connections">​</a></h2>
<p>When an SDK wants to connect to an OpenZiti hosted service, it will initiate the following sequence
of events:</p>
<ol>
<li>Authenticate to the controller</li>
<li>Create a Session for the desired service</li>
<li>Connect to one or more edge routers</li>
<li>Send a Dial request to the selected edge router</li>
<li>The edge router will send a create circuit request to the controller</li>
<li>The controller will find the least expensive path</li>
<li>The controller will send route updates to non-terminal elements of the path</li>
<li>The controller will instruct the terminating router to dial the service</li>
<li>Once the circuit is established, data can begin to flow</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="authentication">Authentication<a href="#authentication" class="hash-link" aria-label="Direct link to Authentication" title="Direct link to Authentication">​</a></h3>
<p>As a first step, the SDK must be authenticated to the controller. The result of a successful
authentication is an API Session. The SDK will use the API Session to make additional requests to
the control and to authenticate with edge routers. In order for edge routers to be able to verify
API Sessions from connecting SDKs, the controller must inform routers of each new API Session as
they are created.</p>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/client-api-session-8b8b1b3f2ee505fcf83519b9cc9cbeea.png" width="1043" height="450" class="img_ev3q"></p>
<p>An API Session can be extended, so a single API Session can generally be used for the lifetime of
the application. A new API Session may be required if the application is unable to reach the
controller for an extended period of time.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-session">Create Session<a href="#create-session" class="hash-link" aria-label="Direct link to Create Session" title="Direct link to Create Session">​</a></h3>
<p>The SDK must now create a Session. When creating a Session, the controller will
verify that the identity used by the SDK has permission to access the service. The controller will
also see which edge routers can be used to access the session. The set of edge routers will be
returned along with the Session token.</p>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/client-session-f957e7525ab9f670561298bcc494d7fe.png" width="1043" height="450" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="connect-to-edge-routers">Connect to Edge Routers<a href="#connect-to-edge-routers" class="hash-link" aria-label="Direct link to Connect to Edge Routers" title="Direct link to Connect to Edge Routers">​</a></h3>
<p>The returned Session contains the edge routers that can be used for this service along with
the address or addresses that each router is listening on for SDK connections. The SDK will connect
to the edge routers and use whichever one connects the fastest. The edge router connections are not
per-service, but will be shared by all services. If the connections are already made, the SDK will
prefer connections with lower latency.</p>
<p>The connection is made with mutual TLS. The SDK will also provide the API Session token to the edge
routers, allowing them to validate the connection. When the API Session becomes invalid, edge
routers will be notified and connections associated with that API Session will be terminated.</p>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/edge-router-connect-b86a193df5ca0dc4fc0fb10c7a972de8.png" width="1043" height="450" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dial-the-service">Dial the Service<a href="#dial-the-service" class="hash-link" aria-label="Direct link to Dial the Service" title="Direct link to Dial the Service">​</a></h3>
<p>The SDK will pick an edge router and send it a Dial request for desired service along with the
Session token. The edge router selected is known as the initiating router. The edge router
will translate this into a &#x27;create circuit&#x27; request to the controller. The controller will select a
path and will message the routers in the path, so they can update their routing tables and/or make
connections to application servers as necessary.</p>
<p>The path will be selected based on the cost of the terminators available on that service, plus the
cost of the routers and links from the initiating router to the terminator&#x27;s router. The last router
in the path is called the terminating router.</p>
<ul>
<li>Router costs can be set via the management API. There is also a configurable minimum router cost.
A minimum cost will prevent paths from adding unnecessary hops or from bouncing between two
similar paths.</li>
<li>Link costs are currently based on the link&#x27;s round-trip latency</li>
<li>Terminators have a static cost which can be managed via the management API for static terminators,
or via the SDK for dynamic terminators.</li>
<li>Terminators also have a dynamic cost. The more circuits on a terminator, the higher the cost. As
circuits are torn down, the cost goes back down. Dial failures will also temporarily raise the
dynamic terminator cost.</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/dial-d2a0c2e45dc963b3c2bbf8c8649eee2c.png" width="1033" height="450" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="established-circuit">Established Circuit<a href="#established-circuit" class="hash-link" aria-label="Direct link to Established Circuit" title="Direct link to Established Circuit">​</a></h3>
<p>Once the routing and connection to the application server are established, the circuit is made. The
controller notifies the initiating router and data can now flow between the SDK and the application
server.</p>
<p><img decoding="async" loading="lazy" alt="image" src="/assets/images/circuit-52e0a353988be2d116467bc80bb6a18e.png" width="1033" height="450" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/openziti/ziti-doc/tree/main/docusaurus/docs/learn/core-concepts/data-flow-explainer.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/learn/core-concepts/zero-trust-models/ztna"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Network Access</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/learn/core-concepts/security/overview"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Ziti Security</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#baseline" class="table-of-contents__link toc-highlight">Baseline</a></li><li><a href="#control-channels" class="table-of-contents__link toc-highlight">Control Channels</a></li><li><a href="#data-links" class="table-of-contents__link toc-highlight">Data Links</a></li><li><a href="#terminatorslast-hop" class="table-of-contents__link toc-highlight">Terminators/Last Hop</a><ul><li><a href="#static-terminators" class="table-of-contents__link toc-highlight">Static Terminators</a></li><li><a href="#sdk-hosted" class="table-of-contents__link toc-highlight">SDK Hosted</a></li><li><a href="#edge-router-hosted" class="table-of-contents__link toc-highlight">Edge Router Hosted</a></li></ul></li><li><a href="#client-connections" class="table-of-contents__link toc-highlight">Client Connections</a><ul><li><a href="#authentication" class="table-of-contents__link toc-highlight">Authentication</a></li><li><a href="#create-session" class="table-of-contents__link toc-highlight">Create Session</a></li><li><a href="#connect-to-edge-routers" class="table-of-contents__link toc-highlight">Connect to Edge Routers</a></li><li><a href="#dial-the-service" class="table-of-contents__link toc-highlight">Dial the Service</a></li><li><a href="#established-circuit" class="table-of-contents__link toc-highlight">Established Circuit</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a class="footer__link-item" href="/policies/CODE_OF_CONDUCT">Policies</a><span class="footer__link-separator">·</span><a href="https://netfoundry.io/products/netfoundry-platform/netfoundry-cloud-for-openziti/" target="_blank" rel="noopener noreferrer" class="footer__link-item">NetFoundry Cloud</a><span class="footer__link-separator">·</span><a href="https://blog.openziti.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 NetFoundry Inc.</div></div></div></footer></div>
</body>
</html>