<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-learn/quickstarts/browzer/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">BrowZer | OpenZiti</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://openziti.io/docs/learn/quickstarts/browzer/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="robots" content="index, follow"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="BrowZer | OpenZiti"><meta data-rh="true" name="description" content="BrowZer is a set of technologies which is capable of bootstrapping zero trust connectivity entirely in a browser,"><meta data-rh="true" property="og:description" content="BrowZer is a set of technologies which is capable of bootstrapping zero trust connectivity entirely in a browser,"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://openziti.io/docs/learn/quickstarts/browzer/"><link data-rh="true" rel="alternate" href="https://openziti.io/docs/learn/quickstarts/browzer/" hreflang="en"><link data-rh="true" rel="alternate" href="https://openziti.io/docs/learn/quickstarts/browzer/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://EXWPKK5PV4-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-5SF399H3",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>




<link rel="search" type="application/opensearchdescription+xml" title="OpenZiti" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.08f4e1e6.css">
<link rel="preload" href="/assets/js/runtime~main.2f964a91.js" as="script">
<link rel="preload" href="/assets/js/main.2aa511be.js" as="script">
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5SF399H3" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>



<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="root_VOM9"><span style="color:whitesmoke">Star us on GitHubÂ </span><span style="height:20px"><span><a href="https://github.com/openziti/ziti" data-icon="octicon-star" data-show-count="true" aria-label="Star buttons/github-buttons on GitHub">Star</a></span></span></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://openziti.io" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/ziti-logo-dark.svg" alt="The OpenZiti logo, an open source zero trust network overlay" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/ziti-logo-light.svg" alt="The OpenZiti logo, an open source zero trust network overlay" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/learn/introduction/">Documentation</a><a class="navbar__item navbar__link" href="/docs/downloads">Downloads</a><a href="https://blog.openziti.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Links</a><ul class="dropdown__menu"><li><div class="text-divider"><p>Socials</p></div></li><li><a href="https://www.youtube.com/OpenZiti" target="_blank" title="OpenZiti on YouTube"><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/yt.svg">YouTube</span></a></li><li><a href="https://twitter.com/OpenZiti" target="_blank" title="OpenZiti on Twitter"><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/twit.svg">Twitter</span></a></li><li><a href="https://www.reddit.com/r/openziti" target="_blank" title="OpenZiti Subreddit"><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/reddit-logo.png">Reddit</span></a></li><li><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/ziggy.png"><a href="https://twitter.com/OpenZiggy" target="_blank" title="OpenZiggy on Twitter">Ziggy</a></span></li><li><div class="text-divider"><p>Other</p></div></li><li><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/blog-icon.png"><a href="https://blog.openziti.io/" target="_blank" title="Blog">Blog</a></span></li><li><span id="navbarDropdownItem"><img id="navbarDropdownImage" src="/img/oz-test-kitchen.png"><a href="https://github.com/openziti-test-kitchen" target="_blank" title="Git project for the test kitchen">Test Kitchen</a></span></li></ul></div><a href="https://openziti.discourse.group/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discourse-link" title="Discourse"></a><a href="https://github.com/openziti/ziti" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" title="GitHub"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_eExm docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 sidebar-title"><a class="menu__link" href="/docs/learn/introduction/">LEARN</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/learn/introduction/">What is OpenZiti?</a><button aria-label="Toggle the collapsible sidebar category &#x27;What is OpenZiti?&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/learn/quickstarts/">Quickstarts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Quickstarts&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/network">Network</a><button aria-label="Toggle the collapsible sidebar category &#x27;Network&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/quickstarts/zac/">Console</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" tabindex="0" href="/docs/learn/quickstarts/browzer/">BrowZer</a><button aria-label="Toggle the collapsible sidebar category &#x27;BrowZer&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/quickstarts/browzer/chrome-origin-trials">Chrome Origin Trials</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/learn/quickstarts/browzer/example/">Example Enabling BrowZer</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/learn/quickstarts/services/">Services</a><button aria-label="Toggle the collapsible sidebar category &#x27;Services&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/core-concepts">Core Concepts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Core Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 sidebar-title"><a class="menu__link" href="/docs/reference/">REFERENCE</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/reference/config-types/">Config Types</a><button aria-label="Toggle the collapsible sidebar category &#x27;Config Types&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/reference/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/reference/tunnelers/">Tunnelers</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tunnelers&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/reference/configuration/conventions">Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/reference/logging">Logging</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/reference/developer/">Developer</a><button aria-label="Toggle the collapsible sidebar category &#x27;Developer&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/reference/glossary">Glossary</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 sidebar-title"><a class="menu__link" href="/docs/guides/">GUIDES</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/guides/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/identity-providers-for-browZer">BrowZer IdPs</a><button aria-label="Toggle the collapsible sidebar category &#x27;BrowZer IdPs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/deployments">Deployments</a><button aria-label="Toggle the collapsible sidebar category &#x27;Deployments&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/guides/hsm/">Hardware Keys</a><button aria-label="Toggle the collapsible sidebar category &#x27;Hardware Keys&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/topologies">Topologies</a><button aria-label="Toggle the collapsible sidebar category &#x27;Topologies&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/troubleshooting">Troubleshooting</a><button aria-label="Toggle the collapsible sidebar category &#x27;Troubleshooting&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/learn/quickstarts/"><span itemprop="name">Quickstarts</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">BrowZer</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>BrowZer</h1></header><p>BrowZer is a set of technologies which is capable of bootstrapping zero trust connectivity entirely in a browser,
and without the need to install any client-side software! To enable BrowZer on your network the <code>ziti-browzer-bootstrapper</code>
will need to be deployed. This pages outlines the steps needed to deploy BrowZer to your own overlay. For an example
of enabling BrowZer, see the <a href="/docs/learn/quickstarts/browzer/example/">Example Enabling BrowZer</a> subpage showing the steps in more detail.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">â</a></h2><p>To deploy and enable BrowZer on your network, you will need to have:</p><ul><li>an OpenZiti Overlay Network is available and has been configured with alternative server certs</li><li>an OIDC Provider and the ability to define applications/clients for the provider</li><li>a wildcard certificate from a 3rd party verifiable CA</li><li>you have signed up with Chrome&#x27;s &quot;origin trials&quot; to allow the BrowZer bootstrapper to automatically enable
<a href="https://v8.dev/blog/jspi" target="_blank" rel="noopener noreferrer">JSPI</a> for your BrowZer users. See <a href="/docs/learn/quickstarts/browzer/chrome-origin-trials">the chrome-origin-trials</a>
for more detail </li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="oidc-prerequisites">OIDC Prerequisites<a href="#oidc-prerequisites" class="hash-link" aria-label="Direct link to OIDC Prerequisites" title="Direct link to OIDC Prerequisites">â</a></h3><p>Enabling BrowZer will require configuring the network to delegate authentication to an OIDC provider. Every OIDC
provider is different and understanding OIDC flows is beyond this guide. There are
<a href="https://www.oauth.com/oauth2-servers/client-registration/client-id-secret/" target="_blank" rel="noopener noreferrer">numerous</a>,
<a href="https://developer.okta.com/blog/2019/10/21/illustrated-guide-to-oauth-and-oidc" target="_blank" rel="noopener noreferrer">excellent</a>
<a href="https://developers.google.com/identity/openid-connect/openid-connect" target="_blank" rel="noopener noreferrer">posts</a> to find and read about OIDC. The OIDC
concepts you will want to understand are:</p><ul><li>how to create/obtain the client id the network will use</li><li>how to learn/find/discover the OIDC discovery endpoint</li><li>what <code>audience</code> the OIDC provider will add to the bearer token</li><li>what field or <code>claim</code> the OIDC provider will add to the bearer token which will be used to locate matching identities</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-the-network">Configuring the Network<a href="#configuring-the-network" class="hash-link" aria-label="Direct link to Configuring the Network" title="Direct link to Configuring the Network">â</a></h2><p>With the OIDC information in hand, the next step is to actually configure OpenZiti to allow the delegation of authentication.
To do this you will need to:</p><ul><li>create an <a href="/docs/learn/core-concepts/security/authentication/external-jwt-signers">external jwt signer</a></li><li>create an <a href="/docs/learn/core-concepts/security/authentication/authentication-policies">authentication policy</a>
and associate the external jwt signer</li><li>associate identities with the authentication policy delegating the authentication to the specified OIDC provider</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-the-external-jwt-signer">Creating the External JWT Signer<a href="#creating-the-external-jwt-signer" class="hash-link" aria-label="Direct link to Creating the External JWT Signer" title="Direct link to Creating the External JWT Signer">â</a></h3><p>To create the external jwt signer, you will need to have the OIDC discovery endpoint and the <code>audience</code> values handy.
Using the OIDC discovery endpoint, discover the <code>issuer</code> and <code>jwks_uri</code> from the discovery endpoint. Using the <code>ziti</code>
CLI, create the external jwt. Shown below is a <code>bash</code> example. Replace the values accordingly. Capture the returned
identity, it will be necessary after creating the external jwt signer:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">issuer=&quot;__issuer_id_here__&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">jwks_uri=&quot;__jwks_uri_here__&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">audience=&quot;__audience_here__&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">claims_property=&quot;email&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ziti edge create ext-jwt-signer \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;ext-jwt-signer-name-here&quot; &quot;${issuer}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --jwks-endpoint &quot;${jwks_uri}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --audience &quot;${audience}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --claims-property ${claims_property}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-the-authentication-policy">Creating the Authentication Policy<a href="#creating-the-authentication-policy" class="hash-link" aria-label="Direct link to Creating the Authentication Policy" title="Direct link to Creating the Authentication Policy">â</a></h3><p>Authentication policies configure the network to delegate authentication one or more OIDC providers. To
create the authentication policy you only need the id of the external jwt signer (from above). Shown below is a <code>bash</code>
example. Replace the values accordingly. Capture the returned identity, it will be necessary after creating the external
jwt signer:</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Shown below is an example creating a <strong>new</strong> authentication policy and allowing it to be used for <strong>primary</strong>
authentication. This means the associated external jwt signer (OIDC provider) is allowed to provide a document that
OpenZiti will validate, and use for authentication. You can also choose to modify the <strong>default</strong> policy if you decide
to. You do not need to create a <strong>new</strong> policy. If this is your first time using BrowZer it is recommended you start
with a new authentication policy, as shown. Once you understand how authentication policies work and how BrowZer works,
then you can make an informed decision if you want to modify the default authentication policy or not</p></div></div><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ext_jwt_signer=&quot;__ext_jwt_signer_id_from_above__&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ziti edge create auth-policy \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;auth-policy-name-here&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --primary-ext-jwt-allowed \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --primary-ext-jwt-allowed-signers ${ext_jwt_signer}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="associate-identities-to-the-authentication-policy">Associate Identities to the Authentication Policy<a href="#associate-identities-to-the-authentication-policy" class="hash-link" aria-label="Direct link to Associate Identities to the Authentication Policy" title="Direct link to Associate Identities to the Authentication Policy">â</a></h3><p>With an auth policy created and associated to the external jwt signer, you are now ready to create or modify identities
to use this new authentication policy. To allow a given identity to be enabled for BrowZer, you will need to first
update (or create) the identity with an <code>externalId</code> and you will need to associate the identity with the authentication
policy.</p><p>In this example, a new identity will be created and the associated OIDC provider will be expected to provide a bearer
token which has an <code>email</code> claim with the value <code>ziggy@openziti.io</code> and names the identity <code>openziti_ziggy</code>:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">identity_name=&quot;openziti_ziggy&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auth_policy=&quot;__auth_policy_id_from_above__&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">external_id=&quot;ziggy@openziti.io&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ziti edge create identity user &quot;${identity_name}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --auth-policy ${auth_policy} \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --external-id &quot;${external_id}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -a docker.whale.dialers</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-ziti-browzer-bootstrapper">Running the Ziti BrowZer Bootstrapper<a href="#running-the-ziti-browzer-bootstrapper" class="hash-link" aria-label="Direct link to Running the Ziti BrowZer Bootstrapper" title="Direct link to Running the Ziti BrowZer Bootstrapper">â</a></h2><p>Running the Ziti BrowZer Bootstrapper can be done directly using NodeJS or with a container engine such as Docker. Either
way you choose to run it, you will need to establish some environment variables. If you are using NodeJS, you&#x27;ll <code>export</code>
them. To run using Docker, you can either reference the environment variables (shown below) or use an <code>.env</code> file.</p><ul><li><code>NODE_ENV</code>: controls if the environment is <code>production</code> or <code>development</code></li><li><code>ZITI_BROWZER_RUNTIME_LOGLEVEL</code>: the log level for the Ziti BrowZer Runtime (ZBR) to use. <code>trace|debug|info|warn|error</code></li><li><code>ZITI_BROWZER_RUNTIME_HOTKEY</code>: the hotkey to activate the BrowZer settings dialog modal. default: alt+F12</li><li><code>ZITI_CONTROLLER_HOST</code>: the &quot;alternative&quot; address for the OpenZiti controller. example: <code>ctrl.openziti.io</code></li><li><code>ZITI_CONTROLLER_PORT</code>: the port to find the OpenZiti controller at. example: <code>8441</code></li><li><code>ZITI_BROWZER_BOOTSTRAPPER_LOGLEVEL</code>: the log level for the ziti-browzer-bootstrapper to log at. <code>silly|debug|info|warn|error</code></li><li><code>ZITI_BROWZER_BOOTSTRAPPER_HOST</code>: the address the ziti-browzer-bootstrapper is available at. example: <code>browzer.openziti.io</code></li><li><code>ZITI_BROWZER_BOOTSTRAPPER_LISTEN_PORT</code>: the port the ziti-browzer-bootstrapper is available at. example: <code>443</code></li><li><code>ZITI_BROWZER_BOOTSTRAPPER_SCHEME</code>: the scheme to use to access the ziti-browzer-bootstrapper. <code>http|https</code> (https by default)</li><li><code>ZITI_BROWZER_BOOTSTRAPPER_CERTIFICATE_PATH</code>: the path to the certificate the ziti-browzer-bootstrapper presents to clients</li><li><code>ZITI_BROWZER_BOOTSTRAPPER_KEY_PATH</code>: the associated key for the ZITI_BROWZER_BOOTSTRAPPER_CERTIFICATE_PATH</li><li><code>ZITI_BROWZER_RUNTIME_ORIGIN_TRIAL_TOKEN</code>: the token obtained from the origin trials prerequisite</li><li><code>ZITI_BROWZER_BOOTSTRAPPER_TARGETS</code>: A json block representing the services to enable BrowZer for.</li></ul><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">      NODE_ENV: production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ZITI_BROWZER_RUNTIME_LOGLEVEL: debug</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ZITI_BROWZER_RUNTIME_HOTKEY: alt+F12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ZITI_CONTROLLER_HOST: ${ZITI_CTRL_EDGE_ALT_ADVERTISED_ADDRESS}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ZITI_CONTROLLER_PORT: ${ZITI_CTRL_EDGE_ADVERTISED_PORT}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ZITI_BROWZER_BOOTSTRAPPER_LOGLEVEL: debug</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ZITI_BROWZER_BOOTSTRAPPER_HOST: ${ZITI_BROWZER_HTTP_AGENT_ADDRESS}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ZITI_BROWZER_BOOTSTRAPPER_LISTEN_PORT: ${ZITI_BROWZER_BOOTSTRAPPER_LISTEN_PORT}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ZITI_BROWZER_BOOTSTRAPPER_SCHEME: https</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ZITI_BROWZER_BOOTSTRAPPER_CERTIFICATE_PATH: /etc/letsencrypt/live/your.fqdn.here/fullchain.pem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ZITI_BROWZER_BOOTSTRAPPER_KEY_PATH: /etc/letsencrypt/live/your.fqdn.here/privkey.pem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ZITI_BROWZER_RUNTIME_ORIGIN_TRIAL_TOKEN=__the_token_you_received_from_the_jspi_orgin_trial_prerequisite__</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ZITI_BROWZER_BOOTSTRAPPER_TARGETS: __more on this below__</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Set these values accordingly. Also shown is the reuse of certificates provisioned in this case by LetsEncrypt. BrowZer
requires a wildcard certificate to be provisioned that aligns to the <code>ZITI_BROWZER_BOOTSTRAPPER_HOST</code> value used. For example, if you had
set <code>ZITI_BROWZER_BOOTSTRAPPER_HOST=my.custom.network</code>, the certificate must be valid for <code>*.my.custom.network</code></p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>If you use Certbot/LetsEncrypt, the certificate created is likely to be accessible by root only.
You will need to modify the folder/files accordingly.
accordingly.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cloning-from-github">Cloning From GitHub<a href="#cloning-from-github" class="hash-link" aria-label="Direct link to Cloning From GitHub" title="Direct link to Cloning From GitHub">â</a></h2><p>Once the environment variables are set, to start the Ziti BrowZer Bootstrapper perform the following:</p><ul><li>clone the repository and checkout the desired tag/version. <code>main</code> should be fine:<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/openziti/ziti-browzer-bootstrapper.git $ZITI_HOME/ziti-browzer-bootstrapper</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>cd to the cloned location: <code>cd $ZITI_HOME/ziti-browzer-bootstrapper</code></li><li>ensure the proper version of node and yarn are installed and run yarn install: <code>yarn install</code></li><li>start the node server:<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">NODE_EXTRA_CA_CERTS=node_modules/node_extra_ca_certs_mozilla_bundle/ca_bundle/ca_intermediate_root_bundle.pem node index.js</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="running-via-docker">Running via Docker<a href="#running-via-docker" class="hash-link" aria-label="Direct link to Running via Docker" title="Direct link to Running via Docker">â</a></h2><p>Running the Ziti BrowZer Bootstrapper using Docker is similar to running with NodeJS. Establish the environment variables
then run the agent with a command as shown. Note that this is running in the foreground. It&#x27;s up to you to decide to put
this into daemon mode, to use <code>docker compose</code>, etc.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>To work around the LetsEncrypt issue mentioned above (the certs only visible to root), this example explicitly sets the
--user the container runs as to a group id of 2171. Not shown was the creation of this group prior to running in Docker.
In the Docker host OS, a group was added using a command such as: <code>sudo groupadd -g 2171 zitiweb</code>. Then the
LetsEncrypt folder containing the certificates/keys was chown&#x27;ed: <code>sudo chown -R root:zitiweb /etc/letsencrypt/</code>.
This allows the Docker container that will run the bootstrapper to access the files</p><p>Understanding the exact mechanics of why/how this works is beyond the scope of this page and is more relevant to Linux/Docker
system administration.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-docker-command">Example Docker Command<a href="#example-docker-command" class="hash-link" aria-label="Direct link to Example Docker Command" title="Direct link to Example Docker Command">â</a></h3><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker run \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --name ziti-browzer-bootstrapper \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --rm -v /etc/letsencrypt:/etc/letsencrypt \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --user &quot;${UID}:2171&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -p ${ZITI_BROWZER_BOOTSTRAPPER_LISTEN_PORT}:${ZITI_BROWZER_BOOTSTRAPPER_LISTEN_PORT} \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e NODE_ENV=&quot;${NODE_ENV}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e ZITI_BROWZER_BOOTSTRAPPER_LOGLEVEL=&quot;${ZITI_BROWZER_BOOTSTRAPPER_LOGLEVEL}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e ZITI_BROWZER_RUNTIME_LOGLEVEL=&quot;${ZITI_BROWZER_RUNTIME_LOGLEVEL}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e ZITI_BROWZER_RUNTIME_HOTKEY=&quot;${ZITI_BROWZER_RUNTIME_HOTKEY}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e ZITI_CONTROLLER_HOST=&quot;${ZITI_CONTROLLER_HOST}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e ZITI_CONTROLLER_PORT=&quot;${ZITI_CONTROLLER_PORT}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e ZITI_BROWZER_BOOTSTRAPPER_HOST=&quot;${ZITI_BROWZER_BOOTSTRAPPER_HOST}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e ZITI_BROWZER_BOOTSTRAPPER_SCHEME=&quot;${ZITI_BROWZER_BOOTSTRAPPER_SCHEME}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e ZITI_BROWZER_BOOTSTRAPPER_CERTIFICATE_PATH=&quot;${ZITI_BROWZER_BOOTSTRAPPER_CERTIFICATE_PATH}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e ZITI_BROWZER_BOOTSTRAPPER_KEY_PATH=&quot;${ZITI_BROWZER_BOOTSTRAPPER_KEY_PATH}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e ZITI_BROWZER_BOOTSTRAPPER_LISTEN_PORT=&quot;${ZITI_BROWZER_BOOTSTRAPPER_LISTEN_PORT}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e ZITI_BROWZER_RUNTIME_ORIGIN_TRIAL_TOKEN=&quot;${ZITI_BROWZER_RUNTIME_ORIGIN_TRIAL_TOKEN}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e ZITI_BROWZER_BOOTSTRAPPER_TARGETS=&quot;${ZITI_BROWZER_BOOTSTRAPPER_TARGETS}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ghcr.io/openziti/ziti-browzer-bootstrapper:latest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="enabling-browzer-with-systemd">Enabling BrowZer with Systemd<a href="#enabling-browzer-with-systemd" class="hash-link" aria-label="Direct link to Enabling BrowZer with Systemd" title="Direct link to Enabling BrowZer with Systemd">â</a></h2><p>If you want the BrowZer Bootstrap Agent to start when the machine starts or if the process fails for some reason
and you have <a href="https://en.wikipedia.org/wiki/Systemd" target="_blank" rel="noopener noreferrer">systemd</a> on your system, you can enable the BrowZer Bootstrap Agent
to start automatically on failure or reboot.</p><p>If you have used the <a href="/docs/learn/quickstarts/network/local-no-docker">Local - No Docker</a> or the
<a href="/docs/learn/quickstarts/network/hosted">&quot;host it anywhere&quot; quickstart</a> quickstarts, you would have sourced the<br>
<code>ziti-cli-function.sh</code> helper script. If not, you can add the function to your shell or inspect the function and
replicate the output it produces. Find the function here: <a href="https://get.openziti.io/ziti-cli-functions.sh" target="_blank" rel="noopener noreferrer">https://get.openziti.io/ziti-cli-functions.sh</a></p><p>As with any script hosted on the internet, you are encouraged to download or preview the script from a browser
before sourcing it. Once you are comfortable with the script, you can source it directly if you wish by running:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">source /dev/stdin &lt;&lt;&lt; &quot;$(wget -qO- https://get.openziti.io/ziti-cli-functions.sh)&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You should also ensure you have the appropriate environment variable (<code>$ZITI_HOME</code>) in your shell before running
the function as it&#x27;s used when creating the file or you&#x27;ll see:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  * ERROR: ZITI_HOME is not set</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Also, if <code>node</code> is not on the path you&#x27;ll see:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ERROR: missing executable &#x27;node&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can file: <code>createBrowZerSystemdFile</code>. Execute this now and you&#x27;ll see something like:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Ziti BrowZer Bootstrapper systemd file written to: /home/ubuntu/.ziti/quickstart/ip-172-31-47-200/browzer-bootstrapper.service</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once created, you can copy that file and <code>enable</code> the unit with systemd:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">createBrowZerSystemdFile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo cp &quot;${ZITI_HOME}/browzer-bootstrapper.service&quot; /etc/systemd/system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo systemctl daemon-reload</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo systemctl enable --now browzer-bootstrapper</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Verify BrowZer Started</summary><div><div class="collapsibleContent_i85q"><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">systemctl status browzer-bootstrapper --no-pager --lines 0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example systemctl Output</summary><div><div class="collapsibleContent_i85q"><p>You should see output that looks similar to this. Notice the &quot;Active&quot; status is (running) and not failed/restarting etc:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">â browzer-bootstrapper.service - A systemd unit file for the Ziti BrowZer Bootstrapper</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     Loaded: loaded (/etc/systemd/system/browzer-bootstrapper.service; enabled; vendor preset: enabled)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     Active: active (running) since Fri 2023-08-18 12:52:54 UTC; 1min 24s ago</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   Main PID: 54770 (node)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Tasks: 11 (limit: 2316)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     Memory: 42.9M</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CPU: 2.269s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     CGroup: /system.slice/browzer-bootstrapper.service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             ââ54770 /usr/local/bin/node /home/ubuntu/.ziti/quickstart/ip-172-31-47-200/ziti-browzer-bootstraâ¦</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details></div></div></details></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/openziti/ziti-doc/tree/main/docusaurus/docs/learn/quickstarts/browzer/index.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/learn/quickstarts/zac/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Console</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/learn/quickstarts/browzer/chrome-origin-trials"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Chrome Origin Trials</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a><ul><li><a href="#oidc-prerequisites" class="table-of-contents__link toc-highlight">OIDC Prerequisites</a></li></ul></li><li><a href="#configuring-the-network" class="table-of-contents__link toc-highlight">Configuring the Network</a><ul><li><a href="#creating-the-external-jwt-signer" class="table-of-contents__link toc-highlight">Creating the External JWT Signer</a></li><li><a href="#creating-the-authentication-policy" class="table-of-contents__link toc-highlight">Creating the Authentication Policy</a></li><li><a href="#associate-identities-to-the-authentication-policy" class="table-of-contents__link toc-highlight">Associate Identities to the Authentication Policy</a></li></ul></li><li><a href="#running-the-ziti-browzer-bootstrapper" class="table-of-contents__link toc-highlight">Running the Ziti BrowZer Bootstrapper</a></li><li><a href="#cloning-from-github" class="table-of-contents__link toc-highlight">Cloning From GitHub</a></li><li><a href="#running-via-docker" class="table-of-contents__link toc-highlight">Running via Docker</a><ul><li><a href="#example-docker-command" class="table-of-contents__link toc-highlight">Example Docker Command</a></li></ul></li><li><a href="#enabling-browzer-with-systemd" class="table-of-contents__link toc-highlight">Enabling BrowZer with Systemd</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a class="footer__link-item" href="/policies/CODE_OF_CONDUCT">Policies</a><span class="footer__link-separator">Â·</span><a href="https://netfoundry.io/products/netfoundry-platform/netfoundry-cloud-for-openziti/" target="_blank" rel="noopener noreferrer" class="footer__link-item">NetFoundry Cloud</a><span class="footer__link-separator">Â·</span><a href="https://blog.openziti.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 NetFoundry Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.2f964a91.js"></script>
<script src="/assets/js/main.2aa511be.js"></script>
</body>
</html>