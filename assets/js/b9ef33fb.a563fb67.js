"use strict";(self.webpackChunkdocusaurus_3=self.webpackChunkdocusaurus_3||[]).push([[7651],{82416:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"reference/tunnelers/linux/index","title":"Linux Tunneller","description":"Persistent, writable volumes are necessary for the tunneler to manage identity files, e.g., certificate renewal.","source":"@site/docs/reference/tunnelers/60-linux/index.mdx","sourceDirName":"reference/tunnelers/60-linux","slug":"/reference/tunnelers/linux/","permalink":"/docs/reference/tunnelers/linux/","draft":false,"unlisted":false,"editUrl":"https://github.com/openziti/ziti-doc/tree/main/docusaurus/docs/reference/tunnelers/60-linux/index.mdx","tags":[],"version":"current","lastUpdatedAt":1755012537000,"frontMatter":{"title":"Linux Tunneller"},"sidebar":"docsSidebar","previous":{"title":"iOS","permalink":"/docs/reference/tunnelers/iOS"},"next":{"title":"Debian","permalink":"/docs/reference/tunnelers/linux/debian-package"}}');var a=t(74848),l=t(28453),s=(t(11470),t(19365),t(84971));const i={title:"Linux Tunneller"},o=void 0,u={},c=[{value:"Install Linux Package",id:"install-linux-package",level:2},{value:"Run with Docker",id:"run-with-docker",level:2},{value:"Install a Pre-Release",id:"install-a-pre-release",level:2},{value:"DEB Pre-Release",id:"deb-pre-release",level:3},{value:"RPM Pre-Release",id:"rpm-pre-release",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.admonition,{type:"important",children:(0,a.jsx)(n.p,{children:"Persistent, writable volumes are necessary for the tunneler to manage identity files, e.g., certificate renewal."})}),"\n",(0,a.jsx)(n.p,{children:"The purpose of the tunneller is to configure host access. This means all users and all processes on the host will share\nthe same level of access. This is accomplished by configuring the OS to have an OpenZiti DNS nameserver and IP routes\nfor authorized services."}),"\n",(0,a.jsx)(n.h2,{id:"install-linux-package",children:"Install Linux Package"}),"\n",(0,a.jsx)(n.p,{children:"Reasons to use the package:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Install the tunneller as a systemd service."}),"\n",(0,a.jsx)(n.li,{children:"Create permissions and policies for the tunneller to run as a non-root user."}),"\n",(0,a.jsx)(n.li,{children:"Enroll the identity and clean up the enrollment token in identity directory."}),"\n",(0,a.jsx)(n.li,{children:"Upgrade the tunneller when a new package is available."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Linux DEB packages are currently available for the x86_64 and arm64 platforms and RPM packages are available for x86_64.\nARM/v7 (32bit) binaries are available from GitHub."}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"/docs/reference/tunnelers/linux/debian-package",children:"Debian"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"/docs/reference/tunnelers/linux/redhat-package",children:"RedHat"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"/docs/reference/tunnelers/linux/manual-installation",children:"GitHub"})}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"run-with-docker",children:"Run with Docker"}),"\n",(0,a.jsxs)(n.p,{children:["Reference ",(0,a.jsx)(n.a,{href:"/docs/reference/tunnelers/docker/",children:"the article about running the Linux tunneller in a container"})," for guidance and\nexamples."]}),"\n",(0,a.jsx)(n.h2,{id:"install-a-pre-release",children:"Install a Pre-Release"}),"\n",(0,a.jsx)(n.h3,{id:"deb-pre-release",children:"DEB Pre-Release"}),"\n",(0,a.jsxs)(s.A,{children:[(0,a.jsx)("summary",{children:"Pre-release repo for Debian-based distros"}),(0,a.jsx)(n.p,{children:"You may use the following script to install the pre-release version of the tunneller for any supported Ubuntu LTS."}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:"UBUNTU_LTS=focal;\n\ncurl -sSLf https://get.openziti.io/tun/package-repos.gpg \\\n| sudo gpg --dearmor --output /usr/share/keyrings/openziti.gpg;\nsudo chmod +r /usr/share/keyrings/openziti.gpg;\n\nsudo tee /etc/apt/sources.list.d/ziti-edge-tunnel-testing.list >/dev/null <<EOF;\ndeb [signed-by=/usr/share/keyrings/openziti.gpg] https://packages.openziti.org/zitipax-openziti-deb-test ${UBUNTU_LTS} main\nEOF\n\nsudo apt update;\nsudo apt install ziti-edge-tunnel;\nziti-edge-tunnel version;\n"})})]}),"\n",(0,a.jsx)(n.h3,{id:"rpm-pre-release",children:"RPM Pre-Release"}),"\n",(0,a.jsxs)(s.A,{children:[(0,a.jsx)("summary",{children:"Pre-release repo for RedHat-based distros"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:"sudo tee /etc/yum.repos.d/ziti-edge-tunnel-testing.repo >/dev/null <<\\EOF;\n[OpenZitiTunnelTesting]\nname=OpenZiti Tunnel Testing\nbaseurl=https://packages.openziti.org/zitipax-openziti-rpm-test/redhat$releasever/$basearch\nenabled=1\ngpgcheck=0\ngpgkey=https://packages.openziti.org/zitipax-openziti-rpm-test/redhat$releasever/$basearch/repodata/repomd.xml.key\nrepo_gpgcheck=1\nEOF\n\nsudo dnf update;\nsudo dnf install ziti-edge-tunnel;\nziti-edge-tunnel version;\n"})})]}),"\n",(0,a.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,a.jsxs)(n.p,{children:["Refer to ",(0,a.jsx)(n.a,{href:"/docs/reference/tunnelers/linux/linux-tunnel-troubleshooting",children:"the troubleshooting guide"})]})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},84971:(e,n,t)=>{t.d(n,{A:()=>g});var r=t(96540),a=t(34164),l=t(63427),s=t(92303),i=t(41422);const o={details:"details_lb9f",isBrowser:"isBrowser_bmU9",collapsibleContent:"collapsibleContent_i85q"};var u=t(74848);function c(e){return!!e&&("SUMMARY"===e.tagName||c(e.parentElement))}function d(e,n){return!!e&&(e===n||d(e.parentElement,n))}function p({summary:e,children:n,...t}){(0,l.A)().collectAnchor(t.id);const p=(0,s.A)(),h=(0,r.useRef)(null),{collapsed:f,setCollapsed:m}=(0,i.u)({initialState:!t.open}),[g,b]=(0,r.useState)(t.open),x=r.isValidElement(e)?e:(0,u.jsx)("summary",{children:e??"Details"});return(0,u.jsxs)("details",{...t,ref:h,open:g,"data-collapsed":f,className:(0,a.A)(o.details,p&&o.isBrowser,t.className),onMouseDown:e=>{c(e.target)&&e.detail>1&&e.preventDefault()},onClick:e=>{e.stopPropagation();const n=e.target;c(n)&&d(n,h.current)&&(e.preventDefault(),f?(m(!1),b(!0)):m(!0))},children:[x,(0,u.jsx)(i.N,{lazy:!1,collapsed:f,onCollapseTransitionEnd:e=>{m(e),b(!e)},children:(0,u.jsx)("div",{className:o.collapsibleContent,children:n})})]})}const h={details:"details_b_Ee"},f="alert alert--info";function m({...e}){return(0,u.jsx)(p,{...e,className:(0,a.A)(f,h.details,e.className)})}function g(e){const n=r.Children.toArray(e.children),t=n.find((e=>r.isValidElement(e)&&"summary"===e.type)),a=(0,u.jsx)(u.Fragment,{children:n.filter((e=>e!==t))});return(0,u.jsx)(m,{...e,summary:t,children:a})}},19365:(e,n,t)=>{t.d(n,{A:()=>s});t(96540);var r=t(34164);const a={tabItem:"tabItem_Ymn6"};var l=t(74848);function s({children:e,hidden:n,className:t}){return(0,l.jsx)("div",{role:"tabpanel",className:(0,r.A)(a.tabItem,t),hidden:n,children:e})}},11470:(e,n,t)=>{t.d(n,{A:()=>k});var r=t(96540),a=t(34164),l=t(23104),s=t(56347),i=t(205),o=t(57485),u=t(31682),c=t(70679);function d(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return d(e).map((({props:{value:e,label:n,attributes:t,default:r}})=>({value:e,label:n,attributes:t,default:r})))}(t);return function(e){const n=(0,u.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function h({value:e,tabValues:n}){return n.some((n=>n.value===e))}function f({queryString:e=!1,groupId:n}){const t=(0,s.W6)(),a=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,o.aZ)(a),(0,r.useCallback)((e=>{if(!a)return;const n=new URLSearchParams(t.location.search);n.set(a,e),t.replace({...t.location,search:n.toString()})}),[a,t])]}function m(e){const{defaultValue:n,queryString:t=!1,groupId:a}=e,l=p(e),[s,o]=(0,r.useState)((()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!h({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find((e=>e.default))??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:l}))),[u,d]=f({queryString:t,groupId:a}),[m,g]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,a]=(0,c.Dv)(n);return[t,(0,r.useCallback)((e=>{n&&a.set(e)}),[n,a])]}({groupId:a}),b=(()=>{const e=u??m;return h({value:e,tabValues:l})?e:null})();(0,i.A)((()=>{b&&o(b)}),[b]);return{selectedValue:s,selectValue:(0,r.useCallback)((e=>{if(!h({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);o(e),d(e),g(e)}),[d,g,l]),tabValues:l}}var g=t(92303);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var x=t(74848);function v({className:e,block:n,selectedValue:t,selectValue:r,tabValues:s}){const i=[],{blockElementScrollPositionUntilNextRender:o}=(0,l.a_)(),u=e=>{const n=e.currentTarget,a=i.indexOf(n),l=s[a].value;l!==t&&(o(n),r(l))},c=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const t=i.indexOf(e.currentTarget)+1;n=i[t]??i[0];break}case"ArrowLeft":{const t=i.indexOf(e.currentTarget)-1;n=i[t]??i[i.length-1];break}}n?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":n},e),children:s.map((({value:e,label:n,attributes:r})=>(0,x.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{i.push(e)},onKeyDown:c,onClick:u,...r,className:(0,a.A)("tabs__item",b.tabItem,r?.className,{"tabs__item--active":t===e}),children:n??e},e)))})}function j({lazy:e,children:n,selectedValue:t}){const l=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=l.find((e=>e.props.value===t));return e?(0,r.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:l.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==t})))})}function y(e){const n=m(e);return(0,x.jsxs)("div",{className:(0,a.A)("tabs-container",b.tabList),children:[(0,x.jsx)(v,{...n,...e}),(0,x.jsx)(j,{...n,...e})]})}function k(e){const n=(0,g.A)();return(0,x.jsx)(y,{...e,children:d(e.children)},String(n))}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>i});var r=t(96540);const a={},l=r.createContext(a);function s(e){const n=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);