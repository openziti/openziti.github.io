"use strict";(self.webpackChunkdocusaurus_3=self.webpackChunkdocusaurus_3||[]).push([[98308],{45580:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>x,contentTitle:()=>p,default:()=>v,frontMatter:()=>u,metadata:()=>c,toc:()=>j});const c=JSON.parse('{"id":"learn/core-concepts/security/authorization/policies/creating-service-policies","title":"creating-service-policies","description":"","source":"@site/docs/learn/core-concepts/security/authorization/policies/creating-service-policies.mdx","sourceDirName":"learn/core-concepts/security/authorization/policies","slug":"/learn/core-concepts/security/authorization/policies/creating-service-policies","permalink":"/docs/openziti/learn/core-concepts/security/authorization/policies/creating-service-policies","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"creating-service-edge-router-policies","permalink":"/docs/openziti/learn/core-concepts/security/authorization/policies/creating-service-edge-router-policies"},"next":{"title":"Posture Checks","permalink":"/docs/openziti/learn/core-concepts/security/authorization/posture-checks"}}');var s=n(74848),l=n(28453),r=n(11470),t=n(19365);function o(e){const i={code:"code",li:"li",ol:"ol",strong:"strong",...(0,l.R)(),...e.components};return(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:'On the left side nav bar, click "Ziti Policies"'}),"\n",(0,s.jsx)(i.li,{children:'On the top nav bar, click "Service Policies"'}),"\n",(0,s.jsx)(i.li,{children:'In the top right corner of the screen click the "plus" image to add a new Service Policy'}),"\n",(0,s.jsx)(i.li,{children:'Choose a name for the Service Policy, such as "My Service Policy"'}),"\n",(0,s.jsxs)(i.li,{children:['Select "Dial" or "Bind" in the Type dropdown',"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"Dial policies allow identities to use or connect to the service"}),"\n",(0,s.jsx)(i.li,{children:"Bind policies allow identities to host or provide the service"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["Enter the services you want to include in the policy","\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["Specific services can be referenced by ID or name using ",(0,s.jsx)(i.code,{children:"@"}),".  For example, a service called ",(0,s.jsx)(i.code,{children:"ssh"})," can be referenced using ",(0,s.jsx)(i.code,{children:"@ssh"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Services can be referenced by role attribute using ",(0,s.jsx)(i.code,{children:"#"}),". For example, any service which has the ",(0,s.jsx)(i.code,{children:"sales"})," role attribute will be included if ",(0,s.jsx)(i.code,{children:"#sales"})," is included in the service roles list."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["Enter the identities you want to include in the policy","\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["Specific identities can be referenced by ID or name using ",(0,s.jsx)(i.code,{children:"@"}),".  For example, an identity called ",(0,s.jsx)(i.code,{children:"jsmith-desktop"})," can be referenced using ",(0,s.jsx)(i.code,{children:"@jsmith-desktop"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["Identities can be referenced by role attribute using ",(0,s.jsx)(i.code,{children:"#"}),". For example, any identity which has the ",(0,s.jsx)(i.code,{children:"sales"})," role attribute will be included if ",(0,s.jsx)(i.code,{children:"#sales"})," is included in the identities roles list."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["Specify the role semantic","\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["If you select ",(0,s.jsx)(i.code,{children:"Has Any Role"})," then if you specify multiple roles then all entities which include ",(0,s.jsx)(i.strong,{children:"any"})," of the roles will be included."]}),"\n",(0,s.jsxs)(i.li,{children:["If you select ",(0,s.jsx)(i.code,{children:"Must Have All Roles"}),", then if you specify multiple roles then only entities which include ",(0,s.jsx)(i.strong,{children:"all"})," of the given roles will be included"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"Click save"}),"\n"]})}function d(e={}){const{wrapper:i}={...(0,l.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}function a(e){const i={a:"a",code:"code",li:"li",ol:"ol",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.p,{children:"To create a Service Policy using the CLI issue the following commands."}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:["To use the CLI, you'll need to be logged in. ",(0,s.jsx)(i.a,{href:"/docs/openziti/reference/command-line/login",children:"Link to instructions"})]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:["Create a service policy named ",(0,s.jsx)(i.code,{children:"my-policy"})," which allows all identities to dial/connect to all services."]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-text",children:"ziti edge create service-policy my-policy Dial --identity-roles '#all' --service-roles '#all'\n"})}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,l.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}const u={},p=void 0,x={},j=[];function y(e){return(0,s.jsxs)(r.A,{children:[(0,s.jsx)(t.A,{label:"New Service Policy via UI",value:"tabid-new-service-policy-ui",children:(0,s.jsx)(d,{})}),(0,s.jsx)(t.A,{label:"New Service Policy via CLI",value:"tabid-new-service-policy-cli",children:(0,s.jsx)(h,{})})]})}function v(e={}){const{wrapper:i}={...(0,l.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(y,{...e})}):y()}},19365:(e,i,n)=>{n.d(i,{A:()=>r});n(96540);var c=n(34164);const s={tabItem:"tabItem_Ymn6"};var l=n(74848);function r({children:e,hidden:i,className:n}){return(0,l.jsx)("div",{role:"tabpanel",className:(0,c.A)(s.tabItem,n),hidden:i,children:e})}},28453:(e,i,n)=>{n.d(i,{R:()=>r,x:()=>t});var c=n(96540);const s={},l=c.createContext(s);function r(e){const i=c.useContext(l);return c.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function t(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),c.createElement(l.Provider,{value:i},e.children)}}}]);