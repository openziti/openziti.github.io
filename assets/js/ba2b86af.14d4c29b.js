"use strict";(self.webpackChunkdocusaurus_3=self.webpackChunkdocusaurus_3||[]).push([[695],{78417:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"guides/Identity_Providers/okta/index","title":"How to set up Okta for BrowZer","description":"Okta for OpenZiti BrowZer","source":"@site/docs/guides/Identity_Providers/okta/index.md","sourceDirName":"guides/Identity_Providers/okta","slug":"/identity-providers-for-browZer-okta","permalink":"/docs/identity-providers-for-browZer-okta","draft":false,"unlisted":false,"editUrl":"https://github.com/openziti/ziti-doc/tree/main/docusaurus/docs/guides/Identity_Providers/okta/index.md","tags":[],"version":"current","frontMatter":{"title":"How to set up Okta for BrowZer","sidebar_label":"Okta","slug":"/identity-providers-for-browZer-okta"},"sidebar":"docsSidebar","previous":{"title":"Keycloak","permalink":"/docs/identity-providers-for-browZer-keycloak"},"next":{"title":"Ory Kratos","permalink":"/docs/identity-providers-for-browZer-ory-kratos"}}');var i=t(74848),s=t(28453);const o={title:"How to set up Okta for BrowZer",sidebar_label:"Okta",slug:"/identity-providers-for-browZer-okta"},d=void 0,c={},a=[{value:"Get an Okta Account",id:"get-an-okta-account",level:3},{value:"Add a new Application",id:"add-a-new-application",level:3},{value:"Gather IdP Information",id:"gather-idp-information",level:3},{value:"Gather <code>clientId</code>",id:"gather-clientid",level:4},{value:"Gather <code>issuer</code>",id:"gather-issuer",level:4},{value:"Gather <code>jwks_uri</code>",id:"gather-jwks_uri",level:4},{value:"Create External JWT Signer",id:"create-external-jwt-signer",level:3}];function l(e){const n={a:"a",code:"code",em:"em",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components},{Head:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Head",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r,{children:[(0,i.jsx)("title",{children:"Okta for OpenZiti BrowZer"}),(0,i.jsx)("meta",{name:"description",content:"How to configure Okta for OpenZiti BrowZer."})]}),"\n",(0,i.jsx)("img",{src:"/icons/logo-okta.svg",alt:"How to configure Okta for OpenZiti BrowZer",width:"20%"}),"\n",(0,i.jsx)(n.h3,{id:"get-an-okta-account",children:"Get an Okta Account"}),"\n",(0,i.jsxs)(n.p,{children:["If you don't already have an account you can sign up for a free Okta account at ",(0,i.jsx)(n.a,{href:"https://developer.okta.com/signup",children:"https://developer.okta.com/signup"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Okta Free Account",src:t(96542).A+"",width:"1102",height:"647"})}),"\n",(0,i.jsx)(n.h3,{id:"add-a-new-application",children:"Add a new Application"}),"\n",(0,i.jsxs)(n.p,{children:["Once you have an Okta account, click on ",(0,i.jsx)(n.strong,{children:"Applications"})," in the left navbar:"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Okta Applications",src:t(37416).A+"",width:"270",height:"462"})}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsxs)(n.p,{children:["Then click on the ",(0,i.jsx)(n.strong,{children:"Create App Integration"}),":"]}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Okta Applications",src:t(77878).A+"",width:"787",height:"243"})}),"\n",(0,i.jsx)(n.p,{children:"Next, select the type of SSO protocol to implement."}),"\n",(0,i.jsx)(n.p,{children:"Okta supports two SSO standards:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"OpenID Connect (OIDC)"})," and"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"Security Assertion Markup Language (SAML)"})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Okta recommends using ",(0,i.jsx)(n.code,{children:"OIDC"})," for new SSO integrations, and, ",(0,i.jsx)(n.em,{children:(0,i.jsx)(n.strong,{children:"BrowZer requires OIDC"})}),", so select ",(0,i.jsx)(n.code,{children:"OIDC"}),":"]}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Okta OIDC",src:t(16523).A+"",width:"923",height:"424"})}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsxs)(n.p,{children:["Now, select the ",(0,i.jsx)(n.strong,{children:"Application type"})," of ",(0,i.jsx)(n.code,{children:"Single-Page Application"})]}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Okta OIDC",src:t(14680).A+"",width:"926",height:"777"})}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsxs)(n.p,{children:["Click ",(0,i.jsx)(n.strong,{children:"Next"})]}),"\n",(0,i.jsx)(n.p,{children:"Give your SPA a name."}),"\n",(0,i.jsxs)(n.p,{children:["Ensure ",(0,i.jsx)(n.strong,{children:"Grant type"})," is ",(0,i.jsx)(n.em,{children:"Authorization Code"})]}),"\n",(0,i.jsxs)(n.p,{children:["Set ",(0,i.jsx)(n.strong,{children:"Sign-in Redirect URIs"})," to ",(0,i.jsx)(n.code,{children:"https://<YOUR_BROWZER_DOMAIN>/login/callback"})," (where YOUR_BROWZER_DOMAIN is ",(0,i.jsx)(n.a,{href:"/docs/learn/quickstarts/browzer/example/#before-you-begin",children:"determined here"}),")"]}),"\n",(0,i.jsxs)(n.p,{children:["Set ",(0,i.jsx)(n.strong,{children:"Sign-out Redirect URIs"})," to ",(0,i.jsx)(n.code,{children:"https://<YOUR_BROWZER_DOMAIN>"})," (where YOUR_BROWZER_DOMAIN is ",(0,i.jsx)(n.a,{href:"/docs/learn/quickstarts/browzer/example/#before-you-begin",children:"determined here"}),")"]}),"\n",(0,i.jsxs)(n.p,{children:["Set ",(0,i.jsx)(n.strong,{children:"COntrolled access"})," to ",(0,i.jsx)(n.code,{children:"Skip group assignment for now"})]}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Okta OIDC",src:t(92593).A+"",width:"738",height:"1183"})}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsxs)(n.p,{children:["Click ",(0,i.jsx)(n.strong,{children:"Save"})]}),"\n",(0,i.jsx)(n.h3,{id:"gather-idp-information",children:"Gather IdP Information"}),"\n",(0,i.jsxs)(n.p,{children:["Your OpenZiti network must be configured to become aware of your Okta identity provider.  OpenZiti refers to the identity provider as an ",(0,i.jsx)(n.code,{children:"External JWT Signer"}),".  Before you can set up the new JWT signer, you must gather some information from the new Okta Application that you just created:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["the ",(0,i.jsx)(n.code,{children:"clientId"})]}),"\n",(0,i.jsxs)(n.li,{children:["the ",(0,i.jsx)(n.code,{children:"issuer"})]}),"\n",(0,i.jsxs)(n.li,{children:["the ",(0,i.jsx)(n.code,{children:"jwks_uri"})]}),"\n"]}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsxs)(n.h4,{id:"gather-clientid",children:["Gather ",(0,i.jsx)(n.code,{children:"clientId"})]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"clientID"})," value can be found in the ",(0,i.jsx)(n.code,{children:"general"})," tab of the SPA you created above:"]}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Okta clientId",src:t(42342).A+"",width:"605",height:"425"})}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsxs)(n.h4,{id:"gather-issuer",children:["Gather ",(0,i.jsx)(n.code,{children:"issuer"})]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"issuer"})," can be found via the openid-configuration endpoint that all OIDC-compliant identity providers expose.  The openid-configuration endpoint URL for Okta looks like this:"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"https://<OKTA_DOMAIN>/.well-known/openid-configuration"})," (where ",(0,i.jsx)(n.code,{children:"OKTA_DOMAIN"})," for a free dev account will resemble ",(0,i.jsx)(n.code,{children:"dev-12345678.okta.com"}),")"]}),"\n",(0,i.jsxs)(n.p,{children:["When you enter the openid-configuration endpoint URL (",(0,i.jsx)(n.code,{children:"https://<OKTA_DOMAIN>/.well-known/openid-configuration"}),") into a browser, you will receive a response resembling the following:"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Okta OIDC config",src:t(16944).A+"",width:"636",height:"261"})}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsxs)(n.p,{children:["Take note of the ",(0,i.jsx)(n.code,{children:"issuer"})," value."]}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsxs)(n.h4,{id:"gather-jwks_uri",children:["Gather ",(0,i.jsx)(n.code,{children:"jwks_uri"})]}),"\n",(0,i.jsxs)(n.p,{children:["Take note of the ",(0,i.jsx)(n.code,{children:"jwks_uri"})," value returned from the above openid-configuration endpoint URL."]}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(n.h3,{id:"create-external-jwt-signer",children:"Create External JWT Signer"}),"\n",(0,i.jsxs)(n.p,{children:["Using the values described above, use the ",(0,i.jsx)(n.code,{children:"ziti"})," CLI to configure an external JWT signer that represents your Okta identity provider.  You can find details on how to do this in the ",(0,i.jsx)(n.a,{href:"/docs/learn/quickstarts/browzer/",children:"BrowZer Quickstart documentation"})]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},37416:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/okta-apps-aa0dc67e9a776310517a5f9c4b08c07d.jpg"},42342:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/okta-clientid-288a30499122866110e0f6a1331bda49.jpg"},77878:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/okta-create-app-79ba58fdd321c0fbf84b0b20305bd3ac.jpg"},96542:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/okta-free-0b04c2d259cc2f550e4e4c766a2fc0b2.jpg"},16944:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/okta-oidc-config-c70938c64c81d08594a9730fc1791d97.jpg"},16523:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/okta-oidc-b314e13bc9d9825e4ada0a5906f2bb03.jpg"},92593:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/okta-spa-2-021bb24e4e0f9d5bff56885492d0e32a.jpg"},14680:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/okta-spa-097f1413a38c39b22f63844dc73bb22b.jpg"},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>d});var r=t(96540);const i={},s=r.createContext(i);function o(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);