"use strict";(self.webpackChunkdocusaurus_3=self.webpackChunkdocusaurus_3||[]).push([[1561],{39626:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>c,default:()=>g,frontMatter:()=>a,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"guides/deployments/cloud/router","title":"Run a Router in a Public Cloud","description":"2.0 Configure a Router","source":"@site/docs/guides/deployments/40-cloud/20-router.mdx","sourceDirName":"guides/deployments/40-cloud","slug":"/guides/deployments/cloud/router","permalink":"/docs/guides/deployments/cloud/router","draft":false,"unlisted":false,"editUrl":"https://github.com/openziti/ziti-doc/tree/main/docusaurus/docs/guides/deployments/40-cloud/20-router.mdx","tags":[],"version":"current","lastUpdatedAt":1753336678000,"sidebarPosition":20,"frontMatter":{"sidebar_label":"Router","title":"Run a Router in a Public Cloud"},"sidebar":"docsSidebar","previous":{"title":"Controller","permalink":"/docs/guides/deployments/cloud/controller"},"next":{"title":"Alternative Server Certificates","permalink":"/docs/guides/deployments/console"}}');var i=n(74848),l=n(28453),s=n(11470),o=n(19365);const a={sidebar_label:"Router",title:"Run a Router in a Public Cloud"},c=void 0,d={},h=[{value:"2.0 Configure a Router",id:"20-configure-a-router",level:2},{value:"2.1 Create the Edge Router VM",id:"21-create-the-edge-router-vm",level:2},{value:"2.2 Login and Update the repo and apps on VM",id:"22-login-and-update-the-repo-and-apps-on-vm",level:2},{value:"2.2.1 apt update",id:"221-apt-update",level:3},{value:"2.2.2 Download ziti_router_auto_enroll binary",id:"222-download-ziti_router_auto_enroll-binary",level:3},{value:"2.3 Create and Set Up Router Directly on Router VM",id:"23-create-and-set-up-router-directly-on-router-vm",level:2},{value:"2.3.1 Info needed for creating Router",id:"231-info-needed-for-creating-router",level:3},{value:"2.3.2 Info gathered for creating Router",id:"232-info-gathered-for-creating-router",level:3},{value:"2.3.3 Create the Router with link listener",id:"233-create-the-router-with-link-listener",level:3},{value:"2.3.4 Other Router creation options",id:"234-other-router-creation-options",level:3},{value:"2.3.4.1 Create the Router with link listener and tunneler",id:"2341-create-the-router-with-link-listener-and-tunneler",level:4},{value:"2.3.4.2 Create the Router with edge listener only (no link listener)",id:"2342-create-the-router-with-edge-listener-only-no-link-listener",level:4},{value:"2.3.4.3 Create the Router with edge listener and tunneler",id:"2343-create-the-router-with-edge-listener-and-tunneler",level:4},{value:"2.4 Creating Router on the Controller first",id:"24-creating-router-on-the-controller-first",level:2},{value:"2.4.1 Creating Router on the controller Using ZAC",id:"241-creating-router-on-the-controller-using-zac",level:3},{value:"2.4.2 Creating Router on the controller Using CLI",id:"242-creating-router-on-the-controller-using-cli",level:3},{value:"2.4.3 Register the Router with link listener",id:"243-register-the-router-with-link-listener",level:3},{value:"2.4.4 Other Router creation options",id:"244-other-router-creation-options",level:3},{value:"2.4.4.1 Register the Router with link listener and tunneler",id:"2441-register-the-router-with-link-listener-and-tunneler",level:4},{value:"2.4.4.2 Register the Router with edge listener only (no link listener)",id:"2442-register-the-router-with-edge-listener-only-no-link-listener",level:4},{value:"2.4.4.3 Register the Router with edge listener and tunneler",id:"2443-register-the-router-with-edge-listener-and-tunneler",level:4},{value:"2.5 Auto start the router",id:"25-auto-start-the-router",level:2},{value:"2.6 Fix the resolver",id:"26-fix-the-resolver",level:2},{value:"2.7 Route Table",id:"27-route-table",level:2},{value:"2.8 Source and Destination Check",id:"28-source-and-destination-check",level:2},{value:"2.9 Firewall",id:"29-firewall",level:2}];function u(e){const r={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.h2,{id:"20-configure-a-router",children:"2.0 Configure a Router"}),"\n",(0,i.jsxs)(r.p,{children:["In this section, we are describing how to setup the edge router (pub-er) for our ",(0,i.jsx)(r.a,{href:"/docs/guides/topologies/services#311-network-diagram-1",children:"test network"}),"."]}),"\n",(0,i.jsx)(r.h2,{id:"21-create-the-edge-router-vm",children:"2.1 Create the Edge Router VM"}),"\n",(0,i.jsxs)(r.p,{children:["Please follow ",(0,i.jsx)(r.strong,{children:"Create a VM section"})," of the controller cloud guide to setup a VM to be used as router."]}),"\n",(0,i.jsx)(r.h2,{id:"22-login-and-update-the-repo-and-apps-on-vm",children:"2.2 Login and Update the repo and apps on VM"}),"\n",(0,i.jsxs)(s.A,{defaultValue:"Azure",values:[{label:"Azure",value:"Azure"},{label:"AWS",value:"AWS"},{label:"Google",value:"GCP"},{label:"Digital Ocean",value:"DigitalOcean"},{label:"Oracle",value:"OCI"},{label:"IBM",value:"IBM"}],children:[(0,i.jsxs)(o.A,{value:"Azure",children:[(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Once the VM is created, we can get the IP address of the VM from the Virtual machine screen."}),"\n",(0,i.jsx)(r.li,{children:'Login to the VM by using defined user "username" (default username is azureuser) and the private sshkey:'}),"\n"]}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-text",children:"ssh -i <private_key> <username>@<ip>\n"})})]}),(0,i.jsxs)(o.A,{value:"AWS",children:[(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Once the VM is created, we can get the IP address of the VM from the Instance(s) screen."}),"\n"]}),(0,i.jsx)(r.p,{children:'Login to the VM by using user name "ubuntu":'}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-text",children:"ssh -i <private_key> ubuntu@<ip>\n"})})]}),(0,i.jsxs)(o.A,{value:"GCP",children:[(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Once the VM is created, we can login through ",(0,i.jsx)(r.strong,{children:"SSH"})," button on the VM instances screen. Make sure ",(0,i.jsx)(r.strong,{children:"ssh is allow"})," on the firewall before you do this. Alternatively, you can ",(0,i.jsx)(r.a,{href:"#29-firewall",children:"configure firewall"})," first."]}),"\n"]}),(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{alt:"Diagram",src:n(69323).A+"",width:"951",height:"227"})})]}),(0,i.jsxs)(o.A,{value:"DigitalOcean",children:[(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:'Once the VM is created, get the IP address of the droplet from the Resources screen. Login to the VM by using user "root" and IP address:'}),"\n"]}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-text",children:"ssh root@<ip>\n"})})]}),(0,i.jsxs)(o.A,{value:"OCI",children:[(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Once the VM is created, we can get the IP address of the VM from the instance details screen."}),"\n",(0,i.jsx)(r.li,{children:'Login to the VM by using user name "ubuntu" and the IP address:'}),"\n"]}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-text",children:"ssh -i <private_key> ubuntu@<ip>\n"})})]}),(0,i.jsxs)(o.A,{value:"IBM",children:[(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Once the VM is created, we can get the IP address of the VM from the Devices screen."}),"\n",(0,i.jsx)(r.li,{children:'Login to the VM by using user name "ubuntu" and the IP address:'}),"\n"]}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-text",children:"ssh -i <private_key> ubuntu@<ip>\n"})})]})]}),"\n",(0,i.jsx)(r.h3,{id:"221-apt-update",children:"2.2.1 apt update"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-text",children:"sudo apt update\nsudo apt upgrade\n"})}),"\n",(0,i.jsx)(r.h3,{id:"222-download-ziti_router_auto_enroll-binary",children:"2.2.2 Download ziti_router_auto_enroll binary"}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"ziti_router_auto_enroll"})," is an easy way to setup your router automatically."]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-text",children:"wget https://github.com/netfoundry/ziti_router_auto_enroll/releases/latest/download/ziti_router_auto_enroll.tar.gz\ntar xf ziti_router_auto_enroll.tar.gz\n"})}),"\n",(0,i.jsxs)(r.p,{children:["You should have a file ",(0,i.jsx)(r.strong,{children:"ziti_router_auto_enroll"})," under the directory."]}),"\n",(0,i.jsxs)(r.p,{children:["For detail info on ziti_router_auto_enroll, please checkout the ",(0,i.jsx)(r.a,{href:"https://github.com/netfoundry/ziti_router_auto_enroll",children:"ziti_router_auto_enroll github page"})]}),"\n",(0,i.jsx)(r.h2,{id:"23-create-and-set-up-router-directly-on-router-vm",children:"2.3 Create and Set Up Router Directly on Router VM"}),"\n",(0,i.jsx)(r.p,{children:"You can setup the router directly on the router VM with one command if you did not block your controller's edge-management port. At this time, the quickstart for setting up controller does not separate edge-management port from edge-client port, so the edge-management port has to be open. You may continue this section if you know your controller's management password, Fabric Port (default 8440) and Management Port (default 8441)."}),"\n",(0,i.jsxs)(r.p,{children:["You can also choose to create router on the controller and then register with the jwt file (created when creating the router) on the router. The procedure for this is detailed in ",(0,i.jsx)(r.a,{href:"#24-creating-router-on-the-controller-first",children:'"Create Router On the Controller"'})," section."]}),"\n",(0,i.jsx)(r.h3,{id:"231-info-needed-for-creating-router",children:"2.3.1 Info needed for creating Router"}),"\n",(0,i.jsx)(r.p,{children:"In order to create the Router, the VM needs to contact controller. We need the following information before we can continue:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Controller IP or Controller NDS"}),"\n",(0,i.jsxs)(r.li,{children:["Controller Fabric Port: On the controller, issue this command ",(0,i.jsx)(r.strong,{children:"echo $ZITI_CTRL_PORT"})]}),"\n",(0,i.jsxs)(r.li,{children:["Controller Management Port: On the controller, issue this command ",(0,i.jsx)(r.strong,{children:"echo $ZITI_EDGE_CONTROLLER_PORT"})]}),"\n",(0,i.jsxs)(r.li,{children:["Controller Passwd: On the controller, issue this command ",(0,i.jsx)(r.strong,{children:"echo $ZITI_PWD"})]}),"\n",(0,i.jsx)(r.li,{children:"Router Name: Name for this router"}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"232-info-gathered-for-creating-router",children:"2.3.2 Info gathered for creating Router"}),"\n",(0,i.jsx)(r.p,{children:"Here is information I gathered from previous step:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Controller IP: 68.183.52.206"}),"\n",(0,i.jsxs)(r.li,{children:["Controller Fabric Port: 8440 ",(0,i.jsx)(r.strong,{children:"(default value if following controller setup guide)"})]}),"\n",(0,i.jsxs)(r.li,{children:["Controller Management Port: 8441 ",(0,i.jsx)(r.strong,{children:"(default value if following controller setup guide)"})]}),"\n",(0,i.jsx)(r.li,{children:"Controller Passwd: Test@123"}),"\n",(0,i.jsx)(r.li,{children:"Router Name: pub-er"}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:"We are also going to create the router without healthcheck section, so the following option will be used to create the router:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"--disableHealthChecks"}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:"If you choose to explore these two functionalities, you can remove the options (from command line) when creating router."}),"\n",(0,i.jsx)(r.h3,{id:"233-create-the-router-with-link-listener",children:"2.3.3 Create the Router with link listener"}),"\n",(0,i.jsx)(r.p,{children:"Use this procedure to create a Public Router with link listener (but without tunnel)."}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-text",children:"sudo ./ziti_router_auto_enroll -f -n --controller 68.183.52.206 --controllerFabricPort 8440 --controllerMgmtPort 8441 --adminUser admin --adminPassword Test@123 --assumePublic --disableHealthChecks --routerName pub-er \n"})}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"output"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"2023-04-05-04:07:44-INFO-Writing jwt file: pub-er_enrollment.jwt\n2023-04-05-04:07:44-INFO-Version not specified, going to check with controller\n2023-04-05-04:07:45-INFO-Found version 0.27.7\n2023-04-05-04:07:45-INFO-Downloading file: https://github.com/openziti/ziti/releases/download/v0.27.7/ziti-linux-amd64-0.27.7.tar.gz\nDownloading: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 115M/115M [00:01<00:00, 67.3MiB/s]\n2023-04-05-04:07:47-INFO-Successfully downloaded file\n2023-04-05-04:07:47-INFO-Starting binary install\n2023-04-05-04:07:50-INFO-Installing service unit file\n2023-04-05-04:07:50-INFO-Creating config file\n2023-04-05-04:07:50-INFO-Starting Router Enrollment\n2023-04-05-04:07:54-INFO-Successfully enrolled Ziti\n2023-04-05-04:07:54-INFO-Service ziti-router.service start successful.\nCreated symlink /etc/systemd/system/multi-user.target.wants/ziti-router.service \u2192 /etc/systemd/system/ziti-router.service.\n2023-04-05-04:07:55-INFO-Service ziti-router.service enable successful.\n"})}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Alternative way of creating router"})}),"\n",(0,i.jsx)(r.p,{children:"Instead of passing parameters through the command line to create routers, the parameters can be specified via environmental variables. Here is example on how to accomplish that."}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:'export CONTROLLER="68.183.52.206"\nexport CONTROLLERFABRICPORT="8440"\nexport CONTROLLERMGMTPORT="8441"\nexport ADMINUSER="admin"\nexport ADMINPASSWORD="Test@123"\n\nsudo -E ./ziti_router_auto_enroll -f -n --assumePublic --disableHealthChecks --routerName pub-er\n'})}),"\n",(0,i.jsx)(r.hr,{}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"NOTE"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:'When using the environmental variable for ziti_router_auto_enroll, you must\nuse "-E" option to pass the environmental value to sudo.\n'})}),"\n",(0,i.jsx)(r.h3,{id:"234-other-router-creation-options",children:"2.3.4 Other Router creation options"}),"\n",(0,i.jsx)(r.p,{children:"If you need to create router with difference options than the one mentioned above, please choose one of the options from this section."}),"\n",(0,i.jsx)(r.h4,{id:"2341-create-the-router-with-link-listener-and-tunneler",children:"2.3.4.1 Create the Router with link listener and tunneler"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"sudo ./ziti_router_auto_enroll -f -n --controller 68.183.52.206 --controllerFabricPort 8440 --controllerMgmtPort 8441 --adminUser admin --adminPassword Test@123 --assumePublic --disableHealthChecks --autoTunnelListener --routerName pub-er\n"})}),"\n",(0,i.jsx)(r.h4,{id:"2342-create-the-router-with-edge-listener-only-no-link-listener",children:"2.3.4.2 Create the Router with edge listener only (no link listener)"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"sudo ./ziti_router_auto_enroll -f -n --controller 68.183.52.206 --controllerFabricPort 8440 --controllerMgmtPort 8441 --adminUser admin --adminPassword Test@123 --disableHealthChecks --routerName pub-er \n"})}),"\n",(0,i.jsx)(r.h4,{id:"2343-create-the-router-with-edge-listener-and-tunneler",children:"2.3.4.3 Create the Router with edge listener and tunneler"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"sudo ./ziti_router_auto_enroll -f -n --controller 68.183.52.206 --controllerFabricPort 8440 --controllerMgmtPort 8441 --adminUser admin --adminPassword Test@123 --disableHealthChecks --autoTunnelListener --routerName pub-er\n"})}),"\n",(0,i.jsx)(r.h2,{id:"24-creating-router-on-the-controller-first",children:"2.4 Creating Router on the Controller first"}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsxs)(r.strong,{children:["If you already setup the router directly on the VM, you can skip to the next ",(0,i.jsx)(r.a,{href:"#25-auto-start-the-router",children:"section 2.5"})]})}),"\n",(0,i.jsx)(r.p,{children:"You can create the router on the controller first then register the router on the router VM."}),"\n",(0,i.jsx)(r.h3,{id:"241-creating-router-on-the-controller-using-zac",children:"2.4.1 Creating Router on the controller Using ZAC"}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsxs)(r.strong,{children:["If you prefer to create router using CLI, you can jump to ",(0,i.jsx)(r.a,{href:"#242-creating-router-on-the-controller-using-cli",children:"cli section"}),"."]})}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsxs)(r.strong,{children:["In order to complete the procedures in this section, you need to install ZAC first and have access to the controller using the ZAC. If you have trouble using ZAC, you can use the ",(0,i.jsx)(r.a,{href:"#242-creating-router-on-the-controller-using-cli",children:"CLI procedures"})," to create router."]})}),"\n",(0,i.jsxs)(r.p,{children:["From the ZAC welcome screen, choose the ",(0,i.jsx)(r.strong,{children:"ROUTERS"})]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{alt:"Diagram",src:n(31875).A+"",width:"323",height:"638"})}),"\n",(0,i.jsxs)(r.p,{children:["Click on ",(0,i.jsx)(r.strong,{children:"+"})," to bring up the ",(0,i.jsx)(r.strong,{children:"CREATE EDGE ROUTER"})," widget. The ",(0,i.jsx)(r.strong,{children:"NAME"})," of Router is required, and it has to be unique. Also choose whether you want the tunneler to be enable or not on the router.  Enter other optional fields and hit ",(0,i.jsx)(r.strong,{children:"SAVE"})]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{alt:"Diagram",src:n(41222).A+"",width:"665",height:"812"})}),"\n",(0,i.jsxs)(r.p,{children:["If the router is created successfully, you will be back to the ",(0,i.jsx)(r.strong,{children:"MANAGE EDGE ROUTERS"})," screen.  From the list of edge routers, you will see the ",(0,i.jsx)(r.strong,{children:"JWT"})," icon on the newly created router. You need this JWT for the registration."]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{alt:"Diagram",src:n(13221).A+"",width:"1084",height:"333"})}),"\n",(0,i.jsxs)(r.p,{children:["Click on the ",(0,i.jsx)(r.strong,{children:"JWT ICON"}),", the JWT will be downloaded to your machine. On Chrome browser, the downloaded file will appear on the bottom left corner of the browser like picture below."]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{alt:"Diagram",src:n(60616).A+"",width:"243",height:"49"})}),"\n",(0,i.jsx)(r.p,{children:"Open the JWT file, and copy the content.  Now you are ready for the registration."}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{alt:"Diagram",src:n(51895).A+"",width:"562",height:"84"})}),"\n",(0,i.jsx)(r.h3,{id:"242-creating-router-on-the-controller-using-cli",children:"2.4.2 Creating Router on the controller Using CLI"}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsxs)(r.strong,{children:["If you already created router using ZAC, you can skip ahead to ",(0,i.jsx)(r.a,{href:"#243-register-the-router-with-link-listener",children:"register the router"}),"."]})}),"\n",(0,i.jsx)(r.p,{children:"Otherwise, this section provides CLI commands to create routers on the controller."}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"login to controller"})}),"\n",(0,i.jsx)(r.p,{children:"login to CLI first"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-text",children:"zitiLogin\n"})}),"\n",(0,i.jsx)(r.p,{children:"To create an edge router (no tunneler)"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-text",children:"ziti edge create edge-router pub-er -o pub-er.jwt\n"})}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"output"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"New edge router pub-er2 created with id: BzUtjC7E.\nEnrollment expires at 2023-04-07T03:52:03.997Z\n"})}),"\n",(0,i.jsx)(r.p,{children:"To create an edge router with tunneler"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-text",children:"ziti edge create edge-router pub-er -t -o pub-er.jwt\n"})}),"\n",(0,i.jsx)(r.p,{children:"Cat out the content of the jwt file. We will need to use the jwt to register router"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"# cat  pub-er.jwt\neyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbSI6ImVyb3R0IiwiZXhwIjoxNjgwODM5NjA4LCJpc3MiOiJodHRwczovLzE2MS4zNS4xMDguMjE4Ojg0NDEiLCJqdGkiOiJhNDg5N2Q0ZS1lZTY4LTQ1M2UtYjY1NS03MGU0YjgyZTllNDciLCJzdWIiOiJpY2JLakM3RS5QIn0.Y6DohYyWEeJQmRMe29v4cL3Y1APCnBlrv_-S_941au2OESuQdt2CS4C4djvESYzV5vbnbgZgyU5xtNvb4lW5Uv2HP3XUGQNVsWjpwZbazNoTXg1IX6hhWb7T6u1AhS4xnJ3jpoapKsdOkUSqeQNUMSiN3aeLNcGVA_XK1-utCYjVsHDC90M1ZYZqgd8C9IKziDI10XQVlKTqosv8hoJD0OKIu7WZMslweRSMBtQUA2lZ2QSkIhFr2bvtgPll-5aBnG7eo6Ka_WtEW6EikU2fxgpNaVVBEIdZs1tkdGU6dfBDA6j5wA1TBI0FZnuKlNW24bMZCWKy2B_AMqJW1a80I0qNDx-QHEy-pt8FzZ-eqXWyfhc_nYzwT9kr6hO9VJrrD81hboCeTl8G6EXZjwCi2lPbKHROtkQu08-Ns1Kps7R3GILeNMltW9tKApP746ek4DVxm2cKqiB1Axcb0tNjDWTthjyp8m40aSiiqOPIoQbwa43JLqbHcuhZOSBLQNb_bwzkxBSf34D2w5eVETWy9VX-lgHwM-uhT5SfZIWdnWtO7-Cxn-cqgz89twtOim-yc5j0p0ieAbrOArbjKFBXiQjP8yWkorQKlj5PTSk7vyb3X4q6p--RxP2Z5F8alCPQx3XiVcohvIJnrJiEP86myNIYcKhhJ4OB4r9iOr0qTc8\n"})}),"\n",(0,i.jsx)(r.p,{children:"We also need the management port (default 8441) and fabric port (default 8440) of the controller to register the router"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"# echo $ZITI_EDGE_CONTROLLER_PORT\n8441\n# echo $ZITI_CTRL_PORT\n8440\n"})}),"\n",(0,i.jsx)(r.h3,{id:"243-register-the-router-with-link-listener",children:"2.4.3 Register the Router with link listener"}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Perform this on the Router VM"})}),"\n",(0,i.jsx)(r.p,{children:"Use this procedure to create a Public Router with link listener (but without tunnel)."}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"command"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"sudo ./ziti_router_auto_enroll -f -n --controllerFabricPort 8440 --controllerMgmtPort 8441 --assumePublic --disableHealthChecks <jwt content>\n"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"sudo ./ziti_router_auto_enroll -f -n --controllerFabricPort 8440 --controllerMgmtPort 8441 --assumePublic --disableHealthChecks eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbSI6ImVyb3R0IiwiZXhwIjoxNjgwODM5NjA4LCJpc3MiOiJodHRwczovLzE2MS4zNS4xMDguMjE4Ojg0NDEiLCJqdGkiOiJhNDg5N2Q0ZS1lZTY4LTQ1M2UtYjY1NS03MGU0YjgyZTllNDciLCJzdWIiOiJpY2JLakM3RS5QIn0.Y6DohYyWEeJQmRMe29v4cL3Y1APCnBlrv_-S_941au2OESuQdt2CS4C4djvESYzV5vbnbgZgyU5xtNvb4lW5Uv2HP3XUGQNVsWjpwZbazNoTXg1IX6hhWb7T6u1AhS4xnJ3jpoapKsdOkUSqeQNUMSiN3aeLNcGVA_XK1-utCYjVsHDC90M1ZYZqgd8C9IKziDI10XQVlKTqosv8hoJD0OKIu7WZMslweRSMBtQUA2lZ2QSkIhFr2bvtgPll-5aBnG7eo6Ka_WtEW6EikU2fxgpNaVVBEIdZs1tkdGU6dfBDA6j5wA1TBI0FZnuKlNW24bMZCWKy2B_AMqJW1a80I0qNDx-QHEy-pt8FzZ-eqXWyfhc_nYzwT9kr6hO9VJrrD81hboCeTl8G6EXZjwCi2lPbKHROtkQu08-Ns1Kps7R3GILeNMltW9tKApP746ek4DVxm2cKqiB1Axcb0tNjDWTthjyp8m40aSiiqOPIoQbwa43JLqbHcuhZOSBLQNb_bwzkxBSf34D2w5eVETWy9VX-lgHwM-uhT5SfZIWdnWtO7-Cxn-cqgz89twtOim-yc5j0p0ieAbrOArbjKFBXiQjP8yWkorQKlj5PTSk7vyb3X4q6p--RxP2Z5F8alCPQx3XiVcohvIJnrJiEP86myNIYcKhhJ4OB4r9iOr0qTc8 \n"})}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"output"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"2023-04-07-01:07:49-INFO-Version not specified, going to check with controller\n2023-04-07-01:07:49-INFO-Found version 0.27.7\n2023-04-07-01:07:49-INFO-Downloading file: https://github.com/openziti/ziti/releases/download/v0.27.7/ziti-linux-amd64-0.27.7.tar.gz\nDownloading: 100%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 115M/115M [00:01<00:00, 68.9MiB/s]\n2023-04-07-01:07:51-INFO-Successfully downloaded file\n2023-04-07-01:07:51-INFO-Starting binary install\n2023-04-07-01:07:54-INFO-Installing service unit file\n2023-04-07-01:07:55-INFO-Service ziti-router daemon-reload successful.\n2023-04-07-01:07:55-INFO-Creating config file\n2023-04-07-01:07:55-INFO-Starting Router Enrollment\n2023-04-07-01:07:57-INFO-Successfully enrolled Ziti\n2023-04-07-01:07:57-INFO-Service ziti-router.service start successful.\n2023-04-07-01:07:57-INFO-Service ziti-router.service enable successful.\n"})}),"\n",(0,i.jsx)(r.h3,{id:"244-other-router-creation-options",children:"2.4.4 Other Router creation options"}),"\n",(0,i.jsx)(r.p,{children:"If you need to create router with difference options than the one mentioned above, please choose one of the options from this section."}),"\n",(0,i.jsx)(r.h4,{id:"2441-register-the-router-with-link-listener-and-tunneler",children:"2.4.4.1 Register the Router with link listener and tunneler"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"sudo ./ziti_router_auto_enroll -f -n --controllerFabricPort 8440 --controllerMgmtPort 8441 --assumePublic --disableHealthChecks --autoTunnelListener <jwt content>\n"})}),"\n",(0,i.jsx)(r.h4,{id:"2442-register-the-router-with-edge-listener-only-no-link-listener",children:"2.4.4.2 Register the Router with edge listener only (no link listener)"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"sudo ./ziti_router_auto_enroll -f -n --controllerFabricPort 8440 --controllerMgmtPort 8441 --disableHealthChecks  <jwt content>\n"})}),"\n",(0,i.jsx)(r.h4,{id:"2443-register-the-router-with-edge-listener-and-tunneler",children:"2.4.4.3 Register the Router with edge listener and tunneler"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"sudo ./ziti_router_auto_enroll -f -n --controllerFabricPort 8440 --controllerMgmtPort 8441 --disableHealthChecks --autoTunnelListener <jwt content>\n"})}),"\n",(0,i.jsx)(r.h2,{id:"25-auto-start-the-router",children:"2.5 Auto start the router"}),"\n",(0,i.jsx)(r.p,{children:"After enroll the router, a systemd service file is automatically created and enabled. To check the status of the service file, issue the following command:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-text",children:"systemctl status ziti-router.service\n"})}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Output"})}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"\u25cf ziti-router.service - Ziti-Router\n     Loaded: loaded (/etc/systemd/system/ziti-router.service; enabled; vendor preset: enabled)\n     Active: active (running) since Wed 2023-04-05 14:45:59 UTC; 4s ago\n   Main PID: 18381 (ziti)\n      Tasks: 6 (limit: 2323)\n     Memory: 16.5M\n        CPU: 222ms\n     CGroup: /system.slice/ziti-router.service\n             \u2514\u250018381 ziti router run /opt/ziti/config.yaml\n"})}),"\n",(0,i.jsxs)(r.p,{children:["If the status shows ",(0,i.jsx)(r.strong,{children:"active (running)"}),", then the setup finished correctly."]}),"\n",(0,i.jsx)(r.p,{children:"On the controller, you can check the status of the routers. Please refer to the controller guide (useful command for the Router) section for more information."}),"\n",(0,i.jsx)(r.h2,{id:"26-fix-the-resolver",children:"2.6 Fix the resolver"}),"\n",(0,i.jsxs)(s.A,{defaultValue:"Azure",values:[{label:"Azure",value:"Azure"},{label:"AWS",value:"AWS"},{label:"Google",value:"GCP"},{label:"Digital Ocean",value:"DigitalOcean"},{label:"Oracle",value:"OCI"},{label:"IBM",value:"IBM"}],children:[(0,i.jsxs)(o.A,{value:"DigitalOcean",children:[(0,i.jsx)(r.p,{children:"If you run router without tunneler enabled, you can skip this section."}),(0,i.jsx)(r.p,{children:"We need to remove the digital ocean resolver for tunnel resolver to work correctly."}),(0,i.jsx)(r.p,{children:"Check resolver before any changes:"}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"# resolvectl\nGlobal\n         Protocols: -LLMNR -mDNS -DNSOverTLS DNSSEC=no/unsupported\n  resolv.conf mode: stub\nCurrent DNS Server: 67.207.67.2\n       DNS Servers: 67.207.67.2 67.207.67.3\n...\n...\n"})}),(0,i.jsx)(r.p,{children:'Under the Global DNS servers, it should say something like "67.207.67.2 67.207.67.3"'}),(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Now, make changes to the resolver:"})}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-text",children:"cd /etc/systemd/resolved.conf.d/\nrm DigitalOcean.conf\nsudo ln -s /dev/null DigitalOcean.conf\nsystemctl restart systemd-resolved.service\n"})}),(0,i.jsx)(r.p,{children:"Check resolver again"}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"# resolvectl\nGlobal\n         Protocols: -LLMNR -mDNS -DNSOverTLS DNSSEC=no/unsupported\n  resolv.conf mode: stub\nCurrent DNS Server: 146.190.120.86\n       DNS Servers: 146.190.120.86\n...\n...\n"})}),(0,i.jsx)(r.p,{children:"Now the Global DNS servers should be the IP address on your local interface."})]}),(0,i.jsx)(o.A,{value:"Azure",children:(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Not applicable"})})}),(0,i.jsx)(o.A,{value:"AWS",children:(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Not applicable"})})}),(0,i.jsx)(o.A,{value:"GCP",children:(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Not applicable"})})}),(0,i.jsx)(o.A,{value:"OCI",children:(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Not applicable"})})}),(0,i.jsx)(o.A,{value:"IBM",children:(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Not applicable"})})})]}),"\n",(0,i.jsx)(r.h2,{id:"27-route-table",children:"2.7 Route Table"}),"\n",(0,i.jsxs)(s.A,{defaultValue:"Azure",values:[{label:"Azure",value:"Azure"},{label:"AWS",value:"AWS"},{label:"Google",value:"GCP"},{label:"Digital Ocean",value:"DigitalOcean"},{label:"Oracle",value:"OCI"},{label:"IBM",value:"IBM"}],children:[(0,i.jsxs)(o.A,{value:"Azure",children:[(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["For any router setup as a local gateway (i.e. local-er in ",(0,i.jsx)(r.a,{href:"/docs/guides/topologies/services#312-network-diagram-2",children:"test network 2"}),"), you will need to setup routes in Azure."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["First you need to create a ",(0,i.jsx)(r.strong,{children:"Route Table"})," from Marketplace.\n",(0,i.jsx)(r.img,{alt:"Diagram",src:n(67610).A+"",width:"428",height:"596"})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Then go to your subnet of your VM, associate the Route Table just created to the subnet.\n",(0,i.jsx)(r.img,{alt:"Diagram",src:n(90213).A+"",width:"1465",height:"541"})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Click on the route table, then choose ",(0,i.jsx)(r.strong,{children:"Routes"})," from the left side menu."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"Now you will be presented a screen like below, you can then add your route."}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"Following is an example route for intercepting traffic destine for ip: 11.11.11.11/32."}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["The ",(0,i.jsx)(r.strong,{children:"Next hop address"})," is local IP of our local gateway ER."]}),"\n"]}),"\n"]}),(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{alt:"Diagram",src:n(63048).A+"",width:"1472",height:"468"})}),(0,i.jsx)(r.p,{children:"The following routes are required:"}),(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"any intercept address cidr"}),"\n",(0,i.jsx)(r.li,{children:"100.64.0.0/10 (for DNS based intercept)"}),"\n"]})]}),(0,i.jsxs)(o.A,{value:"AWS",children:[(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["For any router setup as local gateway (i.e. local-er in ",(0,i.jsx)(r.a,{href:"/docs/guides/topologies/services#312-network-diagram-2",children:"test network 2"}),"), you will need to setup routes for your VPC."]}),"\n",(0,i.jsxs)(r.li,{children:["To get to the route table, click on ",(0,i.jsx)(r.strong,{children:"Subnet"})," from your Instances screen"]}),"\n",(0,i.jsxs)(r.li,{children:["From the Subnet screen, click on ",(0,i.jsx)(r.strong,{children:"Router table"})]}),"\n",(0,i.jsxs)(r.li,{children:["Then you can use ",(0,i.jsx)(r.strong,{children:"Edit routes"})," to add routes to the table."]}),"\n",(0,i.jsx)(r.li,{children:"Following is an example routes for intercepting traffic destine for IP subnet: 10.10.0.0/24 and 100.64.0.1/32."}),"\n",(0,i.jsxs)(r.li,{children:["The Target is ",(0,i.jsx)(r.strong,{children:"Instance"})," (our local gateway ER)."]}),"\n"]}),(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{alt:"Diagram",src:n(72652).A+"",width:"1052",height:"604"})}),(0,i.jsx)(r.p,{children:"The following routes are required:"}),(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"any intercept address CIDR"}),"\n",(0,i.jsx)(r.li,{children:"100.64.0.0/10 (for DNS based intercept)"}),"\n"]})]}),(0,i.jsxs)(o.A,{value:"GCP",children:[(0,i.jsxs)(r.p,{children:["For any router setup as local gateway (i.e. local-er in ",(0,i.jsx)(r.a,{href:"/docs/guides/topologies/services#312-network-diagram-2",children:"test network 2"}),"), you will need to setup routes in GCP."]}),(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Go to your VM screen, click on the ",(0,i.jsx)(r.strong,{children:"Network interfaces"})," name (i.e. nic0)"]}),"\n",(0,i.jsxs)(r.li,{children:["Click on ",(0,i.jsx)(r.strong,{children:"Routes"})," menu on the left side to bring up the Routes screen"]}),"\n",(0,i.jsxs)(r.li,{children:["Click ",(0,i.jsx)(r.strong,{children:"ROUTE MANAGEMENT"})," and ",(0,i.jsx)(r.strong,{children:"+ CREATE ROUTE"})," to bring up a dialog to create a route"]}),"\n",(0,i.jsxs)(r.li,{children:["Specify your ",(0,i.jsx)(r.strong,{children:"Network"})," and ",(0,i.jsx)(r.strong,{children:"Destination IP range"})]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Next hop"})," is our ",(0,i.jsx)(r.strong,{children:"local-er"})," instance."]}),"\n",(0,i.jsxs)(r.li,{children:["Click ",(0,i.jsx)(r.strong,{children:"CREATE"})," to generate the route."]}),"\n"]}),(0,i.jsxs)(r.p,{children:["Following is an example route for intercepting traffic destine for ip: 11.11.11.11/32. The next hop is our local gateway ER.\n",(0,i.jsx)(r.img,{alt:"Diagram",src:n(89860).A+"",width:"564",height:"708"})]}),(0,i.jsx)(r.p,{children:"The following routes are required:"}),(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"any intercept address CIDR"}),"\n",(0,i.jsx)(r.li,{children:"100.64.0.0/10 (for DNS based intercept)"}),"\n"]})]}),(0,i.jsx)(o.A,{value:"DigitalOcean",children:(0,i.jsxs)(r.p,{children:["DigitalOcean does not have route table.  The routes are setup directly on the VM. The example is in the ",(0,i.jsx)(r.a,{href:"/docs/guides/topologies/services#367-verify-the-connection",children:"test section"})]})}),(0,i.jsxs)(o.A,{value:"OCI",children:[(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["For any router setup as local gateway (i.e. local-er in ",(0,i.jsx)(r.a,{href:"/docs/guides/topologies/services#312-network-diagram-2",children:"test network 2"}),"), you will need to setup routes in Oracle Cloud."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["To setup your route, choose the default route table from your VCN.\n",(0,i.jsx)(r.img,{alt:"Diagram",src:n(31104).A+"",width:"1340",height:"567"})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Add Router Rules"})}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"Following is an example route for traffic destine for 100.64.0.0/10 subnet."}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["The ",(0,i.jsx)(r.strong,{children:"Target Type"})," is ",(0,i.jsx)(r.strong,{children:"Private IP"})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["The ",(0,i.jsx)(r.strong,{children:"Destination Type"})," is ",(0,i.jsx)(r.strong,{children:"CIDR Block"})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["The ",(0,i.jsx)(r.strong,{children:"Destination CIDR Block"})," is the example traffic (100.64.0.0/10)"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["The ",(0,i.jsx)(r.strong,{children:"Target Selection"})," is the IP of our local gateway ER.\n",(0,i.jsx)(r.img,{alt:"Diagram",src:n(44719).A+"",width:"1301",height:"578"})]}),"\n"]}),"\n"]}),(0,i.jsx)(r.p,{children:"The following routes are required:"}),(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"any intercept address CIDR"}),"\n",(0,i.jsx)(r.li,{children:"100.64.0.0/10 (for DNS based intercept)"}),"\n"]})]}),(0,i.jsx)(o.A,{value:"IBM",children:(0,i.jsxs)(r.p,{children:["IBM Cloud does not have route table.  The routes are setup directly on the VM. The example is in the ",(0,i.jsx)(r.a,{href:"/docs/guides/topologies/services#367-verify-the-connection",children:"test section"})]})})]}),"\n",(0,i.jsx)(r.h2,{id:"28-source-and-destination-check",children:"2.8 Source and Destination Check"}),"\n",(0,i.jsx)(r.p,{children:"Most cloud provider checks the source and destination of the traffic to make sure it is either originated or terminated at the VM. When our ER is used as a local GW, it is neither the source or the destination of the traffic. Therefore, the source and destination check must be disabled."}),"\n",(0,i.jsxs)(s.A,{defaultValue:"Azure",values:[{label:"Azure",value:"Azure"},{label:"AWS",value:"AWS"},{label:"Google",value:"GCP"},{label:"Digital Ocean",value:"DigitalOcean"},{label:"Oracle",value:"OCI"},{label:"IBM",value:"IBM"}],children:[(0,i.jsx)(o.A,{value:"Azure",children:(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:['In Azure, the "Source and Destination Check" is called ',(0,i.jsx)(r.strong,{children:"IP forwarding"})]}),"\n",(0,i.jsxs)(r.li,{children:["From your Virtual machine screen, click on the ",(0,i.jsx)(r.strong,{children:"Network Interface"})," of that VM."]}),"\n",(0,i.jsxs)(r.li,{children:["On the left side menu, choose ",(0,i.jsx)(r.strong,{children:"IP configurations"})," (like the picture below)."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Enable"})," the ",(0,i.jsx)(r.strong,{children:"IP forwarding"})]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Save"}),"\n",(0,i.jsx)(r.img,{alt:"Diagram",src:n(98908).A+"",width:"1067",height:"516"})]}),"\n"]})}),(0,i.jsxs)(o.A,{value:"AWS",children:[(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["From your Instance screen, Under ",(0,i.jsx)(r.strong,{children:"Networking"})," tab, click on the ",(0,i.jsx)(r.strong,{children:"Network Interface"})," of that VM."]}),"\n",(0,i.jsxs)(r.li,{children:["Click on ",(0,i.jsx)(r.strong,{children:"Actions"})," on the right side to bring up a dropdown menu."]}),"\n",(0,i.jsxs)(r.li,{children:["Select ",(0,i.jsx)(r.strong,{children:"Change source/dest. check"})]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"uncheck"})," Enable and then press ",(0,i.jsx)(r.strong,{children:"Save"})]}),"\n"]}),(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.img,{alt:"Diagram",src:n(17181).A+"",width:"1069",height:"543"}),"\n",(0,i.jsx)(r.img,{alt:"Diagram",src:n(63026).A+"",width:"607",height:"269"})]})]}),(0,i.jsx)(o.A,{value:"GCP",children:(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:['In GCP, the "Source and Destination Check" is named ',(0,i.jsx)(r.strong,{children:"IP forwarding"})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["During the VM creation, from the VM configuration screen, choose the ",(0,i.jsx)(r.strong,{children:"ADVANCED OPTIONS"})," & under the ",(0,i.jsx)(r.strong,{children:"NETWORKING"})," section (like the picture below). ",(0,i.jsx)(r.strong,{children:"Enable"})," the ",(0,i.jsx)(r.strong,{children:"IP forwarding"}),"\n",(0,i.jsx)(r.img,{alt:"Diagram",src:n(52763).A+"",width:"671",height:"367"})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["If the ",(0,i.jsx)(r.strong,{children:"IP forwarding"})," was not enabled during VM creation, you can follow ",(0,i.jsx)(r.a,{href:"https://cloud.google.com/compute/docs/instances/update-instance-properties",children:"this procedure"})," to enable it."]}),"\n"]}),"\n"]})}),(0,i.jsx)(o.A,{value:"DigitalOcean",children:(0,i.jsx)(r.p,{children:"DigitalOcean does not have this feature."})}),(0,i.jsx)(o.A,{value:"OCI",children:(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["From the Instance details screen, click on the ",(0,i.jsx)(r.strong,{children:"Attached VNICs"})," from the left side menu"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["On the right side menu, choose ",(0,i.jsx)(r.strong,{children:"3 dots"})," (like the picture below), Click ",(0,i.jsx)(r.strong,{children:"Edit VNIC"}),"\n",(0,i.jsx)(r.img,{alt:"Diagram",src:n(98865).A+"",width:"1348",height:"556"})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Select ",(0,i.jsx)(r.strong,{children:"Skip Source/Destination Check"})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Click ",(0,i.jsx)(r.strong,{children:"Save changes"}),"\n",(0,i.jsx)(r.img,{alt:"Diagram",src:n(83014).A+"",width:"1337",height:"555"})]}),"\n"]}),"\n"]})}),(0,i.jsx)(o.A,{value:"IBM",children:(0,i.jsx)(r.p,{children:"IBM Cloud does not have this feature."})})]}),"\n",(0,i.jsx)(r.h2,{id:"29-firewall",children:"2.9 Firewall"}),"\n",(0,i.jsxs)(s.A,{defaultValue:"Azure",values:[{label:"Azure",value:"Azure"},{label:"AWS",value:"AWS"},{label:"Google",value:"GCP"},{label:"Digital Ocean",value:"DigitalOcean"},{label:"Oracle",value:"OCI"},{label:"IBM",value:"IBM"}],children:[(0,i.jsxs)(o.A,{value:"Azure",children:[(0,i.jsx)(r.p,{children:"Azure's default firewall is blocking all incoming access to the VM. You will need the following ports open for your ERs:"}),(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"443/TCP (default port for edge listener)"}),"\n",(0,i.jsx)(r.li,{children:"80/TCP (default port for link listener)"}),"\n",(0,i.jsx)(r.li,{children:"53/UDP (when using as local gw)"}),"\n",(0,i.jsx)(r.li,{children:"any intercept ports. (i.e. if you want to intercept RDP traffic, you will need to open port 3389)"}),"\n"]}),(0,i.jsx)(r.p,{children:"To open ports:"}),(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["From your Virtual machine page, click on ",(0,i.jsx)(r.strong,{children:"Networking"})," from the left side menu."]}),"\n",(0,i.jsxs)(r.li,{children:["Under the ",(0,i.jsx)(r.strong,{children:"Inbound port rules"}),", you can click on ",(0,i.jsx)(r.strong,{children:"Add inbound port rule"})," to allow traffic in. Like example here.\n",(0,i.jsx)(r.img,{alt:"Diagram",src:n(12498).A+"",width:"1077",height:"308"})]}),"\n"]})]}),(0,i.jsxs)(o.A,{value:"AWS",children:[(0,i.jsx)(r.p,{children:"AWS default firewall is blocking all incoming access to the VM. You will need the following ports open for your ERs:"}),(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"443/TCP (default port for edge listener)"}),"\n",(0,i.jsx)(r.li,{children:"80/TCP (default port for link listener)"}),"\n",(0,i.jsx)(r.li,{children:"53/UDP (when using as local gw)"}),"\n",(0,i.jsx)(r.li,{children:"any intercept ports. (i.e. if you want to intercept RDP traffic, you will need to open port 3389)"}),"\n"]}),(0,i.jsxs)(r.p,{children:["Following is the firewall setting for edge router which serves as the GW for non ziti client.\n",(0,i.jsx)(r.img,{alt:"Diagram",src:n(46658).A+"",width:"980",height:"259"})]})]}),(0,i.jsxs)(o.A,{value:"GCP",children:[(0,i.jsx)(r.p,{children:"GCP default firewall is blocking all incoming access to the VM. You will need the following ports open for your ERs:"}),(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"443/TCP (default port for edge listener)"}),"\n",(0,i.jsx)(r.li,{children:"80/TCP (default port for link listener)"}),"\n",(0,i.jsx)(r.li,{children:"53/UDP (when using as local gw)"}),"\n",(0,i.jsx)(r.li,{children:"any intercept ports. (i.e. if you want to intercept RDP traffic, you will need to open port 3389)"}),"\n"]}),(0,i.jsxs)(r.p,{children:["Following is example firewall configuration for public ER and local ER.\n",(0,i.jsx)(r.img,{alt:"Diagram",src:n(57589).A+"",width:"819",height:"95"})]})]}),(0,i.jsx)(o.A,{value:"DigitalOcean",children:(0,i.jsx)(r.p,{children:"DigitalOcean by default does not setup firewall for the VM."})}),(0,i.jsxs)(o.A,{value:"OCI",children:[(0,i.jsx)(r.p,{children:"Oracle Cloud default firewall is s blocking all incoming access to the VM. You will need the following ports open for your ERs:"}),(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"443/TCP (default port for edge listener)"}),"\n",(0,i.jsx)(r.li,{children:"80/TCP (default port for link listener)"}),"\n",(0,i.jsx)(r.li,{children:"53/UDP (when using as local gw)"}),"\n",(0,i.jsx)(r.li,{children:"22/TCP (SSH access, this rule by default allowed in iptable rule)"}),"\n",(0,i.jsx)(r.li,{children:"any intercept ports. (i.e. if you want to intercept RDP traffic, you will need to open port 3389)"}),"\n"]}),(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"To setup the security group"})}),(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["From ",(0,i.jsx)(r.strong,{children:"Networking"})," category, select the ",(0,i.jsx)(r.strong,{children:"Virtual cloud networks"}),"."]}),"\n",(0,i.jsx)(r.li,{children:"Select the VCN your VM is in."}),"\n",(0,i.jsxs)(r.li,{children:["On the left side menu, select the ",(0,i.jsx)(r.strong,{children:"Network Security Group"}),"."]}),"\n",(0,i.jsxs)(r.li,{children:["Select ",(0,i.jsx)(r.strong,{children:"Create Network Security Group"}),"."]}),"\n",(0,i.jsx)(r.li,{children:"Name the security group and select the next."}),"\n",(0,i.jsx)(r.li,{children:"Now create rules for ingress traffic (port listed above)."}),"\n",(0,i.jsxs)(r.li,{children:["Also create a rule to allow all traffic outbound (",(0,i.jsx)(r.strong,{children:"Egress"}),")."]}),"\n"]}),(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{alt:"Diagram",src:n(94287).A+"",width:"1311",height:"590"})}),(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"Then attach the created security group to the instance"})}),(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Select ",(0,i.jsx)(r.strong,{children:"Edit"})," under the ",(0,i.jsx)(r.strong,{children:"Network security groups"})," section."]}),"\n",(0,i.jsxs)(r.li,{children:["Select the security group from the drop down and press ",(0,i.jsx)(r.strong,{children:"Save changes"}),"."]}),"\n"]}),(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{alt:"Diagram",src:n(80672).A+"",width:"1006",height:"564"})}),(0,i.jsx)(r.hr,{}),(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"NOTE 1"})}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"Oracle Cloud also uses Security Lists (on the subnet) to marshal the traffic, \nplease make sure the setting under Security Lists is not conflicting\nwith your security group rules.\n"})}),(0,i.jsx)(r.hr,{}),(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"NOTE 2"})}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"It is possible that after the security group configuration, the ufw does not\nwork correctly on the VM.\n"})}),(0,i.jsxs)(r.p,{children:["You should ",(0,i.jsx)(r.strong,{children:"Turn on ufw"})," and ",(0,i.jsx)(r.strong,{children:"restart the VM"})," after the security group configuration."]}),(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"ufw must be turned on for traffic to get to the VM."}),"\n",(0,i.jsxs)(r.li,{children:["after ufw is enabled, setup ",(0,i.jsx)(r.strong,{children:"allow"})," traffic for ports:"]}),"\n"]}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-text",children:"sudo ufw enable\nsudo ufw allow 80/tcp\nsudo ufw allow 443/tcp\nsudo ufw allow 53/udp\nsudo shutdown -r 0\n"})}),(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"you also need to allow the intercept ports on the ufw also."}),"\n"]})]}),(0,i.jsxs)(o.A,{value:"IBM",children:[(0,i.jsx)(r.p,{children:"If you turn on the firewall feature, you will need to config firewall rules."}),(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Open the Instance detail screen"}),"\n",(0,i.jsxs)(r.li,{children:["Find the ",(0,i.jsx)(r.strong,{children:"Firewall details"})," at the bottom right. Open it."]}),"\n"]}),(0,i.jsx)(r.p,{children:"Add the following rules."}),(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"443/TCP (default port for edge listener)"}),"\n",(0,i.jsx)(r.li,{children:"80/TCP (default port for link listener)"}),"\n",(0,i.jsx)(r.li,{children:"53/UDP (when using as local gw)"}),"\n",(0,i.jsx)(r.li,{children:"22/TCP (SSH access)"}),"\n",(0,i.jsx)(r.li,{children:"any intercept ports. (i.e. if you want to intercept RDP traffic, you will need to open port 3389)"}),"\n",(0,i.jsx)(r.li,{children:"Deny rules to deny all other traffic"}),"\n"]}),(0,i.jsxs)(r.p,{children:["Make sure the firewall is active, it should display ",(0,i.jsx)(r.strong,{children:"Processing all rules"})," if it is active."]}),(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{alt:"Diagram",src:n(14281).A+"",width:"1634",height:"499"})})]})]})]})}function g(e={}){const{wrapper:r}={...(0,l.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},19365:(e,r,n)=>{n.d(r,{A:()=>s});n(96540);var t=n(34164);const i={tabItem:"tabItem_Ymn6"};var l=n(74848);function s({children:e,hidden:r,className:n}){return(0,l.jsx)("div",{role:"tabpanel",className:(0,t.A)(i.tabItem,n),hidden:r,children:e})}},11470:(e,r,n)=>{n.d(r,{A:()=>v});var t=n(96540),i=n(34164),l=n(23104),s=n(56347),o=n(205),a=n(57485),c=n(31682),d=n(70679);function h(e){return t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:r}=e;return!!r&&"object"==typeof r&&"value"in r}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:r,children:n}=e;return(0,t.useMemo)((()=>{const e=r??function(e){return h(e).map((({props:{value:e,label:r,attributes:n,default:t}})=>({value:e,label:r,attributes:n,default:t})))}(n);return function(e){const r=(0,c.XI)(e,((e,r)=>e.value===r.value));if(r.length>0)throw new Error(`Docusaurus error: Duplicate values "${r.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[r,n])}function g({value:e,tabValues:r}){return r.some((r=>r.value===e))}function x({queryString:e=!1,groupId:r}){const n=(0,s.W6)(),i=function({queryString:e=!1,groupId:r}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:e,groupId:r});return[(0,a.aZ)(i),(0,t.useCallback)((e=>{if(!i)return;const r=new URLSearchParams(n.location.search);r.set(i,e),n.replace({...n.location,search:r.toString()})}),[i,n])]}function j(e){const{defaultValue:r,queryString:n=!1,groupId:i}=e,l=u(e),[s,a]=(0,t.useState)((()=>function({defaultValue:e,tabValues:r}){if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!g({value:e,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=r.find((e=>e.default))??r[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:r,tabValues:l}))),[c,h]=x({queryString:n,groupId:i}),[j,p]=function({groupId:e}){const r=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,i]=(0,d.Dv)(r);return[n,(0,t.useCallback)((e=>{r&&i.set(e)}),[r,i])]}({groupId:i}),f=(()=>{const e=c??j;return g({value:e,tabValues:l})?e:null})();(0,o.A)((()=>{f&&a(f)}),[f]);return{selectedValue:s,selectValue:(0,t.useCallback)((e=>{if(!g({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);a(e),h(e),p(e)}),[h,p,l]),tabValues:l}}var p=n(92303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var m=n(74848);function b({className:e,block:r,selectedValue:n,selectValue:t,tabValues:s}){const o=[],{blockElementScrollPositionUntilNextRender:a}=(0,l.a_)(),c=e=>{const r=e.currentTarget,i=o.indexOf(r),l=s[i].value;l!==n&&(a(r),t(l))},d=e=>{let r=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=o.indexOf(e.currentTarget)+1;r=o[n]??o[0];break}case"ArrowLeft":{const n=o.indexOf(e.currentTarget)-1;r=o[n]??o[o.length-1];break}}r?.focus()};return(0,m.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":r},e),children:s.map((({value:e,label:r,attributes:t})=>(0,m.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{o.push(e)},onKeyDown:d,onClick:c,...t,className:(0,i.A)("tabs__item",f.tabItem,t?.className,{"tabs__item--active":n===e}),children:r??e},e)))})}function w({lazy:e,children:r,selectedValue:n}){const l=(Array.isArray(r)?r:[r]).filter(Boolean);if(e){const e=l.find((e=>e.props.value===n));return e?(0,t.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,m.jsx)("div",{className:"margin-top--md",children:l.map(((e,r)=>(0,t.cloneElement)(e,{key:r,hidden:e.props.value!==n})))})}function A(e){const r=j(e);return(0,m.jsxs)("div",{className:(0,i.A)("tabs-container",f.tabList),children:[(0,m.jsx)(b,{...r,...e}),(0,m.jsx)(w,{...r,...e})]})}function v(e){const r=(0,p.A)();return(0,m.jsx)(A,{...e,children:h(e.children)},String(r))}},57589:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/ER-Firewall-GCP-c59ea55f5085952f8c51e851f3a9df77.jpg"},94287:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/ER-Firewall-OCI1-0625031db42fb7ec6a540a987c871d5d.jpg"},80672:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/ER-Firewall-OCI2-329667c52918ab4e842823746dcd1c13.jpg"},46658:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/Firewall-AWS-ER-nonziti-99a242e262cbf580885cbffc5228ff1c.jpg"},12498:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/Firewall-Azure-a7fa5397c0f4f5a9db306efac301e823.jpg"},14281:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/Firewall-IBM-er-7ee5bb0385d61a3af392078bdb06776b.jpg"},69323:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/GCP-login1-4a85ef6f0b3a16ea562e33e71692d37f.jpg"},72652:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/RouteTable-AWS1-8c7d0330294f7ac985b9d9cd0e82e4f7.jpg"},67610:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/RouteTable-Azure1-d46d7120b7b04c6ea7f312b3641fec10.jpg"},90213:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/RouteTable-Azure2-1bda9d65fff3f71edc37555b06af9e4a.jpg"},63048:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/RouteTable-Azure3-3c60d56fe0b920915b08374beec1ba48.jpg"},89860:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/RouteTable-GCP-b801e6157d7608207592ce4df4ba07a2.jpg"},31104:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/RouteTable-OCI1-7120f298d102481fb925fc44c7989f54.jpg"},44719:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/RouteTable-OCI2-af7c8cf49c88c5d4ec565f9e82e07f72.jpg"},17181:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/SrcDestCheck-AWS1-0cc52d570b0892006aa24ab5ad8afc2c.jpg"},63026:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/SrcDestCheck-AWS2-d3c916b492165dc04ab7f7887e86783b.jpg"},98908:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/SrcDestCheck-Azure-0f586382d32075bae2891e4ce35e6a4a.jpg"},52763:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/SrcDestCheck-GCP-e6108395d8be74cac6340f68af2787c7.jpg"},98865:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/SrcDestCheck-OCI1-36ef8ee6722ceeebb8311abe4fc5d24b.jpg"},83014:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/SrcDestCheck-OCI2-a86d305c2da1e43e5d9441307c14c75f.jpg"},31875:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/ZAC01-router-d367a52a762e51de055184325befc14f.png"},41222:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/ZAC02-router-59cc68474610a575820fb58aff745b01.jpg"},13221:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/ZAC03-router-3a7e9d22b3ee246e62ae44864cfeb2f6.jpg"},60616:(e,r,n)=>{n.d(r,{A:()=>t});const t="data:image/jpeg;base64,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"},51895:(e,r,n)=>{n.d(r,{A:()=>t});const t=n.p+"assets/images/ZAC05-router-ef86cd6359ce2f0e68c6ef0c620397ff.jpg"},28453:(e,r,n)=>{n.d(r,{R:()=>s,x:()=>o});var t=n(96540);const i={},l=t.createContext(i);function s(e){const r=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),t.createElement(l.Provider,{value:r},e.children)}}}]);