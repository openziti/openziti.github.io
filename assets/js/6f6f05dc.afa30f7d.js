"use strict";(self.webpackChunkdocusaurus_3=self.webpackChunkdocusaurus_3||[]).push([[98533],{61426:(e,t,i)=>{i.d(t,{A:()=>n});i(96540);var s=i(74848);function n(e){const{children:t,style:i}=e;return(0,s.jsx)("span",{style:i,children:(0,s.jsx)("span",{style:{color:"var(--ifm-color-primary)"},children:t})})}},88180:(e,t,i)=>{i.d(t,{d:()=>s});const s={repoUrl:"https://github.com/openziti/ziti",label:"Support OpenZiti, give us a GitHub Star"}},60269:(e,t,i)=>{i.r(t),i.d(t,{default:()=>b});var s=i(96540),n=i(78478),a=i(74848);const r=({src:e,...t})=>(0,a.jsx)(n.A,{fallback:(0,a.jsx)("div",{children:"Loading asciinema cast..."}),children:()=>{const n=i(92867),r=(0,s.useRef)(null);return(0,s.useEffect)((()=>{n.create(e,r.current,t)}),[e]),(0,a.jsx)("div",{ref:r})}});var l=i(44586),o=i(86025),c=i(73748),d=i(21122);const h=e=>{const{style:t,slideClassName:i,slideTitle:n,slides:r,buttonClassName:l,textClassName:o,imgClassName:c,className:h}=e,p="View All",[g,u]=(0,s.useState)(0),[m,x]=(0,s.useState)(!1),[y,v]=(0,s.useState)(!0),[f,j]=(0,s.useState)(!1),[b,S]=(0,s.useState)(p),[z,w]=(0,s.useState)(0),N=()=>{g===r.length-1||u(g+1),A(g+1)},C=()=>{0===g||u(g-1),A(g-1)},A=e=>{v(0===e),x(e===r.length-1)};let k=null;r.length>1&&(k=(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"row-reverse",margin:"5px"},children:[(0,a.jsx)("div",{style:{display:"flex",marginRight:"5px"},children:(0,a.jsx)("button",{disabled:m,className:l,onClick:N,children:"Next"})}),(0,a.jsx)("div",{style:{display:"flex",marginRight:"5px"},children:(0,a.jsx)("button",{disabled:y,className:l,onClick:C,children:"Previous"})})]}));const _=(e,t)=>(0,a.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",marginTop:"10px"},children:[e.title,(0,a.jsxs)("div",{className:i,children:[(0,a.jsx)("div",{className:o,children:e.text}),(0,a.jsxs)("div",{className:c,children:[(0,a.jsx)(d.A,{sources:{light:e.img,dark:e.darkImg??e.img},alt:e.alt??("string"==typeof e.text?e.text:"slide"),style:{maxWidth:"100%"}}),t]})]})]}),T=(0,a.jsxs)("div",{style:t,onWheel:e=>{if((()=>{const e=document.body,t=document.documentElement,i=window.innerHeight||t.clientHeight||e.clientHeight;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)>i})())return;const t=Math.max(z+e.deltaY,0),i=Math.floor(t/100);console.debug("effectivePage:"+i+" : , curScroll:"+t),t<0?w(0):i>r.length?w(100*r.length):i<r.length&&i>=0&&(console.debug("effectivePage:"+i+" : , currentPos:"+g),w(t),u(i),console.debug("handleOnWheel.currentPosition: "+g),A(i))},children:[(0,a.jsx)("div",{children:_(r[g])}),k]}),H=r.map((e=>_(e,(0,a.jsx)("hr",{}))));return(0,a.jsxs)("div",{className:h,children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[n,(0,a.jsx)("div",{style:{display:"flex",marginRight:"5px",height:"36px"},children:(0,a.jsx)("button",{className:l,onClick:()=>{f?(S(p),j(!1)):(S("View as Slideshow"),j(!0))},children:b})})]}),(0,a.jsx)("div",{children:f?H:T})]})};var p=i(61426);const g=e=>{const[t,i]=(0,s.useState)(!0);return(0,s.useEffect)((()=>{const t=setTimeout((()=>{i(!1)}),e.delay);return()=>clearTimeout(t)}),[e.delay]),t?(0,a.jsx)("div",{className:e.className,children:e.children}):(0,a.jsx)("div",{})},u={appetizer:"appetizer_JXcA",slideStyle:"slideStyle_y6EE",defaultSlideStyle:"defaultSlideStyle_ZscK",slideText:"slideText_jxng",explainer:"explainer_K3WX",slideImage:"slideImage_NCri",exampleContainer:"exampleContainer_Q005",liveMsgContainerContainer:"liveMsgContainerContainer_DmFK",liveMsgContainer:"liveMsgContainer_F9Tm",pageWrapper:"pageWrapper_MXf5",bgImg1:"bgImg1_HvfR",messagebox:"messagebox_Ckxi","chat-bubbles":"chat-bubbles_vCuQ",msgSpan:"msgSpan_WsGl",app:"app_YAHM",messageName:"messageName_zLfK",messageText:"messageText_ZrSs",toast:"toast_TRRw",toastHeader:"toastHeader_aXpl",toastBody:"toastBody_dYQ1",asciinema:"asciinema_kiwR",buttons:"buttons_fVRM",flexGrowNoWrap:"flexGrowNoWrap_R8nv",appetizerTitle:"appetizerTitle_NkmO",slideShow:"slideShow_hA8C",ozhs:"ozhs_GaYA"};var m=i(45621),x=i(88180),y=i(10945);const v="h1_ZanF",f="h2_LQ7h";var j=i(5260);const b=function(){const e=(0,o.Ay)("/appetizer.cast"),{siteConfig:t}=(0,l.A)(),i={marginBottom:"0px"},n=(0,a.jsx)(p.A,{children:"strong identity"}),d=(0,a.jsx)(p.A,{children:"strong identities"}),b=[{title:(0,a.jsx)(m.H3,{style:i,children:"Step 1 - Reflect Server Strong Identity"}),text:(0,a.jsxs)("p",{children:["When the Appetizer process starts, it first creates a ",n,' for itself. This strong identity (represented by the lock icon) is authorized to "bind" the reflect service, creating a listener. The reflect server is then listening on the overlay and able to accept incoming connections from other ',d,", authorized to participate in the OpenZiti network."]}),img:(0,o.Ay)("/img/appetizer/step1.svg"),darkImg:(0,o.Ay)("/img/appetizer/dark-step1.svg")},{title:(0,a.jsx)(m.H3,{style:i,children:"Step 2 - Reflect Server Connects to the OpenZiti Network"}),text:(0,a.jsxs)("p",{children:["Now the ",(0,a.jsx)("code",{children:"reflect server"})," is ready to connect to the overlay network. The OpenZiti SDK locates any/all"," ",(0,a.jsx)("a",{href:(0,o.Ay)("/reference/glossary"),children:"OpenZiti Routers"})," it's authorized to connect to and using the ",n," created in step 1, it attaches to the overlay network. Following the principle of"," ",(0,a.jsx)(p.A,{children:"least privileged access"}),', the server must be authorized to "bind" the reflect service and other ',d,' must be authorized "dial" the service. Other ',d," that are not authorized will not be allowed to access the service."]}),img:(0,o.Ay)("/img/appetizer/step2.svg"),darkImg:(0,o.Ay)("/img/appetizer/dark-step2.svg")},{title:(0,a.jsx)(m.H3,{style:i,children:"Step 3 - Reflect Client Strong Identity"}),text:(0,a.jsxs)("p",{children:["Your ",(0,a.jsx)("code",{children:"reflect client"})," also needs a ",n,". You won't be able to connect to the"," ",(0,a.jsx)("code",{children:"reflect server"})," if you're not authenticated to the OpenZiti overlay, and you can't authenticate to the overlay without a ",n,"! The Appetizer exposes a public endpoint (one not protected by OpenZiti) which creates ",d," authorized to connect to the reflect server. The first time you run the reflect client, it will automatically make an HTTP request to retrieve a ",n," for your use, authorized to communicate to the reflect server."]}),img:(0,o.Ay)("/img/appetizer/step3.svg"),darkImg:(0,o.Ay)("/img/appetizer/dark-step3.svg")},{title:(0,a.jsx)(m.H3,{style:i,children:"Step 4 - Reflect Client Connects to the OpenZiti Network"}),text:(0,a.jsxs)("p",{children:["Your ",(0,a.jsx)("code",{children:"reflect client"})," now has its own ",n," and can connect to the OpenZiti overlay! Both reflect client and reflect server established connections to the"," ",(0,a.jsx)("a",{href:(0,o.Ay)("/reference/glossary"),children:"OpenZiti Routers"})," deployed on the public, open internet. By making outbound connections to edge routers in this way, absolutely ",(0,a.jsx)(p.A,{children:"no inbound firewall holes"})," ","are needed. The reflect server also has ",(0,a.jsx)(p.A,{children:"no listening ports"})," on the IP-based, underlay network. It only listens exclusively on the overlay! This gives the reflect server and any server adopting an OpenZiti SDK total protection ",(0,a.jsx)(p.A,{children:"from port scanning"}),"."]}),img:(0,o.Ay)("/img/appetizer/step4.svg"),darkImg:(0,o.Ay)("/img/appetizer/dark-step4.svg")},{title:(0,a.jsx)(m.H3,{style:i,children:"Step 5 - Client and Server Communicate Securely"}),text:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:["The ",(0,a.jsx)("code",{children:"reflect client"})," now securely dials the ",(0,a.jsx)("code",{children:"reflect server"})," over the OpenZiti overlay. Both are now ",(0,a.jsx)(p.A,{children:"authenticated"})," and ",(0,a.jsx)(p.A,{children:"authorized"}),". The client sends bytes to the server, which are reflected back to your locally running client. When the client initiates a connection, ",(0,a.jsx)(p.A,{children:"end to end encryption"})," is negotiated as well, further ensuring security."]}),(0,a.jsxs)("span",{style:{paddingTop:"5px"},children:["With the connection established, the overlay can monitor and apply ",(0,a.jsx)(p.A,{children:"continual authorization"})," ","too. As soon as either ",n," is unauthorized, the connection is terminated."]})]}),img:(0,o.Ay)("/img/appetizer/step5.svg"),darkImg:(0,o.Ay)("/img/appetizer/dark-step5.svg")}],S="\n    git clone https://github.com/openziti-test-kitchen/appetizer.git\n    cd appetizer\n    go run clients/reflect.go reflectService\n  ".trim().split("\n").map((e=>e.trimLeft()+"\n")),z=(0,a.jsxs)("div",{children:[(0,a.jsx)(m.H3,{style:i,children:"What You Get by Adopting an OpenZiti SDK"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:"Strong identities. X509 certificates guarantee entities are who they claim."}),(0,a.jsx)("li",{children:'Segmented access. Follow the "least privileged access" model.'}),(0,a.jsx)("li",{children:'Protection from port scanning. The app has no listening ports, it\'s "dark".'}),(0,a.jsx)("li",{children:"Continuous authentication. Constant authentication is vital."}),(0,a.jsx)("li",{children:"End-to-end encryption. Ensure data is only available to the intended recipient."})]})]}),[w,N]=(0,s.useState)([]),C=e=>{const t=e.data.split(":"),i=t[0],s=t.slice(1).join(":"),n=((e,t,i)=>(0,a.jsxs)("div",{className:u.toast,children:[(0,a.jsxs)("div",{className:u.toastHeader,children:[(0,a.jsx)("p",{children:e}),(0,a.jsx)("small",{children:t})]}),(0,a.jsx)("div",{className:u.toastBody,children:(0,a.jsx)("p",{children:i})})]}))(i,(()=>{const e=new Date;return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}`})(),s);N((e=>[(0,a.jsx)(g,{delay:"20000",className:u.chatBubbles,children:n},Date.now().toString(36)+Math.random().toString(36).substr(2,5)),...e]))};(0,s.useEffect)((()=>{const e=new EventSource("https://appetizer.openziti.io/sse");return e.addEventListener("notify",C,!0),()=>e.close()}),[]);const[A,k]=(0,s.useState)(!0),[_,T]=(0,s.useState)("Hide Live Messages!");return(0,a.jsxs)(m.HC,{className:u.appetizer,starProps:x.d,footerProps:y.w,meta:{title:"Appetizer \xb7 OpenZiti Documentation",description:"Get started with the Appetizer guide in OpenZiti to learn real-time communication using overlay identities and reflect server.",url:"https://netfoundry.io/docs/openziti/appetizer",image:"https://raw.githubusercontent.com/openziti/branding/main/images/ziggy/closeups/Ziggy-Chef-Closeup.png",siteName:"NetFoundry OpenZiti",locale:"en_US",twitterX:{card:"summary_large_image",site:"@OpenZiti",creator:"@openziti",imageAlt:"OpenZiti Appetizer guide page preview"}},children:[(0,a.jsx)(j.A,{children:(0,a.jsx)("meta",{"data-rh":"true",name:"nf-pages-version",content:"NFLayoutVersion"})}),(0,a.jsx)("div",{id:"dont-remove-this-is-here-to-prevent-a-styling-issue",children:(0,a.jsx)("div",{className:u.liveMsgContainerContainer,style:{minHeight:"100px",maxHeight:"450px"},children:A&&(0,a.jsxs)("div",{className:`${u.liveMsgContainer} ${u.bgImg1}`,children:[(0,a.jsx)("span",{className:u.msgSpan,children:'\ud83d\udc46 live "Reflect" messages will display here'}),(0,a.jsx)("div",{className:u.pageWrapper,children:w.map((e=>e))})]})})}),(0,a.jsxs)(m.u4,{className:u.ozhs,children:[(0,a.jsxs)("div",{className:u.appetizerTitle,children:[(0,a.jsx)("img",{src:"https://raw.githubusercontent.com/openziti/branding/main/images/ziggy/closeups/Ziggy-Chef-Closeup.png",height:"60px",alt:"Ziggy Chef",style:{padding:"0 10px 0 0"}}),(0,a.jsxs)(m.H1,{className:v,children:["Appetizer: ",(0,a.jsx)("span",{style:{display:"inline-block"},children:"Taste OpenZiti"})]})]}),(0,a.jsxs)("div",{className:u.exampleContainer,children:[(0,a.jsxs)("div",{className:u.explainer,children:[(0,a.jsxs)("p",{children:["If you have go installed, it's as simple as clone the repo, and\xa0",(0,a.jsx)("code",{children:"go run"}),"\xa0and you can experience application embedded zero trust in action \ud83d\udc47."]}),(0,a.jsx)(c.A,{children:S}),z]}),(0,a.jsxs)("div",{className:`${u.asciinema}`,style:{position:"relative"},children:[(0,a.jsx)("div",{style:{position:"absolute",top:"5px",right:"5px",zIndex:1,flexDirection:"column"},children:(0,a.jsx)("button",{className:"button button--primary",onClick:()=>{k(!A),T(A?"Show Live Messages!":"Hide Live Messages!")},children:_})}),(0,a.jsx)(r,{fit:"width",src:e,loop:!0,autoplay:1,preload:!0})]})]}),(0,a.jsx)("hr",{}),(0,a.jsx)(h,{slides:b,className:u.slideShow,slideTitle:(0,a.jsx)(m.H2,{className:f,children:"Taking a Closer Look"}),slideClassName:u.defaultSlideStyle,textClassName:u.slideText,imgClassName:u.slideImage,buttonClassName:"button button--primary"})]})]})}}}]);