"use strict";(self.webpackChunkdocusaurus_3=self.webpackChunkdocusaurus_3||[]).push([[80803],{73841:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>d});var s=t(36703),i=t(74848),r=t(28453);const l={title:"Deploy OpenZiti in Kubernetes with Ease Using k3d",date:new Date("2024-05-17T19:13:03.000Z"),cuid:"clwb24maj00010amp786bh8gw",slug:"deploy-openziti-in-kubernetes-with-ease-using-k3d",authors:["KennethBingham"],image:"@site/blogs/openziti/v1715957663205/30f837ad-feba-47f8-9678-09a0b08ae781.png",imageDark:"@site/blogs/openziti/v1715957663205/30f837ad-feba-47f8-9678-09a0b08ae781.png",tags:["docker","kubernetes","self-hosted","k3d","zerotrust","overlaynetworking"]},o=void 0,a={authorsImageUrls:[void 0]},d=[{value:"The Plan",id:"the-plan",level:2},{value:"Create a Cluster",id:"create-a-cluster",level:2},{value:"Ports Breakdown",id:"ports-breakdown",level:3},{value:"Find the Node Address",id:"find-the-node-address",level:2},{value:"Windows",id:"windows",level:3},{value:"macOS",id:"macos",level:3},{value:"Linux",id:"linux",level:3},{value:"Install the Controller Chart",id:"install-the-controller-chart",level:2},{value:"Input Values Breakdown",id:"input-values-breakdown",level:3},{value:"Log in to the OpenZiti Controller",id:"log-in-to-the-openziti-controller",level:2},{value:"Create an OpenZiti Router",id:"create-an-openziti-router",level:2},{value:"Install the Router Chart",id:"install-the-router-chart",level:2},{value:"Input Values Breakdown",id:"input-values-breakdown-1",level:3},{value:"Ensure router1 is Online.",id:"ensure-router1-is-online",level:3},{value:"That&#39;s It!",id:"thats-it",level:2},{value:"Related",id:"related",level:2}];function c(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["k3d is a Kubernetes distribution for Docker that makes it easy to replicate a production-like environment in a local container environment. It's great for local development and familiarizing yourself with ",(0,i.jsx)(n.a,{href:"https://openziti.io/docs/category/deployments",children:"OpenZiti's deployment options"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"the-plan",children:"The Plan"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Create a k3d cluster."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Install the OpenZiti controller."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Install the OpenZiti router."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"create-a-cluster",children:"Create a Cluster"}),"\n",(0,i.jsxs)(n.p,{children:["Prerequisite: ",(0,i.jsx)(n.a,{href:"https://k3d.io/#install-script",children:(0,i.jsx)(n.code,{children:"k3d"})})," CLI"]}),"\n",(0,i.jsxs)(n.p,{children:["We need a cluster with forwarded ports for the controller and a router. Run ",(0,i.jsx)(n.code,{children:"k3d"})," to create a cluster."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"k3d cluster create ziti-local \\\n--port 1280:1280@loadbalancer \\\n--port 6262:6262@loadbalancer \\\n--port 3022:3022@loadbalancer \\\n--port 10080:10080@loadbalancer\n"})}),"\n",(0,i.jsx)(n.h3,{id:"ports-breakdown",children:"Ports Breakdown"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"controller"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"1280"})," - client API web listener"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"6262"})," - control plane for routers"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"router"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"3022"})," - edge listener for identities"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"10080"})," - link listener for other routers"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"A note about why everything's port-separated in this tutorial: It's simpler. OpenZiti uses mTLS extensively, so the cluster must pass through TLS to the controller and router pods. This tutorial uses LoadBalancer services because they provide a raw TCP proxy and are convenient with Traefik in k3d. OpenZiti can also separate services sharing a port by ALPN identifier, and Ingress/Gateway controllers can separate them by SNI."})}),"\n",(0,i.jsx)(n.h2,{id:"find-the-node-address",children:"Find the Node Address"}),"\n",(0,i.jsxs)(n.p,{children:["Prerequisite: ",(0,i.jsx)(n.a,{href:"https://kubernetes.io/docs/tasks/tools/#kubectl",children:(0,i.jsx)(n.code,{children:"kubectl"})})," CLI"]}),"\n",(0,i.jsxs)(n.p,{children:["Run ",(0,i.jsx)(n.code,{children:"kubectl"})," to set a shell environment variable ",(0,i.jsx)(n.code,{children:"NODE_IP"})," to the LoadBalancer address. This gives us an IP address that's routable inside and outside our k3d cluster. We'll use it to invent a DNS name in a magic wildcard zone (e.g., ",(0,i.jsx)(n.code,{children:"sslip.io"}),", ",(0,i.jsx)(n.code,{children:"nip.io"}),")."]}),"\n",(0,i.jsx)(n.h3,{id:"windows",children:"Windows"}),"\n",(0,i.jsx)(n.p,{children:"For Docker Desktop on Windows, use the WSL2 VM interface address and run the rest of the commands with BASH in WSL2."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"NODE_IP=$(getent hosts host.docker.internal | awk '{ print $1 }')\n"})}),"\n",(0,i.jsx)(n.h3,{id:"macos",children:"macOS"}),"\n",(0,i.jsx)(n.p,{children:"For Docker Desktop on macOS, use the default host interface address."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"NODE_IP=$(ipconfig getifaddr $(route get default | awk '/interface: / { print $2 }'))\n"})}),"\n",(0,i.jsx)(n.h3,{id:"linux",children:"Linux"}),"\n",(0,i.jsx)(n.p,{children:"For Docker daemon on Linux, use the IP of the load balancer container."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"NODE_IP=$(docker inspect k3d-ziti-local-serverlb|jq -r '.[].NetworkSettings.Networks[].IPAddress')\n"})}),"\n",(0,i.jsx)(n.h2,{id:"install-the-controller-chart",children:"Install the Controller Chart"}),"\n",(0,i.jsxs)(n.p,{children:["Prerequisite: ",(0,i.jsx)(n.a,{href:"https://helm.sh/docs/intro/install/",children:(0,i.jsx)(n.code,{children:"helm"})})," CLI"]}),"\n",(0,i.jsxs)(n.p,{children:["Run ",(0,i.jsx)(n.code,{children:"helm"})," to add the OpenZiti charts repo."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'helm repo add "openziti" https://openziti.io/helm-charts\nhelm repo update "openziti"\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Install the ",(0,i.jsx)(n.a,{href:"https://cert-manager.io/docs/",children:"Cert Manager"})," and ",(0,i.jsx)(n.a,{href:"https://cert-manager.io/docs/trust/trust-manager/",children:"Trust Manager"})," Custom Resource Definitions so we can install them as subcharts."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl apply -f https://github.com/cert-manager/cert-manager/releases/latest/download/cert-manager.crds.yaml\nkubectl apply -f https://raw.githubusercontent.com/cert-manager/trust-manager/v0.7.0/deploy/crds/trust.cert-manager.io_bundles.yaml\n"})}),"\n",(0,i.jsx)(n.p,{children:"Install and configure the controller to advertise the node address (i.e., the LoadBalancer address)."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'helm upgrade --install "ziti-controller" openziti/ziti-controller \\\n--namespace "ziti" --create-namespace \\\n--set clientApi.advertisedHost="client.ziti.${NODE_IP}.sslip.io" \\\n--set clientApi.advertisedPort=1280 \\\n--set clientApi.service.type=LoadBalancer \\\n--set ctrlPlane.advertisedHost="ctrl.ziti.${NODE_IP}.sslip.io" \\\n--set ctrlPlane.advertisedPort=6262 \\\n--set ctrlPlane.service.type=LoadBalancer \\\n--set trust-manager.app.trust.namespace=ziti \\\n--set trust-manager.enabled=true \\\n--set cert-manager.enabled=true\n'})}),"\n",(0,i.jsx)(n.h3,{id:"input-values-breakdown",children:"Input Values Breakdown"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"clientApi"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"advertisedHost"}),": FQDN that identities will connect to the control plane"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"advertisedPort"}),": port on the FQDN identities will connect to"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"service.type"}),": K8s Service type"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"ctrlPlane"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"advertisedHost"}),": FQDN that routers will connect to the control plane"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"advertisedPort"}),": port on the FQDN routers will connect to"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"service.type"}),": K8s service type"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"http://trust-manager.app.trust",children:(0,i.jsx)(n.code,{children:"trust-manager"})})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"app.trust.namespace"}),": K8s Namespace where Trust Manager is allowed to read K8s Secrets to serve bundles of trusted root CA certificates"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"enabled"}),": install Trust Manager sub chart in the same namespace"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"cert-manager"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"enabled"}),": install Cert Manager sub chart in the same namespace"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"log-in-to-the-openziti-controller",children:"Log in to the OpenZiti Controller"}),"\n",(0,i.jsx)(n.p,{children:"Wait for the controller deployment to become ready."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'kubectl wait deployments "ziti-controller" \\\n    --namespace ziti \\\n    --for condition=Available=True \\\n    --timeout 240s\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Prerequisite: ",(0,i.jsx)(n.a,{href:"https://openziti.io/docs/downloads?os=Linux",children:(0,i.jsx)(n.code,{children:"ziti"})})," CLI"]}),"\n",(0,i.jsx)(n.p,{children:"Get the admin's password and log in"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'kubectl get secrets "ziti-controller-admin-secret" \\\n--namespace "ziti" \\\n--output go-template=\'{{index .data "admin-password" | base64decode }}\' \\\n| xargs -rl ziti edge login client.ziti.${NODE_IP}.sslip.io:1280 \\\n--yes --username "admin" \\\n--password\n'})}),"\n",(0,i.jsxs)(n.p,{children:["What does this gnarly one-liner do? It's three commands. The first, ",(0,i.jsx)(n.code,{children:"kubectl"}),", gets the admin password from K8s. The second command, ",(0,i.jsx)(n.code,{children:"xargs"})," , tacks the password onto the end of the third, ",(0,i.jsx)(n.code,{children:"ziti edge login"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"create-an-openziti-router",children:"Create an OpenZiti Router"}),"\n",(0,i.jsxs)(n.p,{children:["You must administratively create a Ziti router. The ",(0,i.jsx)(n.code,{children:"-t"})," option is short for ",(0,i.jsx)(n.code,{children:"--tunneler-enabled"})," and enables the built-in tunneler to be used as a reverse proxy for cluster-internal services. This will be convenient when you create your first OpenZiti service."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'ziti edge create edge-router "router1" -t -o ./router1.jwt\n'})}),"\n",(0,i.jsx)(n.p,{children:"Expected Output"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"New edge router router1 created with id: OdiqYOi9RW\nEnrollment expires at 2024-05-17T20:50:59.142Z\n"})}),"\n",(0,i.jsx)(n.h2,{id:"install-the-router-chart",children:"Install the Router Chart"}),"\n",(0,i.jsx)(n.p,{children:"The token allows the router to bootstrap itself with a renewable identity from the controller."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'helm upgrade --install "ziti-router" openziti/ziti-router \\\n--namespace "ziti" \\\n--set-file enrollmentJwt=./router1.jwt \\\n--set edge.advertisedHost="router1.edge.ziti.${NODE_IP}.sslip.io" \\\n--set edge.advertisedPort=3022 \\\n--set edge.service.type=LoadBalancer \\\n--set linkListeners.transport.advertisedHost="router1.link.ziti.${NODE_IP}.sslip.io" \\\n--set linkListeners.transport.advertisedPort=10080 \\\n--set linkListeners.transport.service.type=LoadBalancer \\\n--set tunnel.mode=host \\\n--set ctrl.endpoint="ctrl.ziti.${NODE_IP}.sslip.io:6262"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"input-values-breakdown-1",children:"Input Values Breakdown"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"enrollmentJwt"}),": This is the path to the token file you got from administratively creating the router."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"edge"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"advertisedHost"}),": FQDN identities will connect to the data plane"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"advertisedPort"}),": Port on the FQDN identities will connect to"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"service.type"}),": K8s service type"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"linkListeners"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"transport"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"advertisedHost"}),": FQDN routers will connect to the data plane"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"advertisedPort"}),": port on the FQDN where routers will connect"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"service.type"}),": K8s service type"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"ctrl"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"endpoint"}),": control plane address for this router to connect to"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"ensure-router1-is-online",children:"Ensure router1 is Online."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ziti edge list edge-routers\n"})}),"\n",(0,i.jsx)(n.p,{children:"Expected Output"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"\u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\n\u2502 ID         \u2502 NAME    \u2502 ONLINE \u2502 ALLOW TRANSIT \u2502 COST \u2502 ATTRIBUTES \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 OdiqYOi9RW \u2502 router1 \u2502 true   \u2502 true          \u2502    0 \u2502            \u2502\n\u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\nresults: 1-1 of 1\n"})}),"\n",(0,i.jsx)(n.h2,{id:"thats-it",children:"That's It!"}),"\n",(0,i.jsx)(n.p,{children:"Now, you can add identities and connect them with services and policies."}),"\n",(0,i.jsxs)(n.p,{children:["Recommended: ",(0,i.jsx)(n.a,{href:"https://openziti.io/docs/learn/quickstarts/services/kubernetes-service/",children:"Kubernetes service tutorial"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Pop into the forum if you have any ideas or issues: ",(0,i.jsx)(n.a,{href:"https://openziti.discourse.group/",children:"https://openziti.discourse.group/"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"related",children:"Related"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://openziti.io/docs/learn/quickstarts/network/local-kubernetes",children:"This other Kubernetes Quickstart"})," uses Minikube instead of k3d"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>o});var s=t(96540);const i={},r=s.createContext(i);function l(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(r.Provider,{value:n},e.children)}},36703:e=>{e.exports=JSON.parse('{"permalink":"/docs/openziti/blog/deploy-openziti-in-kubernetes-with-ease-using-k3d","source":"@site/blog/deploy-openziti-in-kubernetes-with-ease-using-k3d.md","title":"Deploy OpenZiti in Kubernetes with Ease Using k3d","description":"k3d is a Kubernetes distribution for Docker that makes it easy to replicate a production-like environment in a local container environment. It\'s great for local development and familiarizing yourself with OpenZiti\'s deployment options.","date":"2024-05-17T19:13:03.000Z","tags":[{"inline":false,"label":"Docker","permalink":"/docs/openziti/blog/tags/docker","description":"Docker content"},{"inline":false,"label":"Kubernetes","permalink":"/docs/openziti/blog/tags/kubernetes","description":"Kubernetes content"},{"inline":false,"label":"Self Hosted","permalink":"/docs/openziti/blog/tags/self-hosted","description":"Self-hosted setups"},{"inline":false,"label":"k3d","permalink":"/docs/openziti/blog/tags/k3d","description":"Lightweight Kubernetes in Docker"},{"inline":false,"label":"Zero Trust","permalink":"/docs/openziti/blog/tags/zerotrust","description":"Zero Trust Networking"},{"inline":false,"label":"Overlay Networking","permalink":"/docs/openziti/blog/tags/overlaynetworking","description":"Overlay networking"}],"readingTime":5.04,"hasTruncateMarker":true,"authors":[{"name":"Kenneth Bingham","title":"Author","url":"https://github.com/qrkourier","imageURL":"https://avatars.githubusercontent.com/qrkourier","key":"KennethBingham","page":null}],"frontMatter":{"title":"Deploy OpenZiti in Kubernetes with Ease Using k3d","date":"2024-05-17T19:13:03.000Z","cuid":"clwb24maj00010amp786bh8gw","slug":"deploy-openziti-in-kubernetes-with-ease-using-k3d","authors":["KennethBingham"],"image":"@site/blogs/openziti/v1715957663205/30f837ad-feba-47f8-9678-09a0b08ae781.png","imageDark":"@site/blogs/openziti/v1715957663205/30f837ad-feba-47f8-9678-09a0b08ae781.png","tags":["docker","kubernetes","self-hosted","k3d","zerotrust","overlaynetworking"]},"unlisted":false,"prevItem":{"title":"zrok VPN","permalink":"/docs/openziti/blog/zrok-vpn"},"nextItem":{"title":"Signing Executables From GitHub Actions","permalink":"/docs/openziti/blog/signing-executables-from-github-actions"}}')}}]);