"use strict";(self.webpackChunkdocusaurus_3=self.webpackChunkdocusaurus_3||[]).push([[4006],{26165:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"reference/ha/bootstrapping/initialization","title":"Initializing the First Controller","description":"First start the controller:","source":"@site/docs/reference/ha/bootstrapping/initialization.md","sourceDirName":"reference/ha/bootstrapping","slug":"/reference/ha/bootstrapping/initialization","permalink":"/docs/reference/ha/bootstrapping/initialization","draft":false,"unlisted":false,"editUrl":"https://github.com/openziti/ziti-doc/tree/main/docusaurus/docs/reference/ha/bootstrapping/initialization.md","tags":[],"version":"current","lastUpdatedAt":1748358525000,"sidebarPosition":40,"frontMatter":{"sidebar_label":"Initialization","sidebar_position":40},"sidebar":"docsSidebar","previous":{"title":"Configuration","permalink":"/docs/reference/ha/bootstrapping/configuration"},"next":{"title":"Routers","permalink":"/docs/reference/ha/routers"}}');var r=n(74848),o=n(28453);const a={sidebar_label:"Initialization",sidebar_position:40},s="Initializing the First Controller",l={},c=[];function d(e){const t={code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"initializing-the-first-controller",children:"Initializing the First Controller"})}),"\n",(0,r.jsx)(t.p,{children:"First start the controller:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-shell",children:"ziti controller run </path/to/controller-config.yml>\n"})}),"\n",(0,r.jsx)(t.p,{children:"Since this controller has not yet been initialized, it does not have an administrator\nidentity that can be used to manage the network. The controller will pause startup\nand wait for initialization. While waiting it will periodically emit a message:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-buttonless",metastring:'title="Output"',children:"[   3.323] WARNING ziti/controller/server.(*Controller).checkEdgeInitialized: the \ncontroller has not been initialized, no default admin exists.  Add this node to a \ncluster using 'ziti agent cluster add tls:ctrl1.ziti.example.com:1280' against an existing \ncluster member, or if this is the bootstrap node, run 'ziti agent controller init' \nto configure the default admin and bootstrap the cluster\n"})}),"\n",(0,r.jsx)(t.p,{children:"As this is the first node in the cluster, there's no existing cluster to add it to."}),"\n",(0,r.jsx)(t.p,{children:"To add the default administrator, run:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"ziti agent cluster init <admin username> <admin password> <admin identity name>\n"})}),"\n",(0,r.jsx)(t.p,{children:"This initializes an admin user that can be used to manage the network."}),"\n",(0,r.jsx)(t.p,{children:"Once the admin user is created, the controller should be up and running. This is\nnow a functional HA cluster, albeit with a cluster size of one."})]})}function u(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>s});var i=n(96540);const r={},o=i.createContext(r);function a(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);