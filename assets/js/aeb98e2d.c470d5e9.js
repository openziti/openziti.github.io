"use strict";(self.webpackChunkdocusaurus_3=self.webpackChunkdocusaurus_3||[]).push([[7969],{75230:(e,t,i)=>{i.r(t),i.d(t,{default:()=>m});var s=i(96540),n=i(78478),a=i(74848);const r=({src:e,...t})=>(0,a.jsx)(n.A,{fallback:(0,a.jsx)("div",{children:"Loading asciinema cast..."}),children:()=>{const n=i(92867),r=(0,s.useRef)(null);return(0,s.useEffect)((()=>{n.create(e,r.current,t)}),[e]),(0,a.jsx)("div",{ref:r})}});var l=i(44586),o=i(14156),c=i(76119),d=i(86025),h=i(73748),p=i(95293);const g=e=>{const{style:t,slideClassName:i,slideTitle:n,slides:r,buttonClassName:l,textClassName:o,imgClassName:c,className:d}=e,h="View All",{colorMode:g,setColorMode:x}=(0,p.G)(),[u,m]=(0,s.useState)(0),[y,f]=(0,s.useState)(!1),[v,j]=(0,s.useState)(!0),[b,w]=(0,s.useState)(!1),[S,C]=(0,s.useState)(h),[z,N]=(0,s.useState)(0),k=()=>{u===r.length-1||m(u+1),A(u+1)},T=()=>{0===u||m(u-1),A(u-1)},A=e=>{j(0===e),f(e===r.length-1)};let _=null;r.length>1&&(_=(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"row-reverse",margin:"5px"},children:[(0,a.jsx)("div",{style:{display:"flex",marginRight:"5px"},children:(0,a.jsx)("button",{disabled:y,className:l,onClick:k,children:"Next"})}),(0,a.jsx)("div",{style:{display:"flex",marginRight:"5px"},children:(0,a.jsx)("button",{disabled:v,className:l,onClick:T,children:"Previous"})})]}));const H=e=>"dark"===g?e.darkImg:e.img,M=(e,t)=>{const s=H(e);return(0,a.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",marginTop:"10px"},children:[e.title,(0,a.jsxs)("div",{className:i,children:[(0,a.jsx)("div",{className:o,children:e.text}),(0,a.jsxs)("div",{className:c,children:[(0,a.jsx)("img",{style:{maxWidth:"100%"},src:s,alt:e.text}),t]})]})]})},I=(0,a.jsxs)("div",{style:t,onWheel:e=>{if((()=>{const e=document.body,t=document.documentElement,i=window.innerHeight||t.clientHeight||e.clientHeight;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)>i})())return;const t=Math.max(z+e.deltaY,0),i=Math.floor(t/100);console.debug("effectivePage:"+i+" : , curScroll:"+t),t<0?N(0):i>r.length?N(100*r.length):i<r.length&&i>=0&&(console.debug("effectivePage:"+i+" : , currentPos:"+u),N(t),m(i),console.debug("handleOnWheel.currentPosition: "+u),A(i))},children:[(0,a.jsx)("div",{children:M(r[u])}),_]}),Z=r.map((e=>M(e,(0,a.jsx)("hr",{}))));return(0,a.jsxs)("div",{className:d,children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[n,(0,a.jsx)("div",{style:{display:"flex",marginRight:"5px",height:"36px"},children:(0,a.jsx)("button",{className:l,onClick:()=>{b?(C(h),w(!1)):(C("View as Slideshow"),w(!0))},children:S})})]}),(0,a.jsx)("div",{children:b?Z:I})]})},x=e=>{const[t,i]=(0,s.useState)(!0);return(0,s.useEffect)((()=>{const t=setTimeout((()=>{i(!1)}),e.delay);return()=>clearTimeout(t)}),[e.delay]),t?(0,a.jsx)("div",{className:e.className,children:e.children}):(0,a.jsx)("div",{})},u={appetizer:"appetizer_JXcA",slideStyle:"slideStyle_y6EE",defaultSlideStyle:"defaultSlideStyle_ZscK",slideText:"slideText_jxng",explainer:"explainer_K3WX",slideImage:"slideImage_NCri",exampleContainer:"exampleContainer_Q005",liveMsgContainerContainer:"liveMsgContainerContainer_DmFK",liveMsgContainer:"liveMsgContainer_F9Tm",pageWrapper:"pageWrapper_MXf5",bgImg1:"bgImg1_HvfR",messagebox:"messagebox_Ckxi","chat-bubbles":"chat-bubbles_vCuQ",msgSpan:"msgSpan_WsGl",app:"app_YAHM",messageName:"messageName_zLfK",messageText:"messageText_ZrSs",toast:"toast_TRRw",toastHeader:"toastHeader_aXpl",toastBody:"toastBody_dYQ1",asciinema:"asciinema_kiwR",buttons:"buttons_fVRM",flexGrowNoWrap:"flexGrowNoWrap_R8nv",appetizerTitle:"appetizerTitle_NkmO",slideShow:"slideShow_hA8C",ozhs:"ozhs_GaYA"};const m=function(){const e=(0,d.Ay)("/appetizer.cast"),{siteConfig:t}=(0,l.A)(),i={marginBottom:"0px"},n=(0,a.jsx)(c.f4,{children:"strong identity"}),p=(0,a.jsx)(c.f4,{children:"strong identities"}),m=[{title:(0,a.jsx)(c.H3,{style:i,children:"Step 1 - Reflect Server Strong Identity"}),text:(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("p",{children:["When the Appetizer process starts, it first creates a ",n,' for itself. This strong identity (represented by the lock icon) is authorized to "bind" the reflect service, creating a listener. The reflect server is then listening on the overlay and able to accept incoming connections from other ',p,", authorized to participate in the OpenZiti network."]})}),img:(0,d.Ay)("/img/appetizer/step1.svg"),darkImg:(0,d.Ay)("/img/appetizer/dark-step1.svg")},{title:(0,a.jsx)(c.H3,{style:i,children:"Step 2 - Reflect Server Connects to the OpenZiti Network"}),text:(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("p",{children:["Now the\xa0",(0,a.jsx)("code",{children:"reflect server"}),"\xa0is ready to connect to the overlay network. The OpenZiti SDK locates any/all ",(0,a.jsx)("a",{href:(0,d.Ay)("reference/glossary"),children:"OpenZiti Routers"})," it's authorized to connect to and using the ",n," created in step 1, it attaches to the overlay network. Following the principle of ",(0,a.jsx)(c.f4,{children:"least privileged access"}),', the server must be authorized to "bind" the reflect service and other ',p,' must be authorized "dial" the service. Other ',p," that are not authorized, will not be allowed to access the service."]})}),img:(0,d.Ay)("/img/appetizer/step2.svg"),darkImg:(0,d.Ay)("/img/appetizer/dark-step2.svg")},{title:(0,a.jsx)(c.H3,{style:i,children:"Step 3 - Reflect Client Strong Identity"}),text:(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("p",{children:["Your\xa0",(0,a.jsx)("code",{children:"reflect client"}),"\xa0also needs a ",n,". You won't be able to connect to the \xa0",(0,a.jsx)("code",{children:"reflect server"}),"\xa0if you're not authenticated to the OpenZiti overlay, and you can't authenticate to the overlay without a ",n,"! The Appetizer exposes a public endpoint (one not protected by OpenZiti) which creates ",p," authorized to connect to the reflect server. The first time you run the reflect client, it will automatically make an HTTP request to retrieve a ",n," for your use, authorized to communicate to the reflect server."]})}),img:(0,d.Ay)("/img/appetizer/step3.svg"),darkImg:(0,d.Ay)("/img/appetizer/dark-step3.svg")},{title:(0,a.jsx)(c.H3,{style:i,children:"Step 4 - Reflect Client Connects to the OpenZiti Network"}),text:(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("p",{children:["Your\xa0",(0,a.jsx)("code",{children:"reflect client"}),"\xa0now has it's own ",n," and can connect to the OpenZiti overlay! Both reflect client and reflect server established connections to the",(0,a.jsx)("a",{href:(0,d.Ay)("reference/glossary"),children:"OpenZiti Routers"})," deployed on the public, open internet. By making outbound connections to edge routers in this way, absolutely ",(0,a.jsx)(c.f4,{children:"no inbound firewall holes"})," are needed. The reflect server also has ",(0,a.jsx)(c.f4,{children:"no listening ports"})," on the IP-based, underlay network. It only listens for connections exclusively on the overlay network! This gives the reflect server and any server adopting an OpenZiti SDK, total protection ",(0,a.jsx)(c.f4,{children:"from port scanning"}),"."]})}),img:(0,d.Ay)("/img/appetizer/step4.svg"),darkImg:(0,d.Ay)("/img/appetizer/dark-step4.svg")},{title:(0,a.jsx)(c.H3,{style:i,children:"Step 5 - Client and Server Communicate Securely"}),text:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:["The\xa0",(0,a.jsx)("code",{children:"reflect client"}),"\xa0now securely dials the\xa0",(0,a.jsx)("code",{children:"reflect server"}),"\xa0over the OpenZiti overlay. The client can connect and the server can accept the connections because both are now ",(0,a.jsx)(c.f4,{children:"authenticated"})," and ",(0,a.jsx)(c.f4,{children:"authorized"}),". The client sends bytes to the server, which are reflected back to your locally running reflect client. When the client initiates a connection, ",(0,a.jsx)(c.f4,{children:"end to end encryption"})," is then negotiated as well, further ensuring the security of the connection!"]}),(0,a.jsxs)("span",{style:{paddingTop:"5px"},children:["With the connection established, the OpenZiti overlay can now monitor the connection and apply ",(0,a.jsx)(c.f4,{children:"continual authorization"})," as well. As soon as either",n," is unauthorized, the connection is terminated."]})]}),img:(0,d.Ay)("/img/appetizer/step5.svg"),darkImg:(0,d.Ay)("/img/appetizer/dark-step5.svg")}],y="\n        git clone https://github.com/openziti-test-kitchen/appetizer.git\n        cd appetizer\n        go run clients/reflect.go reflectService\n        ".trim().split("\n").map((e=>e.trimLeft()+"\n")),f=(0,a.jsxs)("div",{children:[(0,a.jsx)(c.H3,{style:i,children:"What You Get by Adopting an OpenZiti SDK"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:"Strong identities. X509 certificates guarantee all entities on the network are who they claim to be."}),(0,a.jsx)("li",{children:'Segmented access. Follow the "least privileged access" model. Allow access only to exactly what is needed.'}),(0,a.jsx)("li",{children:"Protection from port scanning. The application has no listening ports, it's \"dark\". It's impossible to detect and directly attack."}),(0,a.jsx)("li",{children:"Continuous authentication. The world is dynamic. Constant authentication is vital."}),(0,a.jsx)("li",{children:"End-to-end encryption. Make sure the data you intend to send is only available to the intended recipient."})]})]}),[v,j]=(0,s.useState)([]);function b(){return Date.now().toString(36)+Math.random().toString(36).substr(2,5)}b();const w=e=>{const t=e.data.split(":"),i=t[0],s=t.slice(1).join(":"),n=((e,t,i)=>(0,a.jsxs)("div",{className:u.toast,children:[(0,a.jsxs)("div",{className:u.toastHeader,children:[(0,a.jsx)("p",{children:e}),(0,a.jsx)("small",{children:t})]}),(0,a.jsx)("div",{className:u.toastBody,children:(0,a.jsx)("p",{children:i})})]}))(i,(()=>{const e=new Date;return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}`})(),s);j((e=>[(0,a.jsx)(x,{delay:"20000",className:u.chatBubbles,children:n},b()),...e]))};(0,s.useEffect)((()=>{new EventSource("https://appetizer.openziti.io/sse").addEventListener("notify",w,!0)}),[]);const[S,C]=(0,s.useState)(!0),[z,N]=(0,s.useState)("Hide Live Messages!");return(0,a.jsxs)(c.h0,{className:u.appetizer,children:[(0,a.jsx)("div",{className:u.liveMsgContainerContainer,style:{minHeight:"100px",maxHeight:"450px"},children:S&&(0,a.jsxs)("div",{className:`${u.liveMsgContainer} ${u.bgImg1}`,children:[(0,a.jsx)("span",{className:u.msgSpan,children:'\ud83d\udc46 live "Reflect" messages will display here'}),(0,a.jsx)("div",{className:`${u.pageWrapper}`,children:v.map(((e,t)=>e))})]})}),(0,a.jsxs)(o.A,{className:u.ozhs,children:[(0,a.jsxs)("div",{className:u.appetizerTitle,children:[(0,a.jsx)("img",{src:"https://raw.githubusercontent.com/openziti/branding/main/images/ziggy/closeups/Ziggy-Chef-Closeup.png",height:"60px",alt:"Ziggy Chef",style:{padding:"0 10px 0 0"}}),(0,a.jsxs)(c.H1,{children:["Appetizer: ",(0,a.jsx)("span",{style:{display:"inline-block"},children:"Taste OpenZiti"})]})]}),(0,a.jsxs)("div",{className:u.exampleContainer,children:[(0,a.jsxs)("div",{className:u.explainer,children:[(0,a.jsxs)("p",{children:["If you have go installed, it's as simple as clone the repo, and\xa0",(0,a.jsx)("code",{children:"go run"}),"\xa0and you can experience application embedded zero trust in action \ud83d\udc47."]}),(0,a.jsx)(h.A,{children:y}),f]}),(0,a.jsxs)("div",{className:`${u.asciinema}`,style:{position:"relative"},children:[(0,a.jsx)("div",{style:{position:"absolute",top:"5px",right:"5px",zIndex:1,flexDirection:"column"},children:(0,a.jsx)("button",{className:"button button--primary",onClick:()=>{C(!S),N(S?"Show Live Messages!":"Hide Live Messages!")},children:z})}),(0,a.jsx)(r,{fit:"width",src:e,loop:!0,autoplay:1,preload:!0})]})]}),(0,a.jsx)("hr",{}),(0,a.jsx)(g,{slides:m,className:u.slideShow,slideTitle:(0,a.jsx)(c.H2,{children:"Taking a Closer Look"}),slideClassName:u.defaultSlideStyle,textClassName:u.slideText,imgClassName:u.slideImage,buttonClassName:"button button--primary"})]})]})}}}]);