"use strict";(self.webpackChunkdocusaurus_3=self.webpackChunkdocusaurus_3||[]).push([[64142],{9832:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>d});var r=t(26684),o=t(74848),i=t(28453);const s={title:"Securing a Dedicated  Palworld Server For My Family with zrok",date:new Date("2024-02-13T23:12:04.000Z"),cuid:"clskz9wz8000009ju1kt7e0ha",slug:"securing-dedicated-palworld-server-with-zrok",authors:["EdwardThompson"],image:"@site/blogs/openziti/v1706800178582/3fa8b1ea-7c9f-4fcc-9245-375f5df55448.jpeg",imageDark:"@site/blogs/openziti/v1706800178582/3fa8b1ea-7c9f-4fcc-9245-375f5df55448.jpeg",tags:["security","openziti","zrok","palworld"]},a=void 0,l={authorsImageUrls:[void 0]},d=[{value:"Securing Palworld",id:"securing-palworld",level:2},{value:"Install zrok",id:"install-zrok",level:3},{value:"Configure the Server Machine",id:"configure-the-server-machine",level:3},{value:"Configure the Client Machine",id:"configure-the-client-machine",level:3},{value:"Important: do not close the resulting terminal windows!",id:"important-do-not-close-the-resulting-terminal-windows",level:3},{value:"Summary",id:"summary",level:2}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components},{LiteYouTubeEmbed:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("LiteYouTubeEmbed",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"I like playing survival games, and my adult sons and I have been looking for a game we could play together. This\nweekend, we discovered Palworld, a new MMO available as an early release on Steam."}),"\n",(0,o.jsxs)(n.p,{children:["We wanted to play on a dedicated server. I recently purchased a gaming laptop, so I set up a dedicated server on the gaming PC I was no longer using. I won't get into setting up the dedicated server - I learned all about it by watching ",(0,o.jsx)(r,{id:"7Erzg2HcBHI",title:"YouTube video"})," You can also checkout the developer's docs on setting one up ",(0,o.jsx)(n.a,{href:"https://tech.palworldgame.com/",children:"here"})]}),"\n",(0,o.jsx)(n.p,{children:"One of my sons lives at home and can access the game over our LAN. The other son has his own house, so I had to open a port over the internet for him to play with us. Ugh."}),"\n",(0,o.jsxs)(n.p,{children:["Enter ",(0,o.jsx)(n.a,{href:"https://zrok.io",children:"zrok"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"securing-palworld",children:"Securing Palworld"}),"\n",(0,o.jsxs)(n.p,{children:["The company I work for, ",(0,o.jsx)(n.a,{href:"https://netfoundry.io",children:"NetFoundry"}),", created zrok, but I hadn't had a chance to use it in the wild yet. I read an article by Clint Dovholuk explaining how to use zrok to secure a Minecraft server - you can read that article ",(0,o.jsx)(n.a,{href:"./minecraft-over-zrok",children:"here"}),'. I followed the steps as a zrok "newbie" to do the same for Palworld.']}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.em,{children:"The instructions below are for setting up zrok and Palworld on a PC. zrok can be run in Windows/Mac/Linux, but Palworld is a PC game."})}),"\n",(0,o.jsx)(n.h3,{id:"install-zrok",children:"Install zrok"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Download zrok from ",(0,o.jsx)(n.a,{href:"https://github.com/openziti/zrok/releases",children:"zrok.io"}),' and unzip the executable. I copied the executable file "zrok.exe" to my home directory.']}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Open a Windows Powershell on the machine where you plan to run the ",(0,o.jsx)(n.strong,{children:"server"})," and navigate to where you installed zrok."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["At this point, you can follow the ",(0,o.jsx)(n.a,{href:"https://docs.zrok.io/docs/getting-started/",children:"zrok Getting Started Guide"}),":"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-powershell",children:"~/zrok invite\n"})}),"\n",(0,o.jsx)(n.p,{children:"Follow the rest of the guide to the point of enabling your zrok network:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-powershell",children:"~/zrok enable <your enable token>\n"})}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Repeat the process on all the computers needing secure game access. It's important to note that you need unique email addresses for each person."}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"configure-the-server-machine",children:"Configure the Server Machine"}),"\n",(0,o.jsx)(n.p,{children:'In this tutorial we will be implementing a "reserved share" for our bridge.'}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["You can use a ",(0,o.jsx)(n.code,{children:"reserved"})," share to persist your ",(0,o.jsx)(n.em,{children:"share token"})," across multiple runs of the ",(0,o.jsx)(n.code,{children:"zrok share"})," bridge. When you use a ",(0,o.jsx)(n.code,{children:"reserved"})," share, the share token will not be deleted between multiple runs of ",(0,o.jsx)(n.code,{children:"zrok share"}),". - ",(0,o.jsx)(n.a,{href:"https://docs.zrok.io/docs/concepts/sharing-reserved/",children:"docs.zrok.io"})]}),"\n"]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"From a Powershell on the machine running the dedicated server:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-powershell",children:"zrok reserve private 127.0.0.1:8211 \\\n  --backend-mode udpTunnel \\\n  --unique-name mypalworldserver\n"})}),"\n",(0,o.jsxs)(n.p,{children:["By default, the game runs on port 8211. We set the --backend-mode to ",(0,o.jsx)(n.strong,{children:"udpTunnel"})," because the game communicates using UDP, not TCP. --unique-name makes it easier to reference the connection. The ",(0,o.jsx)(n.a,{href:"https://docs.zrok.io/docs/getting-started/",children:"Getting Started Guide"}),' explains what it means to create a private connection and the meaning of "reserve."']}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Next, we share the connection."}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-powershell",children:"zrok share reserved mypalworldserver\n"})}),"\n",(0,o.jsx)(n.p,{children:"Important: do not close the resulting terminal window!"}),"\n",(0,o.jsx)(n.p,{children:"That's it for the server machine."}),"\n",(0,o.jsx)(n.h3,{id:"configure-the-client-machine",children:"Configure the Client Machine"}),"\n",(0,o.jsx)(n.p,{children:"In my case, the client machine was my son's gaming laptop."}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"In the PowerShell you previously enabled, enter:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-powershell",children:"zrok access private mypalworldwerver --bind 127.0.0.1:8211\n"})}),"\n",(0,o.jsx)(n.p,{children:"This command tells your laptop to access the server connection at 127.0.0.1:8211, which happens to be the default for Palworld."}),"\n",(0,o.jsx)(n.h3,{id:"important-do-not-close-the-resulting-terminal-windows",children:"Important: do not close the resulting terminal windows!"}),"\n",(0,o.jsx)(n.p,{children:"That leaves us with this: start the game, select Join Multiplayer, enter 127.0.0.1:8211, and connect! You are now playing over a secure network connection that no one can hijack."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(34467).A+"",width:"1244",height:"134"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(46444).A+"",width:"2080",height:"705"})}),"\n",(0,o.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,o.jsx)(n.p,{children:"In this tutorial, I tried to demonstrate how you can create a secure connection between a Palworld server and your gaming laptop, and you didn't need to forward any ports through to your home network!. To do this,"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"We installed and enabled zrok on the server and the client."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"We created and shared a secure connection from the server that the game would recognize."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"We accessed the connection from the client, in this case, the gaming laptop."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"We pointed the game to a port on the local machine (not the server)"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Of course, I only did this for the laptop playing the game over the internet - laptops playing over my in-house LAN were fine."}),"\n",(0,o.jsx)(n.p,{children:"I hope you found this tutorial helpful and see how you might use zrok to secure other games that provide dedicated servers. If you have any questions, feel free to leave comments below."}),"\n",(0,o.jsxs)(n.p,{children:["If you find this useful please consider giving the ",(0,o.jsx)(n.a,{href:"https://github.com/openziti/zrok",children:"zrok"})," (and ",(0,o.jsx)(n.a,{href:"https://github.com/openziti/ziti",children:"openziti"}),", the software zrok uses to provide secure connectivity) a star on ",(0,o.jsx)(n.a,{href:"https://github.com/openziti/zrok",children:"github"}),". I know the developers would appreciate it."]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},34467:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/fbea7523-6653-45cb-8353-04070b5fd207-12c64dce472ef3b6516c52bd32da8ed5.png"},46444:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/af7b7fc8-2852-4d41-abac-dc05eec59f97-761914165de52138a354e3574da656b8.png"},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var r=t(96540);const o={},i=r.createContext(o);function s(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),r.createElement(i.Provider,{value:n},e.children)}},26684:e=>{e.exports=JSON.parse('{"permalink":"/docs/openziti/blog/securing-dedicated-palworld-server-with-zrok","source":"@site/blog/securing-a-dedicated-palworld-server-for-my-family-with-zrok.md","title":"Securing a Dedicated  Palworld Server For My Family with zrok","description":"I like playing survival games, and my adult sons and I have been looking for a game we could play together. This","date":"2024-02-13T23:12:04.000Z","tags":[{"inline":false,"label":"Security","permalink":"/docs/openziti/blog/tags/security","description":"Security-related posts"},{"inline":false,"label":"OpenZiti","permalink":"/docs/openziti/blog/tags/openziti","description":"OpenZiti related content"},{"inline":false,"label":"zrok","permalink":"/docs/openziti/blog/tags/zrok","description":"zrok related content"},{"inline":false,"label":"Palworld","permalink":"/docs/openziti/blog/tags/palworld","description":"Palworld game"}],"readingTime":4.13,"hasTruncateMarker":true,"authors":[{"name":"Edward Thompson","title":"Author","url":"https://github.com/ed4becky","imageURL":"https://avatars.githubusercontent.com/ed4becky","key":"EdwardThompson","page":null}],"frontMatter":{"title":"Securing a Dedicated  Palworld Server For My Family with zrok","date":"2024-02-13T23:12:04.000Z","cuid":"clskz9wz8000009ju1kt7e0ha","slug":"securing-dedicated-palworld-server-with-zrok","authors":["EdwardThompson"],"image":"@site/blogs/openziti/v1706800178582/3fa8b1ea-7c9f-4fcc-9245-375f5df55448.jpeg","imageDark":"@site/blogs/openziti/v1706800178582/3fa8b1ea-7c9f-4fcc-9245-375f5df55448.jpeg","tags":["security","openziti","zrok","palworld"]},"unlisted":false,"prevItem":{"title":"The Python zrok SDK","permalink":"/docs/openziti/blog/the-python-zrok-sdk"},"nextItem":{"title":"Fun with Adaptive Rate Limiting","permalink":"/docs/openziti/blog/fun-with-adaptive-rate-limiting"}}')}}]);