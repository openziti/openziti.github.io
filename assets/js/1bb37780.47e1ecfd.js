"use strict";(self.webpackChunkdocusaurus_3=self.webpackChunkdocusaurus_3||[]).push([[34397],{70628:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>x,contentTitle:()=>p,default:()=>y,frontMatter:()=>h,metadata:()=>r,toc:()=>j});const r=JSON.parse('{"id":"learn/core-concepts/security/authorization/policies/creating-edge-router-policies","title":"creating-edge-router-policies","description":"","source":"@site/docs/learn/core-concepts/security/authorization/policies/creating-edge-router-policies.mdx","sourceDirName":"learn/core-concepts/security/authorization/policies","slug":"/learn/core-concepts/security/authorization/policies/creating-edge-router-policies","permalink":"/docs/openziti/learn/core-concepts/security/authorization/policies/creating-edge-router-policies","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Policies","permalink":"/docs/openziti/learn/core-concepts/security/authorization/policies/overview"},"next":{"title":"creating-service-edge-router-policies","permalink":"/docs/openziti/learn/core-concepts/security/authorization/policies/creating-service-edge-router-policies"}}');var t=n(74848),c=n(28453),o=n(11470),s=n(19365);function l(e){const i={code:"code",li:"li",ol:"ol",strong:"strong",...(0,c.R)(),...e.components};return(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:'On the left side nav bar, click "Ziti Policies"'}),"\n",(0,t.jsx)(i.li,{children:'It should already be selected, but if not, on the top nav bar, click "Edge Router Policies"'}),"\n",(0,t.jsx)(i.li,{children:'In the top right corner of the screen click the "plus" image to add a new edge router policy'}),"\n",(0,t.jsx)(i.li,{children:'Choose a name for the edge router policy, such as "My edge router policy"'}),"\n",(0,t.jsxs)(i.li,{children:["Enter the edge routers you want to include in the policy","\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["Specific edge routers can be referenced by ID or name using ",(0,t.jsx)(i.code,{children:"@"}),".  For example, an edge router called ",(0,t.jsx)(i.code,{children:"us-east-4"})," can be referenced using ",(0,t.jsx)(i.code,{children:"@us-east-4"}),"."]}),"\n",(0,t.jsxs)(i.li,{children:["Edge routers can be referenced by role attribute using ",(0,t.jsx)(i.code,{children:"#"}),". For example, any edge router which has the ",(0,t.jsx)(i.code,{children:"us-seast"})," role attribute will be included if ",(0,t.jsx)(i.code,{children:"#us-east"})," is included in the edge routers roles list."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["Enter the identities you want to include in the policy","\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["Specific identities can be referenced by ID or name using ",(0,t.jsx)(i.code,{children:"@"}),".  For example, an identity called ",(0,t.jsx)(i.code,{children:"jsmith-desktop"})," can be referenced using ",(0,t.jsx)(i.code,{children:"@jsmith-desktop"}),"."]}),"\n",(0,t.jsxs)(i.li,{children:["Identities can be referenced by role attribute using ",(0,t.jsx)(i.code,{children:"#"}),". For example, any identity which has the ",(0,t.jsx)(i.code,{children:"sales"})," role attribute will be included if ",(0,t.jsx)(i.code,{children:"#sales"})," is included in the identities roles list."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["Specify the role semantic","\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["If you select ",(0,t.jsx)(i.code,{children:"Has Any Role"})," then if you specify multiple roles then all entities which include ",(0,t.jsx)(i.strong,{children:"any"})," of the roles will be included."]}),"\n",(0,t.jsxs)(i.li,{children:["If you select ",(0,t.jsx)(i.code,{children:"Must Have All Roles"}),", then if you specify multiple roles then only entities which include ",(0,t.jsx)(i.strong,{children:"all"})," of the given roles will be included"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.li,{children:"Click save"}),"\n"]})}function d(e={}){const{wrapper:i}={...(0,c.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}function a(e){const i={a:"a",code:"code",li:"li",ol:"ol",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.p,{children:"To create an edge router policy using the CLI issue the following commands."}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:["To use the CLI, you'll need to be logged in. ",(0,t.jsx)(i.a,{href:"/docs/openziti/reference/command-line/login",children:"Link to instructions"})]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:["Create an edge router policy named ",(0,t.jsx)(i.code,{children:"my-policy"})," which allows all identities to use all routers."]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-text",children:"ziti edge create edge-router-policy my-policy --identity-roles '#all' --edge-router-roles '#all'\n"})}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:i}={...(0,c.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}const h={},p=void 0,x={},j=[];function g(e){return(0,t.jsxs)(o.A,{children:[(0,t.jsx)(s.A,{value:"tabid-new-edge-router-policy-ui",label:"New edge router policy via UI",children:(0,t.jsx)(d,{})}),(0,t.jsx)(s.A,{value:"tabid-new-edge-router-policy-cli",label:"New edge router policy via CLI",children:(0,t.jsx)(u,{})})]})}function y(e={}){const{wrapper:i}={...(0,c.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(g,{...e})}):g()}},19365:(e,i,n)=>{n.d(i,{A:()=>o});n(96540);var r=n(34164);const t={tabItem:"tabItem_Ymn6"};var c=n(74848);function o({children:e,hidden:i,className:n}){return(0,c.jsx)("div",{role:"tabpanel",className:(0,r.A)(t.tabItem,n),hidden:i,children:e})}},28453:(e,i,n)=>{n.d(i,{R:()=>o,x:()=>s});var r=n(96540);const t={},c=r.createContext(t);function o(e){const i=r.useContext(c);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function s(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(c.Provider,{value:i},e.children)}}}]);