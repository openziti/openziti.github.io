"use strict";(self.webpackChunkdocusaurus_3=self.webpackChunkdocusaurus_3||[]).push([[71487],{50702:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"guides/deployments/kubernetes/kubernetes-console","title":"Kubernetes Console","description":"Find the Console URL","source":"@site/docs/guides/deployments/30-kubernetes/kubernetes-console.mdx","sourceDirName":"guides/deployments/30-kubernetes","slug":"/guides/deployments/kubernetes/kubernetes-console","permalink":"/docs/openziti/guides/deployments/kubernetes/kubernetes-console","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":30,"frontMatter":{"sidebar_position":30,"sidebar_label":"Console","title":"Kubernetes Console"},"sidebar":"docsSidebar","previous":{"title":"Router","permalink":"/docs/openziti/guides/deployments/kubernetes/kubernetes-router"},"next":{"title":"Cloud","permalink":"/docs/openziti/category/cloud"}}');var s=t(74848),r=t(28453),o=t(94058);const a={sidebar_position:30,sidebar_label:"Console",title:"Kubernetes Console"},c=void 0,l={},d=[{value:"Find the Console URL",id:"find-the-console-url",level:2},{value:"Authenticate with a Username and Password",id:"authenticate-with-a-username-and-password",level:2},{value:"Authenticate with an Admin Client Certificate",id:"authenticate-with-an-admin-client-certificate",level:2},...o.RM];function h(e){const n={code:"code",h2:"h2",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"find-the-console-url",children:"Find the Console URL"}),"\n",(0,s.jsxs)(n.p,{children:["Use the console by navigating to the controller's address with path ",(0,s.jsx)(n.code,{children:"/zac/"})," in a web browser. If you published the controller at ",(0,s.jsx)(n.code,{children:"ctrl.ziti.example.com:443"}),", then the console URL is ",(0,s.jsx)(n.code,{children:"https://ctrl.ziti.example.com/zac/"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"The correct console URL is displayed after Helm install or upgrade and may be fetched at any time with Helm."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",metastring:"title=\"Substitute your Helm release name for 'ziti-controller'\"",children:'helm get notes "ziti-controller"\n'})}),"\n",(0,s.jsx)(n.h2,{id:"authenticate-with-a-username-and-password",children:"Authenticate with a Username and Password"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",metastring:'title="Print the username and password"',children:"kubectl get secrets ziti-controller-admin-secret \\\n--output go-template=\\\n'{{range $k,$v := .data}}'\\\n'{{printf \"%s: \" $k}}{{if not $v}}{{$v}}{{else}}{{$v|base64decode}}{{end}}{{\"\\n\"}}'\\\n'{{end}}'\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-buttonless",metastring:'title="Output"',children:"admin-password: UJ2Z4xK1OpagXG94GkAXkR0M4MRNvcOh\nadmin-user: admin\n"})}),"\n",(0,s.jsx)(n.h2,{id:"authenticate-with-an-admin-client-certificate",children:"Authenticate with an Admin Client Certificate"}),"\n",(0,s.jsx)(o.Ay,{})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},94058:(e,n,t)=>{t.d(n,{Ay:()=>a,RM:()=>r});var i=t(74848),s=t(28453);const r=[];function o(e){const n={a:"a",code:"code",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Enroll an admin identity. ",(0,i.jsx)(n.a,{href:"/docs/openziti/reference/command-line/login",children:"Link to instructions"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Unwrap the JSON file to obtain the certificate and private key."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"ziti ops unwrap admin2.json\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Compose a keystore from the certificate and private key. The ",(0,i.jsx)(n.code,{children:"-legacy"})," flag is necessary when importing the keystore into some versions of macOS Keychain Access."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"openssl pkcs12 -export -in admin2.cert -inkey admin2.key -out admin2.p12 -name \"admin2\" -legacy -password 'pass:mypassword'\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Import the keystore:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"macOS: Import into System Keychain via Keychain Access application for Google Chrome. You can run a terminal command or double-click the keystore file or drag it onto the login keychain to import it."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",children:"security import admin2.p12 -k ~/Library/Keychains/login.keychain -T /Applications/Google\\ Chrome.app -P 'mypass'\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Windows: Import into the Windows Certificate Store (Personal store) via certmgr.msc."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Linux: Import into your browser's certificate store or system certificate store (e.g., Chrome Settings > Privacy and Security > Security > Manage certificates)."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Visit the console in your web browser. The browser will prompt with a list of imported client certificates. Select the one you imported in the previous step."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:'Press the "LOGIN" button without entering a password.'}),"\n"]}),"\n"]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var i=t(96540);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);