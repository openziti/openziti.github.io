"use strict";(self.webpackChunkdocusaurus_3=self.webpackChunkdocusaurus_3||[]).push([[4152],{16285:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>p,frontMatter:()=>s,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"learn/core-concepts/config-store/managing","title":"Managing","description":"Managing Configurations","source":"@site/docs/learn/core-concepts/config-store/managing.md","sourceDirName":"learn/core-concepts/config-store","slug":"/learn/core-concepts/config-store/managing","permalink":"/docs/learn/core-concepts/config-store/managing","draft":false,"unlisted":false,"editUrl":"https://github.com/openziti/ziti-doc/tree/main/docusaurus/docs/learn/core-concepts/config-store/managing.md","tags":[],"version":"current","lastUpdatedAt":1743027857000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Consuming","permalink":"/docs/learn/core-concepts/config-store/consuming"},"next":{"title":"Overview","permalink":"/docs/learn/core-concepts/metrics/overview"}}');var c=i(74848),o=i(28453);const s={},r="Managing",a={},d=[{value:"Managing Configurations",id:"managing-configurations",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"managing",children:"Managing"})}),"\n",(0,c.jsx)(n.h2,{id:"managing-configurations",children:"Managing Configurations"}),"\n",(0,c.jsx)(n.p,{children:"Here is a JSON schema, modeled on the tunneler client configuration."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-text",children:'    {\n      "$id": "http://myapp.company.com/schemas/myapp.v1.config.json",\n      "additionalProperties": false,\n      "properties": {\n        "hostname": {\n          "type": "string"\n        },\n        "port": {\n          "maximum": 65535,\n          "minimum": 0,\n          "type": "integer"\n        }\n      },\n      "required": [\n        "hostname",\n        "port"\n      ],\n      "type": "object"\n    }\n'})}),"\n",(0,c.jsxs)(n.p,{children:["Put the schema in a file named ",(0,c.jsx)(n.code,{children:"example-config-type.json"}),", and you can create a configuration type named my-app with it."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"    $ ziti edge create config-type my-app --schema-file example-config-type.json \n"})}),"\n",(0,c.jsx)(n.p,{children:"You can now create a configuration of this type"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:'    $ ziti edge create config ssh-client my-app \\\n        \'{  \n           "hostname" : "ssh.company.com", \n           "port" : 22 \n         }\'\n'})}),"\n",(0,c.jsx)(n.p,{children:"Finally, you can reference this when creating a service."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"    $ ziti edge create service ssh --configs ssh\n"})}),"\n",(0,c.jsx)(n.p,{children:"If a particular site wanted SSH on a different port, you could create a different configuration"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:'    $ ziti edge create config scranton-office-ssh-client my-app \\\n        \'{ \n           "hostname" : "ssh.company.com", \n           "port" : 2222 \n         }\'\n'})}),"\n",(0,c.jsx)(n.p,{children:"The identity corresponding to a tunneler at that site could then be configured to use that configuration."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"    $ ziti edge create identity service scranton-office\n\n    $ ziti edge update identity-configs scranton-office ssh scranton-office-ssh-client\n\n    $ ziti edge list identity service-configs scranton-office\n    service: ssh    config: scranton-office-ssh-client\n    results: 1-1 of 1\n"})}),"\n",(0,c.jsx)(n.p,{children:"Overrides can be removed as well, if they are no longer needed."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"    $ ziti edge update identity-configs scranton-office ssh scranton-office-ssh-client --remove\n\n    $ ziti edge list identity service-configs scranton-office\n    results: none\n"})})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(l,{...e})}):l(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>r});var t=i(96540);const c={},o=t.createContext(c);function s(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:s(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);