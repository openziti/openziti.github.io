"use strict";(self.webpackChunkdocusaurus_3=self.webpackChunkdocusaurus_3||[]).push([[3630],{8064:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>h,contentTitle:()=>o,default:()=>j,frontMatter:()=>c,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"reference/tunnelers/kubernetes/kubernetes-daemonset","title":"Kubernetes Node Daemonset","description":"","source":"@site/docs/reference/tunnelers/80-kubernetes/kubernetes-daemonset.mdx","sourceDirName":"reference/tunnelers/80-kubernetes","slug":"/reference/tunnelers/kubernetes/kubernetes-daemonset","permalink":"/docs/reference/tunnelers/kubernetes/kubernetes-daemonset","draft":false,"unlisted":false,"editUrl":"https://github.com/openziti/ziti-doc/tree/main/docusaurus/docs/reference/tunnelers/80-kubernetes/kubernetes-daemonset.mdx","tags":[],"version":"current","lastUpdatedAt":1743525953000,"sidebarPosition":70,"frontMatter":{"title":"Kubernetes Node Daemonset","sidebar_label":"Node Proxy","sidebar_position":70},"sidebar":"docsSidebar","previous":{"title":"Reverse Proxy Pod","permalink":"/docs/reference/tunnelers/kubernetes/kubernetes-host"},"next":{"title":"Sidecar Proxy","permalink":"/docs/reference/tunnelers/kubernetes/kubernetes-sidecar"}}');var r=t(74848),i=t(28453);function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"ziti-edge-tunnel",children:"ziti-edge-tunnel"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{src:"https://img.shields.io/badge/Version-1.1.1-informational?style=flat-square",alt:"Version: 1.1.1"})," ",(0,r.jsx)(n.img,{src:"https://img.shields.io/badge/Type-application-informational?style=flat-square",alt:"Type: application"})," ",(0,r.jsx)(n.img,{src:"https://img.shields.io/badge/AppVersion-1.3.9-informational?style=flat-square",alt:"AppVersion: 1.3.9"})]}),"\n",(0,r.jsx)(n.p,{children:"Dial OpenZiti services with a tunneler daemonset"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Homepage:"})," <",(0,r.jsx)(n.a,{href:"https://openziti.io",children:"https://openziti.io"}),">"]}),"\n",(0,r.jsx)(n.h2,{id:"source-code",children:"Source Code"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["<",(0,r.jsx)(n.a,{href:"https://github.com/openziti/ziti-tunnel-sdk-c%3E",children:"https://github.com/openziti/ziti-tunnel-sdk-c>"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,r.jsxs)(n.p,{children:["Kubernetes: ",(0,r.jsx)(n.code,{children:">= 1.20.0-0"})]}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"You may use this chart to reach services node-wide via your Ziti network via DNS. For example, if you create a repository or container registry Ziti service, and your cluster has no internet access, you can reach those repositories or container registries via Ziti services."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"NOTE:"}),"\nFor one node kubernetes approaches like k3s, this works out-of-the-box and you can extend your coredns configuration to forward to the Ziti DNS IP, as you can see ",(0,r.jsx)(n.a,{href:"https://openziti.io/docs/guides/kubernetes/workload-tunneling/kubernetes-daemonset/",children:"here"}),".\nFor multinode kubernetes installations, where your cluster DNS could run on a different node, you need to install the ",(0,r.jsx)(n.a,{href:"https://kubernetes.io/docs/tasks/administer-cluster/nodelocaldns/",children:"node-local-dns"})," feature, which secures that the Ziti DNS name will be resolved locally, on the very same tunneler, as Ziti Intercept IPs can change from node to node. See ",(0,r.jsx)(n.a,{href:"https://github.com/lablabs/k8s-nodelocaldns-helm",children:"this"})," helm chart for a possible implementation."]}),"\n",(0,r.jsx)(n.h2,{id:"how-this-chart-works",children:"How this Chart Works"}),"\n",(0,r.jsxs)(n.p,{children:["This chart deploys a pod running ",(0,r.jsx)(n.code,{children:"ziti-edge-tunnel"}),", ",(0,r.jsx)(n.a,{href:"https://docs.openziti.io/docs/reference/tunnelers/linux/",children:"the OpenZiti Linux tunneler"}),", in transparent proxy mode with DNS nameserver. The chart uses container image ",(0,r.jsx)(n.code,{children:"docker.io/openziti/ziti-edge-tunnel"})," which runs ",(0,r.jsx)(n.code,{children:"ziti-edge-tunnel run"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-console",children:"helm repo add openziti https://docs.openziti.io/helm-charts/\n"})}),"\n",(0,r.jsx)(n.p,{children:"After adding the charts repo to Helm then you may enroll the identity and install the chart. You must supply a Ziti identity JSON file when you install the chart."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-console",children:"ziti edge enroll --jwt /tmp/k8s-tunneler.jwt --out /tmp/k8s-tunneler.json\nhelm install ziti-edge-tunnel openziti/ziti-edge-tunnel --set-file zitiIdentity=/tmp/k8s-tunneler-03.json\n"})}),"\n",(0,r.jsx)(n.h3,{id:"installation-using-a-existing--pre-created-secret",children:"Installation using a existing / pre-created secret"}),"\n",(0,r.jsx)(n.p,{children:"Alternatively when you want to use a existing / pre-created secret (i.e. you have sealed-secrets enabled in your setup), you could refer to an existing secret with the ziti identity to use."}),"\n",(0,r.jsx)(n.p,{children:"This sample shows you how to create the secret:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-console",children:"kubectl create secret generic k8s-tunneler-identity --from-file=persisted-identity=k8s-tunneler.json\n"})}),"\n",(0,r.jsx)(n.p,{children:"When you deploy the helm chart refer to the existing secret:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-console",children:"helm install ziti-edge-tunnel openziti/ziti-edge-tunnel --set secret.existingSecretName=k8s-tunneler-identity\n"})}),"\n",(0,r.jsxs)(n.p,{children:["When you don't want to use the default key name ",(0,r.jsx)(n.code,{children:"persisted-identity"})," you can define your own name by adding ",(0,r.jsx)(n.code,{children:"--set secret.keyName=myKeyName"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"configure-coredns",children:"Configure CoreDNS"}),"\n",(0,r.jsxs)(n.p,{children:["If you want to resolve your Ziti domain inside the pods, you need to customize CoreDNS. See ",(0,r.jsx)(n.a,{href:"https://openziti.io/docs/guides/kubernetes/workload-tunneling/kubernetes-daemonset/",children:"Official docs"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"multinode-example",children:"Multinode example"}),"\n",(0,r.jsx)(n.p,{children:"Customise ConfigMap that you apply for node-local-dns by appending the ziti specific domain and the upstream DNS server of ziti-edge-tunnel,"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: node-local-dns\n  namespace: kube-system\n  labels:\n    addonmanager.kubernetes.io/mode: Reconcile\ndata:\n  Corefile: |\n    your.ziti.domain:53 {\n        log\n        errors\n        reload\n        loop\n        bind __PILLAR__LOCAL__DNS__ __PILLAR__DNS__SERVER__\n        forward . 100.64.0.2\n        prometheus :9253\n        }\n    __PILLAR__DNS__DOMAIN__:53 {\n        errors\n        reload\n        loop\n        bind __PILLAR__LOCAL__DNS__ __PILLAR__DNS__SERVER__\n        forward . 100.64.0.2\n        prometheus :9253\n        health __PILLAR__LOCAL__DNS__:8080\n        }\n    in-addr.arpa:53 {\n        errors\n        cache 30\n        reload\n        loop\n        bind __PILLAR__LOCAL__DNS__ __PILLAR__DNS__SERVER__\n        forward . __PILLAR__CLUSTER__DNS__ {\n                force_tcp\n        }\n        prometheus :9253\n        }\n    ip6.arpa:53 {\n        errors\n        cache 30\n        reload\n        loop\n        bind __PILLAR__LOCAL__DNS__ __PILLAR__DNS__SERVER__\n        forward . __PILLAR__CLUSTER__DNS__ {\n                force_tcp\n        }\n        prometheus :9253\n        }\n    .:53 {\n        errors\n        cache 30\n        reload\n        loop\n        bind __PILLAR__LOCAL__DNS__ __PILLAR__DNS__SERVER__\n        forward . __PILLAR__UPSTREAM__SERVERS__\n        prometheus :9253\n        }\n"})}),"\n",(0,r.jsx)(n.p,{children:"Refer to the documentation of NodeLocal DNSCache on how to replace the values starting with two underscores and then apply it by,"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-console",children:"kubectl apply -f nodelocaldns.yaml\n"})}),"\n",(0,r.jsx)(n.h4,{id:"one-node-example",children:"One node example"}),"\n",(0,r.jsx)(n.p,{children:"Customize CoreDNS configuration,"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-console",children:"kubectl -n kube-system apply -f - <<EOF\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: coredns-custom\n  namespace: kube-system\ndata:\n  ziti.server: |\n    your.ziti.domain {\n      forward . 100.64.0.2\n    }\nEOF\n"})}),"\n",(0,r.jsx)(n.p,{children:"Reload CoreDNS config,"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-console",children:"kubectl rollout restart -n kube-system deployment/coredns\n"})}),"\n",(0,r.jsx)(n.h3,{id:"air-gapped-installations",children:"Air gapped installations"}),"\n",(0,r.jsxs)(n.p,{children:["For air gapped clusters, which mirrors their registries over this OpenZiti tunneler,\nthe upgrade will present the chicken-and-egg problem, and the DaemonSet will stay\nat the ",(0,r.jsx)(n.em,{children:"ImagePullBackOff"})," state for ever.\nTo work this problem around, you can install the ",(0,r.jsx)(n.a,{href:"https://github.com/enthus-it/helm-charts/tree/main/charts/prepull-daemonset",children:"prepull-daemonset"}),"\nHelm chart, which can pull the new ",(0,r.jsx)(n.code,{children:"ziti-edge-tunnel"})," image Version needed in beforehand.\nOnce the image is present on every node, you can proceed to upgrade the tunneler without problems."]}),"\n",(0,r.jsx)(n.h2,{id:"values-reference",children:"Values Reference"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Key"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"additionalVolumes"}),(0,r.jsx)(n.td,{children:"list"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"[]"})}),(0,r.jsx)(n.td,{children:"additional volumes to mount to ziti-edge-tunnel container"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"affinity"}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{}"})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"dnsPolicy"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"ClusterFirstWithHostNet"'})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"fullnameOverride"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'""'})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"hostNetwork"}),(0,r.jsx)(n.td,{children:"bool"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"image.args"}),(0,r.jsx)(n.td,{children:"list"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"[]"})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"image.pullPolicy"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"IfNotPresent"'})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"image.registry"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"docker.io"'})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"image.repository"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"openziti/ziti-edge-tunnel"'})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"image.tag"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'""'})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"imagePullSecrets"}),(0,r.jsx)(n.td,{children:"list"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"[]"})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"livenessProbe.exec.command[0]"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"/bin/bash"'})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"livenessProbe.exec.command[1]"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"-c"'})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"livenessProbe.exec.command[2]"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:'`"if (ziti-edge-tunnel tunnel_status'}),(0,r.jsx)(n.td,{children:"sed -E 's/(^received\\sresponse\\s<"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"livenessProbe.failureThreshold"}),(0,r.jsx)(n.td,{children:"int"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"3"})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"livenessProbe.initialDelaySeconds"}),(0,r.jsx)(n.td,{children:"int"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"180"})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"livenessProbe.periodSeconds"}),(0,r.jsx)(n.td,{children:"int"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"60"})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"livenessProbe.successThreshold"}),(0,r.jsx)(n.td,{children:"int"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"1"})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"livenessProbe.timeoutSeconds"}),(0,r.jsx)(n.td,{children:"int"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"10"})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"log.timeFormat"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"utc"'})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"log.tlsUVLevel"}),(0,r.jsx)(n.td,{children:"int"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"3"})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"log.zitiLevel"}),(0,r.jsx)(n.td,{children:"int"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"3"})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"nameOverride"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'""'})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"nodeSelector"}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{}"})}),(0,r.jsx)(n.td,{children:"constrain worker nodes where the ziti-edge-tunnel pod can be scheduled"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"podAnnotations"}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{}"})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"podSecurityContext"}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{}"})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"ports"}),(0,r.jsx)(n.td,{children:"list"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"[]"})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"resources"}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{}"})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"secret"}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{}"})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"securityContext.privileged"}),(0,r.jsx)(n.td,{children:"bool"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"serviceAccount.annotations"}),(0,r.jsx)(n.td,{children:"object"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{}"})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"serviceAccount.create"}),(0,r.jsx)(n.td,{children:"bool"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"serviceAccount.name"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'""'})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"spireAgent.enabled"}),(0,r.jsx)(n.td,{children:"bool"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"false"})}),(0,r.jsx)(n.td,{children:"if you are running a container with the spire-agent binary installed then this will allow you to add the hostpath necessary for connecting to the spire socket"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"spireAgent.spireSocketMnt"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"/run/spire/sockets"'})}),(0,r.jsx)(n.td,{children:"file path of the spire socket mount"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"systemDBus.enabled"}),(0,r.jsx)(n.td,{children:"bool"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})}),(0,r.jsx)(n.td,{children:"enable D-Bus socket connection"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"systemDBus.systemDBusSocketMnt"}),(0,r.jsx)(n.td,{children:"string"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"/var/run/dbus/system_bus_socket"'})}),(0,r.jsx)(n.td,{children:"file path of the System D-Bus socket mount"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"tolerations"}),(0,r.jsx)(n.td,{children:"list"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"[]"})}),(0,r.jsx)(n.td,{})]})]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-console",children:"helm upgrade {release} {source dir}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"log-level-reference",children:"Log Level Reference"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://openziti.io/docs/reference/tunnelers/linux/linux-tunnel-options/#ziti-edge-tunnel-environment-variables",children:"OpenZiti tunneler"})," and ",(0,r.jsx)(n.a,{href:"https://github.com/openziti/tlsuv",children:"TLSUV"})," log levels are represented by integers, as follows,"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"center"},children:(0,r.jsx)(n.em,{children:"Log Level"})}),(0,r.jsx)(n.th,{style:{textAlign:"center"},children:(0,r.jsx)(n.em,{children:"Value"})})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"NONE"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"ERR"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"1"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"WARN"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"2"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"INFO (default)"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"3"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"DEBUG"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"4"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"VERBOSE"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"5"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"TRACE"}),(0,r.jsx)(n.td,{style:{textAlign:"center"},children:"6"})]})]})]})]})}function l(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}const c={title:"Kubernetes Node Daemonset",sidebar_label:"Node Proxy",sidebar_position:70},o=void 0,h={},a=[{value:"Source Code",id:"source-code",level:2},{value:"Requirements",id:"requirements",level:2},{value:"Overview",id:"overview",level:2},{value:"How this Chart Works",id:"how-this-chart-works",level:2},{value:"Installation",id:"installation",level:2},{value:"Installation using a existing / pre-created secret",id:"installation-using-a-existing--pre-created-secret",level:3},{value:"Configure CoreDNS",id:"configure-coredns",level:3},{value:"Multinode example",id:"multinode-example",level:4},{value:"One node example",id:"one-node-example",level:4},{value:"Air gapped installations",id:"air-gapped-installations",level:3},{value:"Values Reference",id:"values-reference",level:2},{value:"Log Level Reference",id:"log-level-reference",level:3}];function x(e){return(0,r.jsx)(l,{})}function j(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(x,{...e})}):x()}},28453:(e,n,t)=>{t.d(n,{R:()=>d,x:()=>l});var s=t(96540);const r={},i=s.createContext(r);function d(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);