"use strict";(self.webpackChunkdocusaurus_3=self.webpackChunkdocusaurus_3||[]).push([[8735],{7867:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>d,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"reference/tunnelers/windows/add-ids/ext-providers/authenticating","title":"Authenticating","description":"Single External Provider","source":"@site/docs/reference/tunnelers/02-windows/add-ids/ext-providers/50-authenticating.mdx","sourceDirName":"reference/tunnelers/02-windows/add-ids/ext-providers","slug":"/reference/tunnelers/windows/add-ids/ext-providers/authenticating","permalink":"/docs/reference/tunnelers/windows/add-ids/ext-providers/authenticating","draft":false,"unlisted":false,"editUrl":"https://github.com/openziti/ziti-doc/tree/main/docusaurus/docs/reference/tunnelers/02-windows/add-ids/ext-providers/50-authenticating.mdx","tags":[],"version":"current","lastUpdatedAt":1743427822000,"sidebarPosition":50,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"By URL","permalink":"/docs/reference/tunnelers/windows/add-ids/ext-providers/ext-jwt-url"},"next":{"title":"Android","permalink":"/docs/reference/tunnelers/android"}}');var r=n(74848),s=n(28453),o=n(70703),a=n(8343);const d={},l="Authenticating",c={},h=[{value:"Single External Provider",id:"single-external-provider",level:2},...o.RM,{value:"More Than One External Provider",id:"more-than-one-external-provider",level:2},...a.RM];function u(e){const t={h1:"h1",h2:"h2",header:"header",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"authenticating",children:"Authenticating"})}),"\n",(0,r.jsx)(t.h2,{id:"single-external-provider",children:"Single External Provider"}),"\n",(0,r.jsx)(o.Ay,{}),"\n",(0,r.jsx)(t.h2,{id:"more-than-one-external-provider",children:"More Than One External Provider"}),"\n",(0,r.jsx)(a.Ay,{})]})}function p(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},8343:(e,t,n)=>{n.d(t,{Ay:()=>a,RM:()=>s});var i=n(74848),r=n(28453);const s=[{value:"Saving a Default Provider",id:"saving-a-default-provider",level:3},{value:"Saving a Default Provider When Authenticated",id:"saving-a-default-provider-when-authenticated",level:4},{value:"Resetting a Default Provider",id:"resetting-a-default-provider",level:3},{value:"Non-Default Provider",id:"non-default-provider",level:3}];function o(e){const t={h3:"h3",h4:"h4",img:"img",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:'If your network is configured with more than one external provider, a popup will be shown when clicking on\r\nthe "authorize IdP" icon. The popup will contain a list of the providers to select from. Choosing a provider from the\r\nlist will begin the authorization flow for the selected provider.'}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"more than one provider",src:n(63995).A+"",width:"419",height:"593"})}),"\n",(0,i.jsx)(t.h3,{id:"saving-a-default-provider",children:"Saving a Default Provider"}),"\n",(0,i.jsx)(t.p,{children:"When using external providers, it's likely users will want to assign a provider as a default. Before\r\nauthenticating, click on the detail entry for the given identity a default should be assigned to. A new screen will\r\nappear looking like the image shown below."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"more than one provider",src:n(85277).A+"",width:"426",height:"505"})}),"\n",(0,i.jsx)(t.p,{children:'To assign a default provider, click the desired provider and click the "Default provider?" checkbox. The UI will remember\r\nthe setting when it is clicked. There is no need to \'save\' this setting. When a default provider is selected on a network\r\nwith multiple providers, no popup will be shown when clicking the "authorize IdP" icon.'}),"\n",(0,i.jsx)(t.h4,{id:"saving-a-default-provider-when-authenticated",children:"Saving a Default Provider When Authenticated"}),"\n",(0,i.jsx)(t.p,{children:"If already authenticated, clicking on the Identity Detail page will show the services assigned and accessible to the user.\r\nThe default provider selection screen can be accessed by clicking the green oidc icon in the top left, shown below. This\r\nicon will toggle between default provider selection and service view."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"oidc / service detail toggle",src:n(34483).A+"",width:"403",height:"390"})}),"\n",(0,i.jsx)(t.h3,{id:"resetting-a-default-provider",children:"Resetting a Default Provider"}),"\n",(0,i.jsx)(t.p,{children:'To reset the default provider simply uncheck the "Default provider" checkbox. When first opening the identity details\r\npage, the default provider will be automatically selected. If another provider is highlighted, choose the default provider\r\nand uncheck the "Default provider" box. There is no need to \'save\' this setting, the values is stored immediately.'}),"\n",(0,i.jsx)(t.h3,{id:"non-default-provider",children:"Non-Default Provider"}),"\n",(0,i.jsx)(t.p,{children:'If a default provider has been selected, users may still elect to authenticate with a different provider. To use a\r\ndifferent provider than the default, open the identity details page and select the provider to authenticate with. Once\r\nselected, click "Authenticate With Provider" and the selected provider will be used to authenticate.'})]})}function a(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},70703:(e,t,n)=>{n.d(t,{Ay:()=>a,RM:()=>s});var i=n(74848),r=n(28453);const s=[];function o(e){const t={img:"img",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"Once the JWT is accepted, a new identity will be added to the ZDEW. Initially, the identity will not be authorized and a\r\nnew icon will show up indicating the user needs to authorize via the external provider. If a single external provider is\r\nconfigured for this OpenZiti overlay network, clicking the icon will being the Auth Flow with PKCE process. During this\r\ntime, the ZDEW will be listening on port 20314."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Authenticating 1",src:n(88755).A+"",width:"423",height:"490"})}),"\n",(0,i.jsx)(t.p,{children:"After successfully completing the authentication with the external provider, the browser will redirect to the listening\r\nport and complete the authentication flow. The user will be shown a screen that looks similar to this. The first time\r\nthis screen is shown in a browser session, it will not automatically close. Subsequent authentication events should\r\nresult in the tab automatically closing."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"pkce-success",src:n(7157).A+"",width:"637",height:"343"})}),"\n",(0,i.jsx)(t.p,{children:"Assuming everything succeeds, the user will see the normal information shown by an authenticated identity."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"after-pkce-success.png",src:n(83517).A+"",width:"404",height:"89"})})]})}function a(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},83517:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/windows-after-pkce-success-69dbb2c3127384034bf0259ccf80946c.png"},88755:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/windows-auth-1-cb265766adc9ecf123738b4a3ef84549.png"},63995:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/windows-more-than-one-provider-cea13ad903e5e9dfa15883d845a33734.png"},34483:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/windows-oidc-toggle-3e2e477e5ecbbaf0d4fb49c2ad96eaf7.png"},85277:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/windows-provider-prefs-126b09d6c2dd7118a350f912cc574755.png"},7157:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/zac-pkce-success-0c084b6d40923a40f820db884adf5492.png"},28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>a});var i=n(96540);const r={},s=i.createContext(r);function o(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);